{"version":3,"sources":["Model/Deck/Deck.ts","common/AspectRatio/AspectRatio.tsx","common/AspectRatio/Ratios.ts","View/Game/Game.tsx","View/UI/StartScreen/DifficultyOptions.ts","View/UI/StartScreen/ControlsPresets.ts","View/UI/StartScreen/Screens/Context.ts","View/UI/StartScreen/Screens/CloseButton.tsx","View/UI/StorageManager.ts","View/UI/StartScreen/Screens/ScreenElement.ts","View/UI/StartScreen/Screens/CookieBanner.tsx","View/UI/StartScreen/Screens/Row.tsx","View/UI/StartScreen/Screens/ScreenNavWrapper.tsx","View/UI/StartScreen/Screens/ScreenNavigator.ts","View/UI/StartScreen/Screens/ScreenContent.tsx","View/UI/StartScreen/Screens/ScreenMainButton.tsx","View/UI/StartScreen/Screens/Controls.tsx","View/UI/StartScreen/Screens/Difficulty.tsx","View/UI/StartScreen/Screens/ScreenSelect.tsx","View/UI/StartScreen/Screens/ScreenToggle.tsx","View/UI/StartScreen/Screens/QuickStart.tsx","View/UI/StartScreen/Screens/Rating.tsx","View/UI/StartScreen/Screens/Suggestions.tsx","View/UI/StartScreen/Screens/Screen.tsx","View/UI/StartScreen/Menu/VerticalMenu.tsx","View/UI/StartScreen/Menu/StartMenu.tsx","View/UI/StartScreen/Home.tsx","App.tsx","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","View/Context.ts","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","common/TouchDetector.js","View/UI/StartScreen/Context.ts","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","Model/Deck/Card.ts","Model/Game/Settings/SuggestionModes.ts","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","GameModes.tsx","View/PauseContext.tsx","common/GamePad.tsx","common/KeyboardLayouts.ts","Model/Deck/DeckSize.ts","common/Keyboard.ts","Common.ts","Model/Deck/Suits.ts","View/UI/StartScreen/RatingOptions.ts","../node_modules/react-gamepad/lib/layouts/index.js","View/UI/StartScreen/AbstractNavigator.ts","Model/Game/Settings/EntropyLevels.ts","View/UI/StartScreen/Menu/MenuButton.tsx","View/UI/StartScreen/Menu/MenuTitle.tsx","View/UI/StartScreen/Menu/TreeNavWrapper.tsx","View/UI/StartScreen/Menu/TreeNavigator.ts","View/UI/StartScreen/Menu/MenuTree.tsx","../node_modules/react-gamepad/lib/index.js","../node_modules/react-gamepad/lib/Gamepad.js","../node_modules/react-gamepad/lib/layouts/XBOX.js","../node_modules/react-toggle/dist/component/index.js","../node_modules/classnames/index.js","../node_modules/react-toggle/dist/component/check.js","../node_modules/react-toggle/dist/component/x.js","../node_modules/react-toggle/dist/component/util.js"],"names":["Deck","cards","keys","Object","Suits","this","DeckSize","map","deckSize","key","Card","flat","reverse","shuffleArray","array","i","length","j","Math","floor","random","result","copyAll","AspectRatio","props","state","width","height","updateWindowDimensions","bind","window","addEventListener","removeEventListener","setState","innerWidth","innerHeight","suffix","ratio","multiplier","className","prefix","children","React","Component","Ratios","_16to9","_4to3","BoardWrap","lazy","SinglePlayer","launchState","deck","restart","player","settings","SplitScreen","boardMode","inputMode","players","inputMethod","copy","Game","useState","started","setStarted","useEffect","Date","now","DelayedSuspense","delay","fallback","GameModes","SINGLEPLAYER","VERSUS","DifficultyOptions","id","drawMode","recyclingMode","icon","lines","ControlPresets","inputLayout","ScreenContext","createContext","closeScreen","CloseButton","useContext","onClick","StorageManager","hasConsent","consent","localStorage","getItem","parseInt","giveConsent","prompt","confirm","setItem","revokeConsent","clear","store","value","JSON","stringify","getPreviousState","parse","getScreenElementClassName","base","hasFocus","disabled","useFocusEffect","inputEl","current","document","activeElement","focus","RenderCookieBanner","navigation","NavigationContext","y","x","screen","useRef","consented","ref","setConsented","CookieBanner","CookieContext","Row","navigator","addElement","child","index","skip","rows","buttons","cloneElement","Array","isArray","ScreenNavWrapper","setNavigation","assignState","inputHandlers","onCancel","screeen","mainMenu","menu","onUp","moveUp","onDown","moveDown","onLeft","moveLeft","onRight","moveRight","onAction","action","Keyboard","layout","Universal","GamePad","ScreenNavigator","getRows","goToRow","row","getRow","click","AbstractNavigator","ScreenContent","_index","_i","addRow","ScreenMainButton","pos","autoFocus","onFocus","line","Controls","StartScreenContext","found","buttonPressed","pads","setPads","press","console","log","playerHasSettings","playerId","isActive","applyPreset","nextPlayer","getButtonClass","blockedByOtherPlayers","otherPlayers","filter","p","getLines","preset","name","slice","gamepadIndex","Difficulty","difficultySettings","renderButton","button","_ScreenSelect","label","values","callBack","toString","description","ScreenSelect","_ScreenToggle","useInitialFocus","checked","onChange","val","ScreenToggle","optimizeOptions","entropy","quickDeal","QuickStart","getClassName","entropySettings","baseEntropy","interactionEntropy","EntropyLevels","Rating","ratingPreset","customizeRating","modifier","next","ratingSettings","RatingPresets","matchPreset","ALL","apply","undoPenalty","r","timedMode","hintPenalty","ratingModifier","customizeRating2","s","suggestionMode","SuggestionModes","NONE","REGULAR","missPenalty","Suggestions","suggestionModes","allSuggestionModes","renderToggle","mode","Screen","Provider","VerticalMenu","StartMenu","switchToMenu","toggleScreen","switchToScreen","toggleMainMenu","toggleConsent","revoke","storage","MenuTitle","MenuTree","keyboardLayout","MenuButton","title","start","toggled","Home","startPos","navigationContext","previous","defaultStartScreenState","startScreenContext","cookieContext","initialized","App","defaultState","defaultPlayerSettings","setLaunchState","shuffle","_classCallCheck","instance","Constructor","TypeError","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","_objectSpread2","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defaultValue","replaceContext","updateContext","updateGameContext","GlobalContext","CookieContextProvider","_toConsumableArray","arr","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TouchDetector","prefixes","split","DocumentTouch","query","join","matchMedia","matches","e","error","NavigationProvider","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_typeof","constructor","prototype","_possibleConstructorReturn","self","call","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Super","NewTarget","_setPrototypeOf","_inherits","subClass","superClass","create","face","type","isHidden","entropyStyle","suggestion","success","canClick","setSuccess","causeEntropy","lvl","level","randomInt","min","max","equals","other","_p","card","otherCard","orig","SuggestionMode","isTemporary","supportsHints","SCORED","FULL","ONCE","TWICE","raw","get","all","default","getHintMode","_defineProperties","descriptor","_createClass","protoProps","staticProps","_assertThisInitialized","ReferenceError","defaultPauseState","end","paused","pauses","pauseStartedAt","allowed","pausedBy","showMenu","defaultPauseContext","togglePause","getElapsed","PauseContext","PauseContextProvider","PauseProvider","setPaused","context","isPaused","padleft","msec","reduce","a","b","getElapsedMs","hh","mm","ss","handlers","onButtonDown","debug","onHint","onUndo","onPause","onMenu","onConnect","onDisconnect","getKeyboardLayout","Wasd","Arrows","NumPad","up","keyCode","down","right","left","cancel","undo","ctrlKey","hint","pause","getFoundationOrder","getTableauOrder","navListener","evtobj","event","preventDefault","0","1","heart","color","club","diamond","spade","after","CHILL","COMPETITIVE","filterd","s1","s2","exports","XBOX","undefined","_XBOX","require","_XBOX2","__esModule","_MenuButton","menuX","menuY","menuFocus","setClicking","active","isClicking","onMouseDown","TreeNavWrapper","TreeNavigator","layouts","Gamepad","_Gamepad2","_interopRequireDefault","_layouts2","_react","_react2","_layouts","_React$Component","_this","padState","connected","A","B","X","Y","LB","LT","LS","RB","RT","RS","Start","Back","DPadUp","DPadRight","DPadDown","DPadLeft","axis","LeftStickX","LeftStickY","RightStickX","RightStickY","RightTrigger","LeftTrigger","mounted","requestAnimationFrame","updateGamepad","gamepads","getGamepads","gamepad","updateAllButtons","updateAllAxis","pressed","buttonName","buttonIndexToButtonName","updateButton","axisName","buttonIndexToAxisName","updateAxis","onButtonChange","replace","axes","axisIndexToAxisName","originalValue","NaN","invert","abs","deadZone","substr","previousValue","onAxisChange","stickThreshold","buttonAxis","Children","only","defaultProps","onButtonUp","onA","onB","onX","onY","onStart","onBack","onLT","onRT","onLB","onRB","onLS","onRS","Toggle","_extends","assign","hasOwnProperty","_classnames2","_propTypes2","_check2","_x2","_util","forwardRef","createElement","innerref","_PureComponent","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","handleFocus","handleBlur","previouslyChecked","defaultChecked","prevProps","checkbox","input","moved","startX","pointerCoord","activated","currentX","endX","onBlur","icons","_this2","_props","inputProps","indexOf","_objectWithoutProperties","classes","onTouchStart","onTouchMove","onTouchEnd","getIcon","PureComponent","displayName","unchecked","propTypes","bool","func","string","oneOfType","shape","node","hasOwn","classNames","arg","argType","inner","module","viewBox","d","fill","fillRule","changedTouches","touch","clientX","clientY","pageX","pageY"],"mappings":"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","file":"static/js/2.a5950c47.chunk.js","sourcesContent":["import Card from \"./Card\";\nimport { DeckSize } from \"./DeckSize\";\nimport Suits from \"./Suits\";\n\nexport default class Deck {\n    cards: Card[];\n    constructor() {\n        const keys = Object.keys(Suits);\n        this.cards = DeckSize.map((deckSize) => [...keys.map((key) => new Card(deckSize, Suits[key], true))])\n            .flat()\n            .reverse();\n    }\n\n    shuffle() {\n        this.shuffleArray(this.cards);\n        return this;\n    }\n\n    // credits: https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n    shuffleArray(array: any[]) {\n        for (let i = array.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [array[i], array[j]] = [array[j], array[i]];\n        }\n    }\n\n    copy() {\n        const result = new Deck();\n        result.cards = Card.copyAll(this.cards);\n        return result;\n    }\n}\n","import \"./16to9.css\";\nimport \"./4to3.css\";\nimport \"./aspectratio.css\";\n\nimport { Ratio } from \"./Ratios\";\nimport React from \"react\";\n\nexport default class AspectRatio extends React.Component<{ ratio: Ratio }, { width: number; height: number }> {\n    constructor(props: any) {\n        super(props);\n        this.state = { width: 0, height: 0 };\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions() {\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    render() {\n        const suffix = this.state.width >= this.state.height * this.props.ratio.multiplier ? \"landscape\" : \"portrait\";\n        return (\n            <div className=\"appwrapper\">\n                <div className={`appwrapper-${this.props.ratio.prefix}-` + suffix}>\n                    <div className={`appwrapper-${this.props.ratio.prefix}-` + suffix + \"-inner\"}>\n                        <div className=\"appwrapper-jail\">{this.props.children}</div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","export interface Ratio {\n    prefix: string;\n    multiplier: number;\n}\nexport default class Ratios {\n    static _16to9: Ratio = {\n        prefix: \"16-to-9\",\n        multiplier: 1.7778,\n    };\n    static _4to3: Ratio = {\n        prefix: \"4-to-3\",\n        multiplier: 1.3333,\n    };\n}\n","import AspectRatio from \"../../common/AspectRatio/AspectRatio\";\nimport Deck from \"../../Model/Deck/Deck\";\nimport DelayedSuspense from \"../../common/DelayedSuspense\";\nimport GameModes from \"../../GameModes\";\nimport { LaunchSettings } from \"../../Common\";\nimport { PauseProvider } from \"../PauseContext\";\nimport Ratios from \"../../common/AspectRatio/Ratios\";\nimport React from \"react\";\n\nconst BoardWrap = React.lazy(() => import(\"./BoardWrap\"));\n\ninterface GameProps {\n    launchState: LaunchSettings;\n    deck: Deck;\n    restart: () => void;\n}\n\nconst SinglePlayer = (props: GameProps) => {\n    const { launchState, deck, restart } = props;\n    return (\n        <AspectRatio ratio={Ratios._4to3}>\n            <div className={\"layout-grid-container singleplayer\"}>\n                <BoardWrap player={0} settings={launchState} restart={restart} deck={deck} />\n            </div>\n        </AspectRatio>\n    );\n};\n\nconst SplitScreen = (props: GameProps) => {\n    const { launchState, deck, restart } = props;\n    return (\n        <div className=\"game-layout-container splitscreen\">\n            <div className={\"layout-grid-container \" + launchState.boardMode}>\n                <BoardWrap\n                    player={0}\n                    settings={{ ...launchState, inputMode: launchState.players[0].inputMethod }}\n                    restart={restart}\n                    deck={deck.copy()}\n                />\n            </div>\n\n            <div className={\"layout-grid-container \" + launchState.boardMode}>\n                <BoardWrap\n                    player={1}\n                    settings={{ ...launchState, inputMode: launchState.players[1].inputMethod }}\n                    restart={restart}\n                    deck={deck.copy()}\n                />\n            </div>\n        </div>\n    );\n};\n\nconst Game = (props: GameProps) => {\n    const [started, setStarted] = React.useState<number>(0);\n    React.useEffect(() => setStarted(Date.now()), []);\n    return (\n        <PauseProvider started={started}>\n            <DelayedSuspense delay={500} fallback={<h3>Loading...</h3>}>\n                {props.launchState.boardMode == GameModes.SINGLEPLAYER && <SinglePlayer {...props} />}\n                {props.launchState.boardMode == GameModes.VERSUS && <SplitScreen {...props} />}\n            </DelayedSuspense>\n        </PauseProvider>\n    );\n};\n\nexport default Game;\n","export interface DifficultyOption {\n    id: number;\n    settings: {\n        drawMode: string;\n        recyclingMode: string;\n    };\n    icon: string;\n    lines: string[];\n}\nconst DifficultyOptions: DifficultyOption[] = [\n    {\n        id: 0,\n        settings: { drawMode: \"single\", recyclingMode: \"infinite\" },\n        icon: \"\",\n        lines: [\"Turn 1 card\", \"No Limit\"],\n    },\n    {\n        id: 1,\n        settings: { drawMode: \"single\", recyclingMode: \"3-pass\" },\n        icon: \"\",\n        lines: [\"Turn 1 card\", \"Three passes\"],\n    },\n    {\n        id: 2,\n        settings: { drawMode: \"single\", recyclingMode: \"1-pass\" },\n        icon: \"\",\n        lines: [\"Turn 1 card\", \"Only a single pass\"],\n    },\n    {\n        id: 3,\n        settings: { drawMode: \"triple\", recyclingMode: \"infinite\" },\n        icon: \"\",\n        lines: [\"Turn 3 cards\", \"No limit\"],\n    },\n    {\n        id: 4,\n        settings: { drawMode: \"triple\", recyclingMode: \"3-pass\" },\n        icon: \"\",\n        lines: [\"Turn 3 cards \", \"Three passes\"],\n    },\n    {\n        id: 5,\n        settings: { drawMode: \"triple\", recyclingMode: \"1-pass\" },\n        icon: \"\",\n        lines: [\"Turn 3 cards \", \"Only a single pass\"],\n    },\n];\n\nexport default DifficultyOptions;\n","export interface IControlPreset {\n    id: number;\n    icon: string;\n    inputMethod: string;\n    inputLayout: number;\n    lines: string[],\n}\nexport const ControlPresets: IControlPreset[] = [\n    {\n        id: 0,\n        icon: \"\",\n        inputMethod: \"mouse\",\n        inputLayout: 0,\n        lines: [\"Mouse or\", \"Touchpad\"],\n    },\n    {\n        id: 1,\n        icon: \"\",\n        inputMethod: \"gamepad\",\n        inputLayout: 0,\n        lines: [\"Gamepad 1\"],\n    },\n    {\n        id: 2,\n        icon: \"\",\n        inputMethod: \"gamepad\",\n        inputLayout: 1,\n        lines: [\"Gamepad 2\"],\n    },\n    {\n        id: 3,\n        icon: \"\",\n        inputMethod: \"keyboard\",\n        inputLayout: 0,\n        lines: [\"Keyboard\", \"WASD\"],\n    },\n    {\n        id: 4,\n        icon: \"\",\n        inputMethod: \"keyboard\",\n        inputLayout: 1,\n        lines: [\"Keyboard\", \"ARROWS\"],\n    },\n    {\n        id: 5,\n        icon: \"\",\n        inputMethod: \"keyboard\",\n        inputLayout: 2,\n        lines: [\"Keyboard\", \"NUMPAD\"],\n    },\n];\n","import React from \"react\";\n\ninterface IScreenContext {\n    closeScreen: () => void;\n}\n\nconst ScreenContext = React.createContext<IScreenContext>({\n    closeScreen: () => {},\n});\n\nexport default ScreenContext;\n","import React from \"react\";\nimport ScreenContext from \"./Context\";\n\nconst CloseButton = () => {\n    const { closeScreen } = React.useContext(ScreenContext);\n    return (\n        <div className=\"closer\">\n            <button onClick={closeScreen}></button>\n        </div>\n    );\n};\n\nexport default CloseButton;\n","import { StartScreenState } from \"./StartScreen/Context\";\n\nexport default class StorageManager {\n    hasConsent = () => {\n        const consent = localStorage.getItem(\"consent\");\n        return consent && !!parseInt(consent);\n    };\n\n    giveConsent = () => ({\n        prompt: \"Allow this game to store settings, so your changes will stay. No data leaves your computer.\",\n        confirm: () => {\n            localStorage.setItem(\"consent\", \"1\");\n        },\n    });\n    \n    revokeConsent = () => ({\n        prompt: \"Delete all local stored data? All settings will be lost.\",\n        confirm: () => {\n            localStorage.clear();\n        },\n    });\n\n    store = (value: StartScreenState) => {\n        if (this.hasConsent()) {\n            localStorage.setItem(\"state\", JSON.stringify(value));\n        }\n    };\n\n    getPreviousState = () => {\n        if (this.hasConsent()) {\n            const state = localStorage.getItem(\"state\");\n            return state != null ? JSON.parse(state) : null;\n        }\n        return null;\n    };\n}\n","import React from \"react\";\nimport { XY } from \"../../XY\";\n\nexport interface Focusable {\n    hasFocus: boolean;\n    autoFocus?: boolean;\n}\n\nexport interface MenuInpputElementProps extends Focusable {\n    disabled?: boolean;\n}\n\nexport const getScreenElementClassName = (base: string, props: MenuInpputElementProps) => {\n    let className = base;\n    if (props.hasFocus) {\n        className += \" focused\";\n    }\n    if (props.disabled) {\n        className += \" disabled\";\n    }\n    return className;\n};\n\nexport const useFocusEffect = (props: Focusable, inputEl: React.RefObject<HTMLElement>) => {\n    React.useEffect(() => {\n        if (props.hasFocus && inputEl && inputEl.current && inputEl.current !== document.activeElement) {\n            inputEl.current.focus();\n        }\n    }, [props.hasFocus, inputEl]);\n};\n\nexport const useInitialFocus = (props: Focusable, inputEl: React.RefObject<HTMLElement>, pos: XY) => {\n    React.useEffect(() => {\n        if (\n            props.autoFocus &&\n            !props.hasFocus &&\n            inputEl &&\n            inputEl.current &&\n            inputEl.current !== document.activeElement &&\n            pos.x == -1 &&\n            pos.y == -1\n        ) {\n            inputEl.current.focus();\n        }\n    }, [inputEl]);\n};\n","import StorageManager from \"../../StorageManager\";\nimport React from \"react\";\nimport { CookieContext, ICookieContext } from \"../../../Context\";\nimport { useFocusEffect } from \"./ScreenElement\";\nimport { XY } from \"../../XY\";\nimport {NavigationContext} from \"../Context\";\n\ninterface RenderCookieBannerProps extends ICookieContext, XY {}\n\nconst RenderCookieBanner = (props: RenderCookieBannerProps) => {\n    const { navigation } = React.useContext(NavigationContext);\n    const hasFocus = (y: number, x: number) => navigation.focus == \"screen\" && navigation.screen.x == x && navigation.screen.y == y;\n    const inputEl = React.useRef<HTMLButtonElement>(null);\n    useFocusEffect({ hasFocus: hasFocus(props.y, props.x) }, inputEl);\n    let className = \"cookiebanner\";\n    if (hasFocus(props.y, props.x)) {\n        className += \" focused\";\n    }\n    return !props.consented ? (\n        <button\n            ref={inputEl}\n            className={className}\n            onClick={() => {\n                const storage = new StorageManager();\n                const consent = storage.giveConsent();\n                if (!props.consented && confirm(consent.prompt)) {\n                    consent.confirm();\n                    props.setConsented(true);\n                }\n            }}\n        >\n            <div className=\"icon\"></div>\n            <div className=\"message\">\n                <b>Changes on this page will be lost after each game</b>, until you allow this app to store data on your machine. Click here\n                to give consent.\n            </div>\n        </button>\n    ) : null;\n};\n\nconst CookieBanner = (props: { x?: number; y?: number }) => {\n    if (typeof props.x == \"undefined\" || typeof props.y == \"undefined\") {\n        return null;\n    }\n    const { consented, setConsented } = React.useContext(CookieContext);\n    return <RenderCookieBanner x={props.x} y={props.y} consented={consented} setConsented={setConsented} />;\n};\n\nexport default CookieBanner;\n","import React from \"react\";\nimport { ScreenNavigator } from \"./ScreenNavigator\";\n\nconst Row = (props: { skip?: boolean; y?: number; navigator?: ScreenNavigator; children?: any[] | any | undefined }) => {\n    if (typeof props.y == \"undefined\" || typeof props.navigator == \"undefined\") {\n        return null;\n    }\n    const addElement = (child: any, index: number) => {\n        if (!child) return null;\n        const assign = (n: any[]) => {\n            n[props.y || 0].buttons[index || 0] = { x: index, y: props.y };\n        };\n        if (!props.skip) {\n            assign(props.navigator?.rows || []);\n        }\n        return React.cloneElement(child, { key: index, x: index, y: props.y });\n    };\n    return !props.children ? null : (\n        <div className=\"row\">{Array.isArray(props.children) ? props.children.map(addElement) : addElement(props.children, 0)}</div>\n    );\n};\nexport default Row;\n","import GamePad from \"../../../../common/GamePad\";\nimport Keyboard from \"../../../../common/Keyboard\";\nimport { NavigationContext } from \"../Context\";\nimport React from \"react\";\nimport { ScreenNavigator } from \"./ScreenNavigator\";\nimport { Universal } from \"../../../../common/KeyboardLayouts\";\nimport { XY } from \"../../XY\";\n\nconst ScreenNavWrapper = (props: { navigator: ScreenNavigator; screen: string }) => {\n    const { navigator } = props;\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n\n    const assignState = (result: XY) => {\n        if (navigation.focus == \"screen\") {\n            setNavigation({ ...navigation, screen: result });\n        }\n    };\n\n    const inputHandlers = {\n        onCancel: () =>\n            setNavigation({ ...navigation, focus: \"menu\", screeen: \"\", mainMenu: navigation.mainMenu, menu: { ...navigation.menu } }),\n        onUp: () => assignState(navigator.moveUp(navigation.screen.x, navigation.screen.y)),\n        onDown: () => assignState(navigator.moveDown(navigation.screen.x, navigation.screen.y)),\n        onLeft: () => assignState(navigator.moveLeft(navigation.screen.x, navigation.screen.y)),\n        onRight: () => assignState(navigator.moveRight(navigation.screen.x, navigation.screen.y)),\n        onAction: () => navigator.action(navigation.screen),\n    };\n\n    return navigation.focus == \"screen\" ? (\n        <>\n            <Keyboard layout={Universal} {...inputHandlers} />\n            <GamePad {...inputHandlers} />\n        </>\n    ) : null;\n};\nexport default ScreenNavWrapper;\n","import AbstractNavigator from \"../AbstractNavigator\";\nimport { NavHandler } from \"../../NavHandler\";\nimport { XY } from \"../../XY\";\n\nexport class ScreenNavigator extends AbstractNavigator implements NavHandler {\n    moveUp: (x: number, y: number) => XY = (x, y) => {\n        const rows = this.getRows();\n        if (y == 0) {\n            return this.goToRow({ x: x, y: rows.length - 1 });\n        }\n        return this.goToRow({ x: x, y: y - 1 });\n    };\n\n    moveDown: (x: number, y: number) => XY = (x, y) => {\n        const rows = this.getRows();\n        if (y == rows.length - 1) {\n            return this.goToRow({ x: x, y: 0 });\n        }\n        return this.goToRow({ x: x, y: y + 1 });\n    };\n\n    moveLeft: (x: number, y: number) => XY = (x, y) => {\n        const row = this.getRow(y);\n        if (x == 0) {\n            return { x: row.buttons.length - 1, y: y };\n        }\n        return { x: x - 1, y: y };\n    };\n\n    moveRight: (x: number, y: number) => XY = (x, y) => {\n        const row = this.getRow(y);\n        if (x == row.buttons.length - 1) {\n            return { x: 0, y: y };\n        }\n        return { x: x + 1, y: y };\n    };\n\n    action: (xy: XY) => void = () => {\n        const activeElement: any = document.activeElement;\n        activeElement && activeElement.click();\n    };\n}\n","import React from \"react\";\nimport ScreenNavWrapper from \"./ScreenNavWrapper\";\nimport { ScreenNavigator } from \"./ScreenNavigator\";\n\nconst ScreenContent = (props: { id: string; children: any[] }) => {\n    const navigator = new ScreenNavigator();\n    let _index = -1;\n    let _i = -1;\n    const addRow = (child: any) => {\n        _i++;\n        if (!child.props.skip) {\n            _index++;\n            navigator.rows[_index] = { buttons: [] };\n        }\n        return React.cloneElement(child, { key: _i, x: 0, y: _index, navigator: navigator });\n    };\n    return (\n        <div className=\"content\">\n            {props.children.map((child) => addRow(child))}\n            <ScreenNavWrapper navigator={navigator} screen=\"rating\" />\n        </div>\n    );\n};\n\nexport default ScreenContent;\n","import { NavigationContext } from \"../Context\";\nimport React from \"react\";\nimport { XY } from \"../../XY\";\n\ninterface ScreenMainButtonProps {\n    x?: number;\n    y?: number;\n    id: number;\n    icon: string;\n    className: (pos: XY) => string;\n    lines: string[];\n    onClick: () => void;\n    autoFocus: boolean;\n    disabled?: boolean;\n}\nconst ScreenMainButton = (props: ScreenMainButtonProps) => {\n    if (typeof props.x == \"undefined\" || typeof props.y == \"undefined\") {\n        return null;\n    }\n\n    const pos = { x: props.x, y: props.y };\n    const inputEl = React.useRef<HTMLButtonElement>(null);\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n    const hasFocus = navigation.focus == \"screen\" && navigation.screen.x == props.x && navigation.screen.y == props.y;\n    React.useEffect(() => {\n        if (hasFocus && inputEl && inputEl.current && inputEl.current !== document.activeElement) {\n            inputEl.current.focus();\n        }\n    }, [inputEl, hasFocus]);\n\n    React.useEffect(() => {\n        if (\n            props.autoFocus &&\n            !hasFocus &&\n            inputEl &&\n            inputEl.current &&\n            inputEl.current !== document.activeElement &&\n            navigation.screen.x == -1 &&\n            navigation.screen.y == -1\n        ) {\n            inputEl.current.focus();\n        }\n    }, [inputEl]);\n    const focus = () => {\n        if (!hasFocus) {\n            setNavigation({ ...navigation, screen: { x: props.x || 0, y: props.y || 0 } });\n        }\n    };\n    const click = () => {\n        props.onClick();\n        setNavigation({ ...navigation, screen: { x: props.x || 0, y: props.y || 0 } });\n    };\n    return (\n        <button\n            onFocus={focus}\n            ref={inputEl}\n            key={props.id}\n            disabled={props.disabled}\n            className={props.className(pos)}\n            onClick={click}\n        >\n            {props.icon}\n            {props.lines.map((line: string, index: number) => (\n                <div key={index}>{line}</div>\n            ))}\n        </button>\n    );\n};\n\n\nexport default ScreenMainButton;\n","import { ControlPresets, IControlPreset } from \"../ControlsPresets\";\nimport StartScreenContext, { NavigationContext } from \"../Context\";\n\nimport CloseButton from \"./CloseButton\";\nimport CookieBanner from \"./CookieBanner\";\nimport { CookieContext } from \"../../../Context\";\nimport GamePad from \"../../../../common/GamePad\";\nimport React from \"react\";\nimport Row from \"./Row\";\nimport ScreenContent from \"./ScreenContent\";\nimport ScreenMainButton from \"./ScreenMainButton\";\nimport { XY } from \"../../XY\";\n\nconst Controls = (props: { player: number }) => {\n    const { state, setState } = React.useContext(StartScreenContext);\n    const { navigation } = React.useContext(NavigationContext);\n\n    const player = state.players[props.player];\n\n    if (!player) {\n        return null;\n    }\n\n    const [pads, setPads] = React.useState([\n        {\n            found: false,\n            buttonPressed: false,\n        },\n        {\n            found: false,\n            buttonPressed: false,\n        },\n    ]);\n\n    const press = (i: number) => {\n        pads[i].found = true;\n        pads[i].buttonPressed = true;\n        setPads({ ...pads });\n        console.log(pads);\n    };\n\n    const { consented } = React.useContext(CookieContext);\n\n    const playerHasSettings = (id: number, playerId: number) =>\n        state.players[playerId].inputLayout == ControlPresets[id].inputLayout &&\n        state.players[playerId].inputMethod == ControlPresets[id].inputMethod;\n\n    const isActive = (id: number) => playerHasSettings(id, props.player);\n\n    const applyPreset = (id: number) => {\n        const nextPlayer = { ...state.players };\n        nextPlayer[props.player].inputMethod = ControlPresets[id].inputMethod;\n        nextPlayer[props.player].inputLayout = ControlPresets[id].inputLayout;\n        setState({ ...state, players: nextPlayer });\n    };\n\n    const getButtonClass = (id: number, pos: XY) => {\n        let className = pos.x + \"\" + pos.y + \" \" + navigation.screen.x + \"\" + navigation.screen.y + \" \";\n        className += navigation.screen.x == pos.x && navigation.screen.y == pos.y ? \" focused\" : \"\";\n        className += isActive(id) ? \" active-0\" : \" inactive-0\";\n        className += blockedByOtherPlayers(id) ? \" disabled\" : \"\";\n        return className;\n    };\n\n    const blockedByOtherPlayers = (id: number) => {\n        const otherPlayers = [0, 1].filter((p) => p !== props.player);\n        return playerHasSettings(id, otherPlayers[0]);\n    };\n\n    const getLines = (preset: IControlPreset) => {\n        if (preset.inputMethod == \"gamepad\") {\n            return [...preset.lines, pads[preset.inputLayout].found || pads[preset.inputLayout].buttonPressed ? \"Connected\" : \"Not Found\"];\n        }\n        return preset.lines;\n    };\n\n    return (\n        <div className=\"controls startdetails\">\n            <CloseButton />\n            <div className=\"title\">{player.name}</div>\n            <ScreenContent id=\"settings\">\n                <Row skip={consented}>\n                    <CookieBanner />\n                </Row>\n                <Row>\n                    {ControlPresets.slice(0, 3).map((preset) => (\n                        <ScreenMainButton\n                            key={preset.id}\n                            icon={preset.icon}\n                            id={preset.id}\n                            disabled={blockedByOtherPlayers(preset.id)}\n                            autoFocus={isActive(preset.id)}\n                            className={(pos: XY) => getButtonClass(preset.id, pos)}\n                            onClick={() => applyPreset(preset.id)}\n                            lines={getLines(preset)}\n                        />\n                    ))}\n                </Row>\n                <Row>\n                    {ControlPresets.slice(3).map((preset) => (\n                        <ScreenMainButton\n                            key={preset.id}\n                            icon={preset.icon}\n                            id={preset.id}\n                            disabled={blockedByOtherPlayers(preset.id)}\n                            autoFocus={isActive(preset.id)}\n                            className={(pos: XY) => getButtonClass(preset.id, pos)}\n                            onClick={() => applyPreset(preset.id)}\n                            lines={preset.lines}\n                        />\n                    ))}\n                </Row>\n                <Row skip={true}>\n                    <div className=\"togglecontainer\">\n                        <div className=\"title\">@todo</div>\n                        <div className=\"toggle\"></div>\n                        <div className=\"description\">Describe Layout of currently selected input method</div>\n                    </div>\n                    <div className=\"togglecontainer\">\n                        <div className=\"title\">@todo</div>\n                        <div className=\"toggle\"></div>\n                        <div className=\"description\">Describe Layout of currently selected input method</div>\n                    </div>\n                </Row>\n            </ScreenContent>\n            <GamePad\n                gamepadIndex={0}\n                onUp={() => press(0)}\n                onDown={() => press(0)}\n                onRight={() => press(0)}\n                onLeft={() => press(0)}\n                onAction={() => press(0)}\n            />\n            <GamePad\n                gamepadIndex={1}\n                onUp={() => press(1)}\n                onDown={() => press(1)}\n                onRight={() => press(1)}\n                onLeft={() => press(1)}\n                onAction={() => press(1)}\n            />\n        </div>\n    );\n};\n\nexport default Controls;\n","import DifficultyOptions, { DifficultyOption } from \"../DifficultyOptions\";\nimport StartScreenContext, { NavigationContext } from \"../Context\";\n\nimport CloseButton from \"./CloseButton\";\nimport CookieBanner from \"./CookieBanner\";\nimport { CookieContext } from \"../../../Context\";\nimport React from \"react\";\nimport Row from \"./Row\";\nimport ScreenContent from \"./ScreenContent\";\nimport ScreenMainButton from \"./ScreenMainButton\";\nimport { XY } from \"../../XY\";\n\nconst Difficulty = () => {\n    const { state, setState } = React.useContext(StartScreenContext);\n    const { navigation } = React.useContext(NavigationContext);\n\n    const isActive = (id: number) => state.difficultySettings == id;\n\n    const getButtonClass = (index: number, pos: XY) => {\n        const hasFocus = navigation.screen.x == pos.x && navigation.screen.y == pos.y;\n        let name = isActive(index) ? `active active-${index}` : `inactive-${index}`;\n        name += hasFocus ? \" focused\" : \"\";\n        return name;\n    };\n\n    const renderButton = (button: DifficultyOption) => (\n        <ScreenMainButton\n            key={button.id}\n            icon={button.icon}\n            id={button.id}\n            autoFocus={isActive(button.id)}\n            className={(pos) => getButtonClass(button.id, pos)}\n            onClick={() => setState({ ...state, difficultySettings: button.id })}\n            lines={button.lines}\n        />\n    );\n\n    const { consented } = React.useContext(CookieContext);\n\n    return (\n        <div className=\"difficulty startdetails\">\n            <CloseButton />\n            <div className=\"title\">Difficulty</div>\n            <ScreenContent id=\"difficulty\">\n                <Row skip={consented}>\n                    <CookieBanner />\n                </Row>\n                <Row>{DifficultyOptions.slice(0, 3).map(renderButton)}</Row>\n                <Row>{DifficultyOptions.slice(3).map(renderButton)}</Row>\n                <Row skip={true}>\n                    <div className=\"togglecontainer\">\n                        <div className=\"title\">Draw Mode</div>\n                        <div className=\"toggle\"></div>\n                        <div className=\"description\">\n                            {DifficultyOptions[state.difficultySettings].settings.drawMode == \"triple\"\n                                ? \"Turn 3 cards at once from the Stock to the Waste.\"\n                                : null}\n                            {DifficultyOptions[state.difficultySettings].settings.drawMode == \"single\"\n                                ? \"Turn 1 card after the other from the Stock to the Waste.\"\n                                : null}\n                        </div>\n                    </div>\n                    <div className=\"togglecontainer\">\n                        <div className=\"title\">Pass Limit</div>\n                        <div className=\"toggle\"></div>\n                        <div className=\"description\">\n                            {DifficultyOptions[state.difficultySettings].settings.recyclingMode == \"1-pass\"\n                                ? \"One pass through the deck. Waste can not be recycled to the Stock.\"\n                                : null}\n                            {DifficultyOptions[state.difficultySettings].settings.recyclingMode == \"3-pass\"\n                                ? \"Three passes through the deck. Waste can be recycled to Stock two times.\"\n                                : null}\n                            {DifficultyOptions[state.difficultySettings].settings.recyclingMode == \"infinite\"\n                                ? \"No limit on passes through the deck. Waste can be recycled to Stock endlessly.\"\n                                : null}\n                        </div>\n                    </div>\n                </Row>\n            </ScreenContent>\n        </div>\n    );\n};\n\nexport default Difficulty;\n","import React from \"react\";\nimport { NavigationContext } from \"../Context\";\nimport { getScreenElementClassName, useFocusEffect } from \"./ScreenElement\";\n\nexport type SelectItem = {\n    label: string;\n    id: string | number;\n};\n\ninterface StaticSelectProps {\n    disabled?: boolean;\n    value: number;\n    values: SelectItem[];\n    label: string;\n    description: string;\n    callBack: (s: string) => void;\n}\n\ninterface SelectProps extends StaticSelectProps {\n    x: number;\n    y: number;\n    hasFocus: boolean;\n}\n\ninterface _ScreenSelectProps extends StaticSelectProps {\n    x?: number;\n    y?: number;\n}\n\nconst _ScreenSelect = (props: SelectProps) => {\n    const inputEl = React.useRef<HTMLButtonElement>(null);\n    useFocusEffect(props, inputEl);\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n\n    return (\n        <div className={getScreenElementClassName(\"togglecontainer\", props)}>\n            <div className=\"title\">\n                {props.label}: {props.values[props.value].label}\n            </div>\n            <div className=\"button\">\n                <button\n                    ref={inputEl}\n                    onClick={() => {\n                        props.callBack((props.value + 1 < props.values.length ? props.value + 1 : 0).toString());\n                        setNavigation({ ...navigation, screen: { x: props.x, y: props.y } });\n                    }}\n                    disabled={!!props.disabled}\n                    onFocus={() => {\n                        if (!props.hasFocus) {\n                            setNavigation({ ...navigation, screen: { x: props.x, y: props.y } });\n                        }\n                    }}\n                >\n                    \n                </button>\n            </div>\n            <div className=\"description\">{props.description}</div>\n        </div>\n    );\n};\n\nconst ScreenSelect = (props: _ScreenSelectProps) => {\n    if (typeof props.x == \"undefined\" || typeof props.y == \"undefined\") {\n        return null;\n    }\n    const { navigation } = React.useContext(NavigationContext);\n    const hasFocus = (y: number, x: number) => navigation.focus == \"screen\" && navigation.screen.x == x && navigation.screen.y == y;\n    const pos = { x: props.x || 0, y: props.y || 0 };\n    return (\n        <_ScreenSelect\n            x={pos.x}\n            y={pos.y}\n            disabled={!!props.disabled}\n            hasFocus={hasFocus(pos.y, pos.x)}\n            label={props.label}\n            description={props.description}\n            value={props.value}\n            values={props.values}\n            callBack={props.callBack}\n        />\n    );\n};\n\nexport default ScreenSelect;\n","import \"./react-toggle.css\";\n\nimport { getScreenElementClassName, useFocusEffect, useInitialFocus } from \"./ScreenElement\";\n\nimport { NavigationContext } from \"../Context\";\nimport React from \"react\";\nimport Toggle from \"react-toggle\";\nimport { XY } from \"../../XY\";\n\ninterface StaticScreenToggleProps {\n    value: boolean;\n    label: string;\n    description: string;\n    disabled?: boolean;\n    callBack?: (s: boolean) => void;\n    autoFocus?: boolean;\n}\n\ninterface ToggleProps extends StaticScreenToggleProps {\n    x: number;\n    y: number;\n    hasFocus: boolean;\n}\n\ninterface _ScreenToggleProps extends StaticScreenToggleProps {\n    x?: number;\n    y?: number;\n}\n\nconst _ScreenToggle = (props: ToggleProps) => {\n    const inputEl = React.useRef<HTMLButtonElement>(null);\n    useFocusEffect(props, inputEl);\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n    const change = (val: boolean, pos: XY) => {\n        setNavigation({ ...navigation, screen: pos });\n        props.callBack && props.callBack(val);\n    };\n    useInitialFocus(props, inputEl, navigation.screen);\n    return (\n        <div className={getScreenElementClassName(\"togglecontainer\", props)}>\n            <div className=\"title\">{props.label}</div>\n            <div className=\"toggle\">\n                <Toggle\n                    ref={inputEl}\n                    disabled={!!props.disabled}\n                    autoFocus={props.hasFocus}\n                    onFocus={() => {\n                        if (!props.hasFocus) {\n                            setNavigation({ ...navigation, screen: { x: props.x, y: props.y } });\n                        }\n                    }}\n                    checked={props.value}\n                    onChange={() => change(!props.value, { x: props.x, y: props.y })}\n                />\n            </div>\n            <div className=\"description\">{props.description}</div>\n        </div>\n    );\n};\n\nconst ScreenToggle = (props: _ScreenToggleProps) => {\n    if (typeof props.x == \"undefined\" || typeof props.y == \"undefined\") {\n        return null;\n    }\n    const { navigation } = React.useContext(NavigationContext);\n    const hasFocus = (y: number, x: number) => navigation.focus == \"screen\" && navigation.screen.x == x && navigation.screen.y == y;\n    const pos = { x: props.x || 0, y: props.y || 0 };\n    return (\n        <_ScreenToggle\n            x={pos.x}\n            y={pos.y}\n            disabled={!!props.disabled}\n            hasFocus={hasFocus(pos.y, pos.x)}\n            label={props.label}\n            description={props.description}\n            value={props.value}\n            callBack={props.callBack}\n            autoFocus={props.autoFocus}\n        />\n    );\n};\n\nexport default ScreenToggle;\n","import StartScreenContext, { NavigationContext, StartScreenState } from \"../Context\";\n\nimport CloseButton from \"./CloseButton\";\nimport CookieBanner from \"./CookieBanner\";\nimport { CookieContext } from \"../../../Context\";\nimport EntropyLevels from \"../../../../Model/Game/Settings/EntropyLevels\";\nimport React from \"react\";\nimport Row from \"./Row\";\nimport ScreenContent from \"./ScreenContent\";\nimport ScreenMainButton from \"./ScreenMainButton\";\nimport ScreenSelect from \"./ScreenSelect\";\nimport ScreenToggle from \"./ScreenToggle\";\nimport { XY } from \"../../XY\";\n\ninterface OptimizeOption {\n    entropy: number;\n    quickDeal: boolean;\n    lines: string[];\n    icon: string;\n}\n\nconst optimizeOptions: (state: StartScreenState) => OptimizeOption[] = (state: StartScreenState) => [\n    {\n        entropy: 2,\n        quickDeal: false,\n        lines: [(!state.quickDeal ? \"Optimized\" : \"Optimize\") + \" for Desktop\"],\n        icon: \"\",\n    },\n    {\n        entropy: 1,\n        quickDeal: true,\n        lines: [(state.quickDeal ? \"Optimized\" : \"Optimize\") + \" for Mobile\"],\n        icon: \"\",\n    },\n];\n\nconst QuickStart = () => {\n    const { state, setState } = React.useContext(StartScreenContext);\n    const { navigation } = React.useContext(NavigationContext);\n    const { consented } = React.useContext(CookieContext);\n\n    const isActive = (val: boolean) => state.quickDeal == val;\n\n    const setBaseEntropy = (value: string) =>\n        setState({ ...state, entropySettings: { ...state.entropySettings, baseEntropy: parseInt(value) } });\n\n    const setInteractionEntropy = (value: string) =>\n        setState({ ...state, entropySettings: { ...state.entropySettings, interactionEntropy: parseInt(value) } });\n\n    const setQuickDeal = (value: boolean) => setState({ ...state, quickDeal: value });\n\n    const getClassName = (button: OptimizeOption, pos: XY) => {\n        const hasFocus = navigation.screen.x == pos.x && navigation.screen.y == pos.y;\n        let name = isActive(button.quickDeal) ? \"active active-0\" : \"inactive-0\";\n        name += hasFocus ? \" focused\" : \"\";\n        return name;\n    };\n\n    return (\n        <div className=\"quickstart startdetails\">\n            <CloseButton />\n            <div className=\"title\">Various</div>\n            <ScreenContent id=\"settings\">\n                <Row skip={consented}>\n                    <CookieBanner />\n                </Row>\n                <Row>\n                    {optimizeOptions(state).map((button, i) => (\n                        <ScreenMainButton\n                            key={i}\n                            icon={button.icon}\n                            id={i}\n                            autoFocus={isActive(button.quickDeal)}\n                            className={(pos) => getClassName(button, pos)}\n                            lines={button.lines}\n                            onClick={() =>\n                                setState({\n                                    ...state,\n                                    quickDeal: button.quickDeal,\n                                    entropySettings: {\n                                        baseEntropy: button.entropy,\n                                        interactionEntropy: button.entropy,\n                                    },\n                                })\n                            }\n                        />\n                    ))}\n                </Row>\n                <Row>\n                    <ScreenSelect\n                        label=\"Base Entropy\"\n                        description=\"How much chaos will the stacks on the board contain by themselves?\"\n                        value={state.entropySettings.baseEntropy || 0}\n                        values={EntropyLevels.map((label, id) => ({ id, label }))}\n                        callBack={setBaseEntropy}\n                    />\n                    <ScreenSelect\n                        label=\"Interaction Entropy\"\n                        description=\"How much chaos will each interaction add to a stack on the board?\"\n                        value={state.entropySettings.interactionEntropy || 0}\n                        values={EntropyLevels.map((label, id) => ({ id, label }))}\n                        callBack={setInteractionEntropy}\n                    />\n                </Row>\n                <Row>\n                    <ScreenToggle\n                        label=\"Instant Deal\"\n                        description=\"Should the deal animation at the beginning of the game be skipped?\"\n                        value={state.quickDeal}\n                        callBack={setQuickDeal}\n                    />\n                    <ScreenToggle\n                        disabled={true}\n                        label=\"Auto Deal\"\n                        description=\"Should the game draw one card from the stock every 5 seconds?\"\n                        value={false}\n                    />\n                </Row>\n            </ScreenContent>\n        </div>\n    );\n};\nexport default QuickStart;\n","import StartScreenContext, { NavigationContext, StartScreenState } from \"../Context\";\n\nimport CloseButton from \"./CloseButton\";\nimport CookieBanner from \"./CookieBanner\";\nimport { CookieContext } from \"../../../Context\";\nimport RatingPresets from \"../RatingOptions\";\nimport { RatingSettings } from \"../../../../Common\";\nimport React from \"react\";\nimport Row from \"./Row\";\nimport ScreenContent from \"./ScreenContent\";\nimport ScreenMainButton from \"./ScreenMainButton\";\nimport ScreenToggle from \"./ScreenToggle\";\nimport SuggestionModes from \"../../../../Model/Game/Settings/SuggestionModes\";\nimport { XY } from \"../../XY\";\n\nconst Rating = () => {\n    const { state, setState } = React.useContext(StartScreenContext);\n    const { navigation } = React.useContext(NavigationContext);\n    const applyPreset = (id: number) => {\n        const next = { ...state };\n        RatingPresets.ALL[id].apply(next);\n        setState(next);\n    };\n\n    const isActive = (id: number) => state.ratingPreset == id;\n\n    const getButtonClass = (id: number, pos: XY) => {\n        let name = isActive(id) ? `active active-${id}` : `inactive-${id}`;\n        name += navigation.screen.x == pos.x && navigation.screen.y == pos.y ? \" focused\" : \"\";\n        return name;\n    };\n\n    const customizeRating = (modifier: (context: RatingSettings) => void) => {\n        const next = { ...state };\n        modifier(next.ratingSettings);\n        next.ratingPreset = RatingPresets.matchPreset(next.ratingSettings);\n        setState(next);\n    };\n    \n    const customizeRating2 = (ratingModifier: (context: RatingSettings) => void, modifier: (context: StartScreenState) => void) => {\n        const next = { ...state };\n        ratingModifier(next.ratingSettings);\n        modifier(next);\n        next.ratingPreset = RatingPresets.matchPreset(next.ratingSettings);\n        setState(next);\n    };\n\n    const setMissPenalty = (value: boolean) =>\n        customizeRating((r) => {\n            r.missPenalty = value;\n        });\n\n    const setTimeRating = (value: boolean) =>\n        customizeRating((r) => {\n            r.timedMode = value;\n        });\n\n    const setUndoPenalty = (value: boolean) =>\n        customizeRating((r) => {\n            r.undoPenalty = value;\n        });\n\n    const setHintPenalty = (value: boolean) => {\n        customizeRating2(\n            (r) => {\n                r.hintPenalty = value;\n            },\n            (s) => {\n                s.suggestionMode = value ? SuggestionModes.NONE : SuggestionModes.REGULAR;\n            }\n        );\n    };\n\n    const { consented } = React.useContext(CookieContext);\n\n    return (\n        <div className=\"rating startdetails\">\n            <CloseButton />\n            <div className=\"title\">Penalties</div>\n            <ScreenContent id=\"penalties\">\n                <Row skip={consented}>\n                    <CookieBanner />\n                </Row>\n                <Row>\n                    {RatingPresets.ALL.map((preset) => (\n                        <ScreenMainButton\n                            key={preset.id}\n                            icon={preset.icon}\n                            id={preset.id}\n                            autoFocus={isActive(preset.id) || (state.ratingPreset == -1 && preset.id == 0)}\n                            className={(pos: XY) => getButtonClass(preset.id, pos)}\n                            onClick={() => applyPreset(preset.id)}\n                            lines={[preset.label]}\n                        />\n                    ))}\n                </Row>\n                <Row>\n                    <ScreenToggle\n                        label=\"Undo Penalty\"\n                        description=\"Undo is enabled, but excessive use will be painful. This penalty starts with 2 and increases exponentially.\"\n                        value={!!state.ratingSettings.undoPenalty}\n                        callBack={setUndoPenalty}\n                    />\n                    <ScreenToggle\n                        label=\"Time Penalty\"\n                        description=\"Fast players are rewarded with a time bonus, slow players will be punished.\"\n                        value={!!state.ratingSettings.timedMode}\n                        callBack={setTimeRating}\n                    />\n                </Row>\n                <Row>\n                    <ScreenToggle\n                        label=\"Hint Penalty\"\n                        description=\"Each manual hint will reduce the number of points by 10. This setting disables automatic suggestions. \"\n                        value={!!state.ratingSettings.hintPenalty}\n                        callBack={setHintPenalty}\n                    />\n                    <ScreenToggle\n                        label=\"Miss Penalty\"\n                        description=\"Be careful where you click, as each invalid action will lead to a penalty of 10 points.\"\n                        value={!!state.ratingSettings.missPenalty}\n                        callBack={setMissPenalty}\n                    />\n                </Row>\n            </ScreenContent>\n        </div>\n    );\n};\n\nexport default Rating;\n","import SuggestionModes, { SuggestionMode } from \"../../../../Model/Game/Settings/SuggestionModes\";\n\nimport CloseButton from \"./CloseButton\";\nimport CookieBanner from \"./CookieBanner\";\nimport { CookieContext } from \"../../../Context\";\nimport React from \"react\";\nimport Row from \"./Row\";\nimport ScreenContent from \"./ScreenContent\";\nimport ScreenToggle from \"./ScreenToggle\";\nimport StartScreenContext from \"../Context\";\n\nconst Suggestions = () => {\n    const { consented } = React.useContext(CookieContext);\n    const { state, setState } = React.useContext(StartScreenContext);\n\n    const suggestionModes = SuggestionModes.allSuggestionModes();\n\n    const isActive = (id: string) => state.suggestionMode == id;\n\n    const isDisabled = (id: string) => id !== SuggestionModes.NONE && state.ratingSettings.hintPenalty;\n\n    const renderToggle = (mode: SuggestionMode, index: number) => (\n        <ScreenToggle\n            value={isActive(mode.key)}\n            disabled={isDisabled(mode.key)}\n            label={mode.icon + \" \" + mode.label}\n            callBack={() => setState({ ...state, suggestionMode: mode.key })}\n            description={mode.description}\n            key={index}\n            autoFocus={isActive(mode.key)}\n        />\n    );\n\n    return (\n        <div className=\"suggestions startdetails\">\n            <CloseButton />\n            <div className=\"title\">Suggestions</div>\n            <ScreenContent id=\"settings\">\n                <Row skip={consented}>\n                    <CookieBanner />\n                </Row>\n                <Row>{suggestionModes.slice(0, 2).map(renderToggle)}</Row>\n                <Row>{suggestionModes.slice(2).map(renderToggle)}</Row>\n            </ScreenContent>\n        </div>\n    );\n};\n\nexport default Suggestions;\n","import Controls from \"./Controls\";\nimport Difficulty from \"./Difficulty\";\nimport { NavigationContext } from \"../Context\";\nimport QuickStart from \"./QuickStart\";\nimport Rating from \"./Rating\";\nimport React from \"react\";\nimport ScreenContext from \"./Context\";\nimport Suggestions from \"./Suggestions\";\n\nconst Screen = (props: { screen: string }) => {\n    //@todo screen can be taken from navigation context, passed to innner renderer here\n    //@todo load this screen after 1st selection incl. toggles and gamepads as asynchronous components\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n    //@todo closeScreen can be defined in navigationContext\n    const closeScreen = () =>\n        setNavigation({\n            ...navigation,\n            focus: \"menu\",\n            screeen: \"\",\n            mainMenu: navigation.mainMenu,\n            menu: { ...navigation.menu },\n        });\n\n    //@todo add credits page\n    return (\n        <ScreenContext.Provider value={{ closeScreen: () => closeScreen() }}>\n            <div className=\"startscreen-layout\">\n                <div className=\"startscreen-jail\">\n                    {props.screen == \"rating\" ? <Rating /> : null}\n                    {props.screen == \"difficulty\" ? <Difficulty /> : null}\n                    {props.screen == \"settings\" ? <QuickStart /> : null}\n                    {props.screen == \"suggestions\" ? <Suggestions /> : null}\n                    {props.screen == \"controls0\" ? <Controls player={0} /> : null}\n                    {props.screen == \"controls1\" ? <Controls player={1} /> : null}\n                </div>\n            </div>\n        </ScreenContext.Provider>\n    );\n};\n\nexport default Screen;\n","import React from \"react\";\n\nconst VerticalMenu = (props: any) => {\n    return (\n        <div className=\"ui menu\">\n            <div className=\"startscreen-jail\">\n                <div className=\"innermenu\">{props.children}</div>\n            </div>\n        </div>\n    );\n};\nexport default VerticalMenu;\n","import \"../Menu.scss\";\n\nimport { CookieContext } from \"../../../Context\";\nimport GameModes from \"../../../../GameModes\";\nimport MenuButton from \"./MenuButton\";\nimport MenuTitle from \"./MenuTitle\";\nimport MenuTree from \"./MenuTree\";\nimport { NavigationContext } from \"../Context\";\nimport React from \"react\";\nimport StorageManager from \"../../StorageManager\";\nimport { Universal } from \"../../../../common/KeyboardLayouts\";\nimport VerticalMenu from \"./VerticalMenu\";\nimport { XY } from \"../../XY\";\n\nconst StartMenu = (props: { start: (boardMode: string) => void }) => {\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n    const { consented, setConsented } = React.useContext(CookieContext);\n\n    const switchToScreen = (s: string, pos: XY) =>\n        setNavigation({\n            ...navigation,\n            focus: \"screen\",\n            screeen: s,\n            screen: { x: -1, y: -1 },\n            menu: { ...pos },\n        });\n\n    const switchToMenu = (menu: string, pos: XY) =>\n        setNavigation({\n            ...navigation,\n            focus: \"menu\",\n            screeen: \"\",\n            mainMenu: menu,\n            menu: { ...pos },\n        });\n\n    const toggleScreen = (s: string, pos: XY) => {\n        if (navigation.screeen !== s) {\n            switchToScreen(s, pos);\n        } else {\n            switchToMenu(navigation.mainMenu, pos);\n        }\n    };\n\n    const toggleMainMenu = (val: string, pos: XY) => switchToMenu(navigation.mainMenu !== val ? val : \"\", pos);\n\n    const toggleConsent = consented\n        ? () => {\n              const revoke = storage.revokeConsent();\n              //@todo use custom confirm dialog to support gamepad\n              if (confirm(revoke.prompt)) {\n                  revoke.confirm();\n                  setConsented(false);\n              }\n          }\n        : () => {\n              const consent = storage.giveConsent();\n              //@todo use custom confirm dialog to support gamepad\n              if (confirm(consent.prompt)) {\n                  consent.confirm();\n                  setConsented(true);\n              }\n          };\n\n    const storage = new StorageManager();\n\n    return (\n        <VerticalMenu>\n            <MenuTitle label=\" Solitaire\" />\n\n            <MenuTree keyboardLayout={Universal}>\n                <MenuButton icon=\"\" title=\"Single Player\" onClick={() => props.start(GameModes.SINGLEPLAYER)} />\n                <MenuButton\n                    icon=\"\"\n                    title=\"Versus\"\n                    onClick={(pos: XY) => toggleMainMenu(\"versus\", pos)}\n                    toggled={navigation.mainMenu == \"versus\"}\n                >\n                    <MenuButton\n                        icon=\"\"\n                        title=\"Player 1\"\n                        onClick={(pos: XY) => toggleScreen(\"controls0\", pos)}\n                        toggled={navigation.screeen == \"controls0\"}\n                    />\n                    <MenuButton\n                        icon=\"\"\n                        title=\"Player 2\"\n                        onClick={(pos: XY) => toggleScreen(\"controls1\", pos)}\n                        toggled={navigation.screeen == \"controls1\"}\n                    />\n                    <MenuButton icon=\"\" title=\"Start\" onClick={() => props.start(GameModes.VERSUS)} />\n                </MenuButton>\n                <MenuButton\n                    icon=\"\"\n                    title=\"Options\"\n                    onClick={(pos: XY) => toggleMainMenu(\"custom\", pos)}\n                    toggled={navigation.mainMenu == \"custom\"}\n                >\n                    <MenuButton\n                        icon=\"\"\n                        title=\"Difficulty\"\n                        onClick={(pos: XY) => toggleScreen(\"difficulty\", pos)}\n                        toggled={navigation.screeen == \"difficulty\"}\n                    />\n                    <MenuButton\n                        icon=\"\"\n                        title=\"Penalties\"\n                        onClick={(pos: XY) => toggleScreen(\"rating\", pos)}\n                        toggled={navigation.screeen == \"rating\"}\n                    />\n                    <MenuButton\n                        icon=\"\"\n                        title=\"Suggestions\"\n                        onClick={(pos: XY) => toggleScreen(\"suggestions\", pos)}\n                        toggled={navigation.screeen == \"suggestions\"}\n                    />\n                    <MenuButton\n                        icon=\"\"\n                        title=\"Various\"\n                        onClick={(pos: XY) => toggleScreen(\"settings\", pos)}\n                        toggled={navigation.screeen == \"settings\"}\n                    />\n                </MenuButton>\n                <MenuButton icon=\"\" title={consented ? \"Delete Cookie\" : \"Allow Cookie\"} onClick={toggleConsent} toggled={false} />\n            </MenuTree>\n        </VerticalMenu>\n    );\n};\nexport default StartMenu;\n","import { NavigationProvider, NavigationState, Provider, StartScreenState, defaultStartScreenState } from \"./Context\";\n\nimport AspectRatio from \"../../../common/AspectRatio/AspectRatio\";\nimport { CookieContextProvider } from \"../../Context\";\nimport DifficultyOptions from \"./DifficultyOptions\";\nimport { LaunchSettings } from \"../../../Common\";\nimport Ratios from \"../../../common/AspectRatio/Ratios\";\nimport React from \"react\";\nimport Screen from \"./Screens/Screen\";\nimport StartMenu from \"./Menu/StartMenu\";\nimport StorageManager from \"../StorageManager\";\n\nconst Home = (props: { start: (settings: LaunchSettings) => void }) => {\n    const storage = new StorageManager();\n\n    const startPos = { x: 0, y: 0 };\n    const [navigation, setNavigation] = React.useState<NavigationState>({\n        menu: { ...startPos },\n        screen: { ...startPos },\n        focus: \"menu\",\n        mainMenu: \"\",\n        screeen: \"\",\n    });\n    const navigationContext = {\n        navigation,\n        setNavigation,\n    };\n\n    const previous = storage.getPreviousState();\n    const [state, setState] = React.useState<StartScreenState>(previous ? previous : defaultStartScreenState);\n    const startScreenContext = {\n        state,\n        setState: (s: StartScreenState) => {\n            setState(s);\n            storage.store(s);\n        },\n    };\n\n    const [consented, setConsented] = React.useState<boolean>(!!storage.hasConsent());\n    const cookieContext = {\n        consented,\n        setConsented,\n    };\n\n    //@todo start() can be defined in StartScreenContext\n    const start = (boardMode: string) => {\n        const settings = {\n            ...DifficultyOptions[state.difficultySettings].settings,\n            ...state.ratingSettings,\n            baseEntropy: state.entropySettings.baseEntropy || 0,\n            interactionEntropy: state.entropySettings.interactionEntropy || 0,\n            players: { ...state.players },\n            quickDeal: state.quickDeal,\n            boardMode: boardMode,\n            initialized: true,\n            suggestionMode: state.suggestionMode,\n            inputMode: \"\",\n        };\n        props.start(settings);\n    };\n\n    return (\n        <AspectRatio ratio={Ratios._16to9}>\n            <Provider value={startScreenContext}>\n                <NavigationProvider value={navigationContext}>\n                    <CookieContextProvider value={cookieContext}>\n                        <StartMenu start={start} />\n                        <Screen screen={navigation.screeen} />\n                    </CookieContextProvider>\n                </NavigationProvider>\n            </Provider>\n        </AspectRatio>\n    );\n};\nexport default Home;\n","import \"./App.css\";\n\nimport { LaunchSettings, defaultPlayerSettings } from \"./Common\";\n\nimport Deck from \"./Model/Deck/Deck\";\nimport Game from \"./View/Game/Game\";\nimport GameModes from \"./GameModes\";\nimport Home from \"./View/UI/StartScreen/Home\";\nimport React from \"react\";\nimport SuggestionModes from \"./Model/Game/Settings/SuggestionModes\";\n\nconst App = () => {\n    const defaultState = {\n        boardMode: GameModes.SINGLEPLAYER,\n        inputMode: \"mouse\",\n        initialized: false,\n        players: defaultPlayerSettings,\n        drawMode: \"\",\n        recyclingMode: \"\",\n        interactionEntropy: 0,\n        baseEntropy: 0,\n        suggestionMode: SuggestionModes.NONE,\n    };\n\n    const [launchState, setLaunchState] = React.useState<LaunchSettings>(defaultState);\n\n    const start = (settings: LaunchSettings) => setLaunchState({ ...settings, initialized: true });\n    const restart = () => setLaunchState(defaultState);\n\n    const deck = new Deck().shuffle();\n\n    return launchState?.initialized ? <Game {...{ launchState, deck, restart }} /> : <Home start={start} />;\n};\nexport default App;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { StateReplaceFunction, StateUpdateFunction } from \"../Common\";\n\nimport Model from \"../Model/Model\";\nimport React from \"react\";\n\ninterface IGlobalContext {\n    state: Model | null;\n    replaceContext: StateReplaceFunction;\n    updateContext: StateUpdateFunction;\n    updateGameContext: StateUpdateFunction;\n    restart: () => void;\n}\n\nconst defaultValue = {\n    state: null,\n    replaceContext: () => {},\n    updateContext: () => {},\n    updateGameContext: () => {},\n    restart: () => {},\n};\n\nconst GlobalContext = React.createContext<IGlobalContext>(defaultValue);\n\nexport const Provider = GlobalContext.Provider;\n\nexport default GlobalContext;\n\nexport interface ICookieContext {\n    consented: boolean;\n    setConsented: (c: boolean) => void;\n}\nexport const CookieContext = React.createContext<ICookieContext>({ consented: false, setConsented: () => {} });\nexport const CookieContextProvider = CookieContext.Provider;\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","//credit https://stackoverflow.com/a/60312025/1216242\nconst TouchDetector = () => {\n    try {\n        const prefixes = \" -webkit- -moz- -o- -ms- \".split(\" \");\n\n        const mq = (query) => window.matchMedia(query).matches;\n\n        if (\"ontouchstart\" in window || (typeof window.DocumentTouch !== \"undefined\" && document instanceof window.DocumentTouch)) {\n            return true;\n        }\n\n        return mq([\"(\", prefixes.join(\"touch-enabled),(\"), \"heartz\", \")\"].join(\"\"));\n    } catch (e) {\n        console.error(\"(Touch detect failed)\", e);\n        return false;\n    }\n};\n\nexport default TouchDetector;\n","import { EntropySettings, PlayerSettings, RatingSettings, defaultPlayerSettings } from \"../../../Common\";\n\nimport RatingPresets from \"./RatingOptions\";\nimport React from \"react\";\nimport SuggestionModes from \"../../../Model/Game/Settings/SuggestionModes\";\nimport TouchDetector from \"../../../common/TouchDetector\";\n\nexport interface IStartScreenContext {\n    state: StartScreenState;\n    setState: (s: StartScreenState) => void;\n}\n\nexport const defaultStartScreenState: StartScreenState = {\n    ratingSettings: { ...RatingPresets.REGULAR },\n    difficultySettings: 1,\n    ratingPreset: 1,\n    quickDeal: TouchDetector(),\n    entropySettings: {\n        baseEntropy: TouchDetector() ? 1 : 2,\n        interactionEntropy: TouchDetector() ? 1 : 2,\n    },\n    suggestionMode: SuggestionModes.REGULAR,\n    players: defaultPlayerSettings,\n};\n\nexport interface StartScreenState {\n    ratingSettings: RatingSettings;\n    difficultySettings: number;\n    ratingPreset: number;\n    quickDeal: boolean;\n    entropySettings: EntropySettings;\n    suggestionMode: string;\n    players: PlayerSettings;\n}\n\nexport interface NavigationState {\n    menu: {\n        x: number;\n        y: number;\n    };\n    screen: {\n        x: number;\n        y: number;\n    };\n    focus: string;\n    mainMenu: string;\n    screeen: string;\n}\ninterface INavigationContext {\n    navigation: NavigationState;\n    setNavigation: (n: NavigationState) => void;\n}\n\nexport const NavigationContext = React.createContext<INavigationContext>({\n    navigation: {\n        menu: {\n            x: 0,\n            y: 0,\n        },\n        screen: {\n            x: 0,\n            y: 0,\n        },\n        focus: \"menu\",\n        mainMenu: \"\",\n        screeen: \"\",\n    },\n    setNavigation: () => {\n        console.log(\"todo implement\");\n    },\n});\n\nconst StartScreenContext = React.createContext<IStartScreenContext>({\n    state: {\n        difficultySettings: 0,\n        ratingPreset: 0,\n        ratingSettings: {},\n        entropySettings: {},\n        quickDeal: false,\n        suggestionMode: SuggestionModes.REGULAR,\n        players: defaultPlayerSettings,\n    },\n    setState: () => {\n        console.log(\"todo implement\");\n    },\n});\n\nexport const Provider = StartScreenContext.Provider;\nexport const NavigationProvider = NavigationContext.Provider;\nexport default StartScreenContext;\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import { Suit } from \"./Suits\";\n\nexport default class Card {\n    face: string;\n    type: Suit;\n    isHidden: boolean;\n    entropyStyle: any;\n    source: string;\n    suggestion: boolean;\n    success: number;\n    canClick: () => boolean;\n    onClick: (_p: any) => (s: any) => void;\n    constructor(face: string, type: Suit, isHidden: boolean) {\n        this.face = face;\n        this.type = type;\n        this.isHidden = isHidden;\n        this.entropyStyle = {};\n        this.source = \"\";\n        this.suggestion = false;\n        this.success = 0;\n        this.canClick = () => false;\n        \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.onClick = (_p) => (s: any) => {};\n    }\n\n    setSuccess = (s : number) => {\n        this.success = s;\n    }\n\n    causeEntropy = (lvl: number) => {\n        if (lvl == 0) {\n            this.entropyStyle = {};\n            return;\n        }\n        const level = lvl * 2;\n        const random = () => Math.random() < 0.5;\n        const randomInt = (min: number, max: number) => Math.random() * (max - min) + min;\n        //shift\n        if (random()) {\n            if (random()) {\n                this.entropyStyle[\"left\"] = randomInt(0, level / 20) + \"vw\";\n            } else {\n                this.entropyStyle[\"right\"] = randomInt(0, level / 20) + \"vw\";\n            }\n        }\n        //rotate\n        this.entropyStyle[\"transform\"] = \"rotate(\" + randomInt(level * -1, level) + \"deg)\";\n    };\n\n    equals = (other: Card | null) => {\n        return other && Card.equals(this, other) || false;\n    };\n\n    static equals(card: Card, otherCard: Card) {\n        return (!card && !otherCard) || (card && otherCard && otherCard.face == card.face && otherCard.type.icon == card.type.icon);\n    }\n\n    static copy = (orig: Card) => {\n        const copy = new Card(orig.face, orig.type, orig.isHidden);\n        copy.source = orig.source;\n        copy.entropyStyle = { ...orig.entropyStyle };\n        copy.canClick = orig.canClick;\n        copy.onClick = orig.onClick;\n        return copy;\n    };\n\n    static copyAll = (cards: Card[]) => cards.map((card) => Card.copy(card));\n}\n","export class SuggestionMode {\n    key: string;\n    label: string;\n    isTemporary: boolean;\n    supportsHints: boolean;\n    next: string | undefined;\n    icon: string;\n    description: string;\n    constructor(key: string, obj: ISuggestionMode) {\n        this.key = key;\n        this.label = obj.label;\n        this.icon = obj.icon;\n        this.description = obj.description;\n        this.isTemporary = !!obj.isTemporary;\n        this.supportsHints = !!obj.supportsHints;\n        this.next = obj.next;\n    }\n}\n\nexport type ISuggestionMode = {\n    label: string;\n    icon: string;\n    description: string;\n    isTemporary?: boolean;\n    supportsHints?: boolean;\n    next?: string;\n};\n\nexport default class SuggestionModes {\n    static NONE = \"NONE\";\n    static SCORED = \"SCORED\";\n    static REGULAR = \"REGULAR\";\n    static FULL = \"FULL\";\n    static ONCE = \"ONCE\";\n    static TWICE = \"TWICE\";\n    static raw: { [id: string]: ISuggestionMode } = {\n        NONE: {\n            label: \"None\",\n            description: \"No distractions. This enables one-time hints.\",\n            supportsHints: true,\n            icon: \"\",\n        },\n        SCORED: {\n            label: \"Scored\",\n            description: \"Shows all actions that increase the score.\",\n            icon: \"\",\n        },\n        REGULAR: {\n            label: \"Regular\",\n            description: \"Shows all possible actions except circular\",\n            icon: \"\",\n        },\n        FULL: {\n            label: \"Full\",\n            description: \"Shows all possible actions, even if they are circular\",\n            icon: \"\",\n        },\n        ONCE: {\n            label: \"Single Action\",\n            description: \"triggered by manual hint in game\",\n            isTemporary: true,\n            next: \"NONE\",\n            icon: \"\",\n        },\n    };\n    static get = (key: string) => new SuggestionMode(key, SuggestionModes.raw[key]);\n    static all = () => Object.keys(SuggestionModes.raw).map(SuggestionModes.get);\n    static allSuggestionModes = () => SuggestionModes.all().filter((mode) => !mode.isTemporary);\n    static default = () => SuggestionModes.get(SuggestionModes.REGULAR);\n    static getHintMode = () => SuggestionModes.get(SuggestionModes.ONCE);\n    static next = (current: SuggestionMode) => {\n        const all = SuggestionModes.allSuggestionModes();\n        if (all[all.length - 1].key == current.key) {\n            return all[0];\n        }\n        for (let i = 0; i < all.length; i++) {\n            if (all[i].key == current.key) {\n                return all[i + 1];\n            }\n        }\n        return all[0];\n    };\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default class GameModes {\n    static SINGLEPLAYER = \"singleplayer\";\n    static VERSUS = \"splitscreen\";\n}\n","import React from \"react\";\n\nexport interface IPauseState {\n    started: number;\n    end: number;\n    paused: boolean;\n    pauses: number[];\n    pauseStartedAt: number;\n    allowed: number;\n    isSilent?: boolean;\n    pausedBy: number;\n    showMenu: boolean;\n}\nexport interface IPauseContext {\n    state: IPauseState;\n    togglePause: (isPaused: boolean, pausedBy: number) => void;\n    getElapsed: () => string,\n}\nexport const defaultPauseState = {\n    started: 0,\n    end: 0,\n    paused: false,\n    pauses: [],\n    pauseStartedAt: 0,\n    allowed: 5,\n    pausedBy: -1,\n    showMenu: false,\n};\nexport const defaultPauseContext = {\n    state: defaultPauseState,\n    togglePause: () => {},\n    getElapsed: () => \"\",\n};\n\nconst PauseContext = React.createContext<IPauseContext>(defaultPauseContext);\nconst PauseContextProvider = PauseContext.Provider;\n\nexport const PauseProvider = (props: any) => {\n    const [paused, setPaused] = React.useState<IPauseState>({ ...defaultPauseState });\n    const getElapsedMs = () => {\n        const pauses = paused.pauses.reduce((a, b) => a + b, 0);\n        return (paused.end || paused.pauseStartedAt || Date.now()) - props.started - pauses;\n    };\n\n    const getElapsed = () => {\n        const padleft = (i: number) => ((i + \"\").length == 1 ? \"0\" + i : i);\n        let msec = getElapsedMs();\n        const hh = Math.floor(msec / 1000 / 60 / 60);\n        msec -= hh * 1000 * 60 * 60;\n        const mm = Math.floor(msec / 1000 / 60);\n        msec -= mm * 1000 * 60;\n        const ss = Math.floor(msec / 1000);\n        msec -= ss * 1000;\n        return hh ? hh + \":\" + padleft(mm) + \":\" + padleft(ss) : padleft(mm) + \":\" + padleft(ss);\n    };\n    const togglePause = (isPaused: boolean, pausedBy: number) => {\n        if (paused.showMenu) {\n            setPaused({\n                ...paused,\n                pausedBy: pausedBy,\n                pauses: [...paused.pauses, Date.now() - paused.pauseStartedAt],\n                pauseStartedAt: 0,\n                paused: false,\n                showMenu: false,\n            });\n        } else if (paused.pauses.length < paused.allowed) {\n            setPaused({\n                ...paused,\n                pausedBy: pausedBy,\n                pauseStartedAt: Date.now(),\n                paused: true,\n                showMenu: true,\n            });\n        } else {\n            setPaused({\n                ...paused,\n                pausedBy: pausedBy,\n                pauseStartedAt: 0,\n                paused: false,\n                showMenu: true,\n            });\n        }\n    };\n    const context = {\n        state: { ...paused, started: props.started },\n        togglePause,\n        getElapsed,\n    };\n\n    return <PauseContextProvider value={context}>{props.children}</PauseContextProvider>;\n};\n\nexport default PauseContext;\n","import { InputProps } from \"./InputProps\";\nimport React from \"react\";\nimport ReactGamePad from \"react-gamepad\";\nimport RenderAfter from \"./RenderAfter\";\n\ninterface GamePadProps extends InputProps {\n    gamepadIndex?: number;\n}\nconst GamePad = (props: GamePadProps) => {\n    const handlers = {\n        onButtonDown: (e: string) => {\n            //@todo use layout abstraction like in keyboard\n            //@todo make layouts configurable (for visuals allow switching PS4 and XBOX layouts)\n            console.debug(e);\n            if (e == \"DPadLeft\") {\n                props.onLeft && props.onLeft();\n            }\n            if (e == \"DPadRight\") {\n                props.onRight && props.onRight();\n            }\n            if (e == \"DPadUp\") {\n                props.onUp && props.onUp();\n            }\n            if (e == \"DPadDown\") {\n                props.onDown && props.onDown();\n            }\n            if (e == \"A\") {\n                props.onAction && props.onAction();\n            }\n            if (e == \"B\") {\n                props.onCancel && props.onCancel();\n            }\n            if (e == \"X\") {\n                props.onHint && props.onHint();\n            }\n            if (e == \"Y\") {\n                props.onUndo && props.onUndo();\n            }\n            if (e == \"Start\") {\n                props.onPause && props.onPause();\n            }\n            if (e == \"Back\") {\n                props.onMenu && props.onMenu();\n            }\n        },\n\n        onConnect: (e: number) => {\n            console.debug(\"connected\", e);\n        },\n\n        onDisconnect: (e: number) => {\n            console.debug(\"disconnected\", e);\n        },\n    };\n\n    return (\n        <RenderAfter delay={125}>\n            <ReactGamePad gamepadIndex={props.gamepadIndex} {...handlers}>\n                <span></span>\n            </ReactGamePad>\n        </RenderAfter>\n    );\n};\n\nexport default GamePad;\n","interface KeyboardLayout {\n    up: (e: KeyboardEvent) => boolean;\n    down: (e: KeyboardEvent) => boolean;\n    right: (e: KeyboardEvent) => boolean;\n    left: (e: KeyboardEvent) => boolean;\n    cancel: (e: KeyboardEvent) => boolean;\n    action: (e: KeyboardEvent) => boolean;\n    undo: (e: KeyboardEvent) => boolean;\n    hint: (e: KeyboardEvent) => boolean;\n    pause: (e: KeyboardEvent) => boolean;\n    menu: (e: KeyboardEvent) => boolean;\n}\n\nexport default KeyboardLayout;\n\nexport const getKeyboardLayout = (id: number) => {\n    if (id == 0) return Wasd;\n    if (id == 1) return Arrows;\n    if (id == 2) return NumPad;\n    throw \"Unknown keyboard layout ID\";\n};\n\nexport const Arrows: KeyboardLayout = {\n    up: (e) => e.keyCode == 38,\n    down: (e) => e.keyCode == 40,\n    right: (e) => e.keyCode == 39,\n    left: (e) => e.keyCode == 37,\n    cancel: (e) => e.keyCode == 27,\n    action: (e) => e.keyCode == 96,\n    undo: (e) => e.keyCode == 90 && e.ctrlKey,\n    hint: (e) => e.keyCode == 72,\n    pause: (e) => e.keyCode == 80,\n    menu: (e) => e.keyCode == 77,\n};\n\nexport const Wasd: KeyboardLayout = {\n    up: (e) => e.keyCode == 87,\n    down: (e) => e.keyCode == 83,\n    right: (e) => e.keyCode == 68,\n    left: (e) => e.keyCode == 65,\n    cancel: (e) => e.keyCode == 69,\n    action: (e) => e.keyCode == 81,\n    undo: (e) => e.keyCode == 88,\n    hint: (e) => e.keyCode == 90,\n    pause: (e) => e.keyCode == 999,\n    menu: (e) => e.keyCode == 27,\n};\n\nexport const NumPad: KeyboardLayout = {\n    up: (e) => e.keyCode == 104,\n    down: (e) => e.keyCode == 101,\n    right: (e) => e.keyCode == 102,\n    left: (e) => e.keyCode == 100,\n    cancel: (e) => e.keyCode == 105,\n    action: (e) => e.keyCode == 103,\n    undo: (e) => e.keyCode == 98,\n    hint: (e) => e.keyCode == 97,\n    pause: (e) => e.keyCode == 999,\n    menu: (e) => e.keyCode == 99,\n};\n\nexport const Universal: KeyboardLayout = {\n    up: (e) => NumPad.up(e) || Wasd.up(e) || Arrows.up(e),\n    down: (e) => NumPad.down(e) || Wasd.down(e) || Arrows.down(e),\n    right: (e) => NumPad.right(e) || Wasd.right(e) || Arrows.right(e),\n    left: (e) => NumPad.left(e) || Wasd.left(e) || Arrows.left(e),\n    cancel: (e) => NumPad.cancel(e) || Wasd.cancel(e) || Arrows.cancel(e),\n    action: (e) => NumPad.action(e) || Wasd.action(e) || Arrows.action(e),\n    undo: (e) => NumPad.undo(e) || Wasd.undo(e) || Arrows.undo(e),\n    hint: (e) => NumPad.hint(e) || Wasd.hint(e) || Arrows.hint(e),\n    pause: (e) => NumPad.pause(e) || Wasd.pause(e) || Arrows.pause(e),\n    menu: (e) => NumPad.menu(e) || Wasd.menu(e) || Arrows.menu(e),\n};\n","export const DeckSize = [\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\", \"A\"];\n\nexport const getFoundationOrder = () => {\n    return [\"A\", ...DeckSize.slice(0, DeckSize.length - 1)].reverse();\n};\n\nexport const getTableauOrder = () => {\n    return [...DeckSize];\n};\n","import { InputProps } from \"./InputProps\";\nimport KeyboardLayout from \"./KeyboardLayouts\";\nimport React from \"react\";\n\ninterface KeyboardProps extends InputProps {\n    layout: KeyboardLayout;\n}\nconst Keyboard = (props: KeyboardProps) => {\n    const navListener = (e: any) => {\n        const evtobj = window.event ? event : e;\n        const { layout } = props;\n        if (layout.cancel(evtobj)) {\n            props.onCancel && props.onCancel();\n            e.preventDefault();\n        }\n        if (layout.left(evtobj)) {\n            props.onLeft && props.onLeft();\n            e.preventDefault();\n        }\n        if (layout.right(evtobj)) {\n            props.onRight && props.onRight();\n            e.preventDefault();\n        }\n        if (layout.up(evtobj)) {\n            props.onUp && props.onUp();\n            e.preventDefault();\n        }\n        if (layout.down(evtobj)) {\n            props.onDown && props.onDown();\n            e.preventDefault();\n        }\n        if (layout.action(evtobj)) {\n            props.onAction && props.onAction();\n            e.preventDefault();\n        }\n        if (layout.undo(evtobj)) {\n            props.onUndo && props.onUndo();\n            e.preventDefault();\n        }\n        if (layout.hint(evtobj)) {\n            props.onHint && props.onHint();\n            e.preventDefault();\n        }\n        if (layout.pause(evtobj)) {\n            props.onPause && props.onPause();\n            e.preventDefault();\n        }\n        if (layout.menu(evtobj)) {\n            props.onMenu && props.onMenu();\n            e.preventDefault();\n        }\n    };\n    React.useEffect(() => {\n        document.addEventListener(\"keydown\", navListener);\n        return () => {\n            document.removeEventListener(\"keydown\", navListener);\n        };\n    }, [props]);\n    return null;\n};\nexport default Keyboard;\n","import Card from \"./Model/Deck/Card\";\nimport Model from \"./Model/Model\";\n\nexport type StateReplacer = (state: Model) => Model | null;\nexport type StateUpdater = (state: Model) => void;\nexport type StateReplaceFunction = (modifier: StateReplacer) => void;\nexport type StateUpdateFunction = (modifier: StateUpdater) => void;\n\nexport const defaultPlayerSettings: PlayerSettings = {\n    0: {\n        id: 0,\n        name: \"Player 1\",\n        inputMethod: \"gamepad\",\n        inputLayout: 0,\n    },\n    1: {\n        id: 1,\n        name: \"Player 2\",\n        inputMethod: \"keyboard\",\n        inputLayout: 0,\n    },\n};\n\ninterface PlayerSetting {\n    id: number;\n    name: string;\n    inputMethod: string;\n    inputLayout: number;\n}\n\nexport interface PlayerSettings {\n    [id: number]: PlayerSetting;\n}\n\nexport interface LaunchSettings extends RatingSettings {\n    recyclingMode: string;\n    drawMode: string;\n    //@todo remove, this is contained in playersettings\n    inputMode: string;\n    interactionEntropy: number;\n    baseEntropy: number;\n    suggestionMode: string;\n    players: PlayerSettings;\n    boardMode: string;\n    initialized?: boolean;\n    quickDeal?: boolean;\n    speed?: boolean;\n}\n\nexport interface ClickHandler {\n    dispatchPutDown: (card: Card, position: any, state: Model, index: number) => void;\n    dispatchPickup: (card: Card | null, position: any, state: Model, index: number) => void;\n}\n\nexport type BlinkFunction = (state: Model, index: number) => void;\n\nexport interface RatingSettings {\n    undoPenalty?: boolean;\n    hintPenalty?: boolean;\n    timedMode?: boolean;\n    missPenalty?: boolean;\n}\n\nexport interface EntropySettings {\n    baseEntropy?: number;\n    interactionEntropy?: number;\n}\n","export interface Suit {\n    icon: string;\n    color: string;\n}\n\nconst Suits: { [id: string]: Suit } = {\n    heart: {\n        icon: \"\",\n        color: \"red\",\n    },\n    club: {\n        icon: \"\",\n        color: \"black\",\n    },\n    diamond: {\n        icon: \"\",\n        color: \"red\",\n    },\n    spade: {\n        icon: \"\",\n        color: \"black\",\n    },\n};\n\nexport default Suits;\n","import { RatingSettings } from \"../../../Common\";\nimport { StartScreenState } from \"./Context\";\nimport SuggestionModes from \"../../../Model/Game/Settings/SuggestionModes\";\n\nexport interface RatingPreset {\n    id: number;\n    icon: string;\n    label: string;\n    settings: RatingSettings;\n    apply: (s: StartScreenState) => void;\n}\n\nconst apply = (after: RatingSettings, s: StartScreenState, id: number) => {\n    if (!s.ratingSettings.hintPenalty && after.hintPenalty) {\n        s.suggestionMode = SuggestionModes.NONE;\n    }\n    //@todo remember which suggestion mode was there before, and reset to that on next change of hint penalty\n    s.ratingSettings = { ...after };\n    s.ratingPreset = id;\n};\n\nexport default class RatingPresets {\n    static CHILL = {\n        timedMode: false,\n        missPenalty: false,\n        undoPenalty: false,\n        hintPenalty: false,\n    };\n\n    static REGULAR = {\n        timedMode: true,\n        missPenalty: false,\n        undoPenalty: true,\n        hintPenalty: false,\n    };\n\n    static COMPETITIVE = {\n        timedMode: true,\n        missPenalty: true,\n        undoPenalty: true,\n        hintPenalty: true,\n    };\n\n    static ALL: RatingPreset[] = [\n        {\n            id: 0,\n            icon: \"\",\n            label: \"Chill\",\n            settings: { ...RatingPresets.CHILL },\n            apply: (s) => apply(RatingPresets.CHILL, s, 0),\n        },\n        {\n            id: 1,\n            icon: \"\",\n            label: \"Regular\",\n            settings: { ...RatingPresets.REGULAR },\n            apply: (s) => apply(RatingPresets.REGULAR, s, 1),\n        },\n        {\n            id: 2,\n            icon: \"\",\n            label: \"Competitive\",\n            settings: { ...RatingPresets.COMPETITIVE },\n            apply: (s) => apply(RatingPresets.COMPETITIVE, s, 2),\n        },\n    ];\n\n    static matchPreset = (settings: any) => {\n        const filterd = RatingPresets.ALL.filter((preset) => RatingPresets.equals(preset.settings, settings));\n        if (filterd.length > 0) {\n            return filterd[0].id;\n        }\n        return -1;\n    };\n\n    static equals = (s1: any, s2: any) =>\n        s1.timedMode === s2.timedMode &&\n        s1.missPenalty === s2.missPenalty &&\n        s1.undoPenalty === s2.undoPenalty &&\n        s1.hintPenalty === s2.hintPenalty;\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.XBOX = undefined;\n\nvar _XBOX = require('./XBOX');\n\nvar _XBOX2 = _interopRequireDefault(_XBOX);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.XBOX = _XBOX2.default;\nexports.default = {\n  XBOX: _XBOX2.default\n};","import { XY } from \"../XY\";\n\nexport default class AbstractNavigator {\n    rows: any[];\n    constructor() {\n        this.rows = [];\n    }\n    getRows = () => this.rows;\n    getRow = (x: number) => this.getRows()[x];\n    goToRow = (pos: XY) => {\n        const rows = this.getRows();\n        const row = rows[pos.y];\n        if (row.buttons.length - 1 < pos.x) {\n            return { ...pos, x: row.buttons.length - 1 };\n        }\n\n        return pos;\n    };\n}\n","const EntropyLevels = [\"none\", \"low\", \"regular\", \"high\", \"extreme\"];\nexport default EntropyLevels;","import { NavigationContext } from \"../Context\";\nimport React from \"react\";\nimport { TreeNavigator } from \"./TreeNavigator\";\nimport { XY } from \"../../XY\";\n\ninterface _MenuButtonProps extends StaticMenuButtonProps {\n    x?: number;\n    y?: number;\n    navigator?: TreeNavigator;\n}\n\nexport interface StaticMenuButtonProps {\n    icon: string;\n    title: string;\n    onClick: (pos: XY) => void;\n    toggled?: boolean;\n    children?: any[];\n    disabled?: boolean;\n    skip?: boolean;\n}\ninterface MenuButtonProps extends StaticMenuButtonProps {\n    x: number;\n    y: number;\n    menuX: number;\n    menuY: number;\n    menuFocus: string;\n    active: boolean;\n    toggled: boolean;\n    onFocus: (pos: XY) => void;\n}\nconst MenuButton = (props: _MenuButtonProps) => {\n    if (typeof props.x == \"undefined\" || typeof props.y == \"undefined\") {\n        return null;\n    }\n\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n\n    const onFocus = (pos: XY) => setNavigation({ ...navigation, menu: pos });\n\n    const addItem = (child: any, index: number) => {\n        const assign = (n: any[]) => {\n            n[props.x || 0].buttons[index + 1] = { ...props, x: props.x, y: index + 1 };\n        };\n        assign(props.navigator?.rows || []);\n\n        return React.cloneElement(child, { key: index, x: props.x, y: index + 1, navigator: props.navigator });\n    };\n\n    return (\n        <_MenuButton\n            title={props.title}\n            x={props.x || 0}\n            y={props.y || 0}\n            icon={props.icon}\n            menuX={navigation.menu.x}\n            menuY={navigation.menu.y}\n            menuFocus={navigation.focus}\n            disabled={props.disabled}\n            active={false}\n            onFocus={onFocus}\n            onClick={props.onClick}\n            toggled={!!props.toggled}\n            skip={props.skip}\n        >\n            {props.children?.map(addItem)}\n        </_MenuButton>\n    );\n};\nconst _MenuButton = (props: MenuButtonProps) => {\n    const inputEl = React.useRef<HTMLButtonElement>(null);\n\n    let className = \"\";\n\n    if (props.y > 0) {\n        className += \" indented\";\n    }\n\n    const shouldBeFocus = props.menuX == props.x && props.menuY == props.y && props.menuFocus == \"menu\";\n\n    if (shouldBeFocus && !props.skip) {\n        className += \" highlight\";\n    }\n\n    React.useEffect(() => {\n        if (\n            props.menuX == props.x &&\n            props.menuY == props.y &&\n            props.menuFocus == \"menu\" &&\n            inputEl.current &&\n            inputEl.current !== document.activeElement\n        ) {\n            setClicking(true);\n            inputEl && inputEl.current && inputEl.current.focus();\n        }\n    }, [props.menuFocus, props.menuX, props.menuY, props.x, props.y]);\n\n    if (props.active) {\n        className += \" active\";\n    }\n\n    //omg this is the worst but it works (5h lost)\n    const [isClicking, setClicking] = React.useState(false);\n\n    const focus = () => {\n        if (!isClicking && !(props.menuX == props.x && props.menuY == props.y) && props.menuFocus == \"menu\") {\n            props.onFocus({ x: props.x, y: props.y });\n            setClicking(false);\n        }\n    };\n\n    const click = () => {\n        setClicking(false);\n        props.onClick({ x: props.x, y: props.y });\n    };\n\n    return (\n        <>\n            <button\n                ref={inputEl}\n                className={className}\n                title={props.title}\n                onFocus={focus}\n                onClick={click}\n                disabled={props.skip}\n                onMouseDown={() => setClicking(true)}\n            >\n                <div className=\"icon\">{props.icon}</div>\n                <div className=\"label\">{props.title}</div>\n            </button>\n            <div>{!props.toggled ? null : props.children}</div>\n        </>\n    );\n};\nexport default MenuButton;\n","import React from \"react\";\n\nconst MenuTitle = (props: { label: string }) => {\n    return <div className=\"title maintitle\">{props.label}</div>;\n};\nexport default MenuTitle;\n","import GamePad from \"../../../../common/GamePad\";\nimport Keyboard from \"../../../../common/Keyboard\";\nimport KeyboardLayout from \"../../../../common/KeyboardLayouts\";\nimport { NavigationContext } from \"../Context\";\nimport React from \"react\";\nimport { TreeNavigator } from \"../Menu/TreeNavigator\";\nimport { XY } from \"../../XY\";\n\nconst TreeNavWrapper = (props: { navigator: TreeNavigator; keyboardLayout: KeyboardLayout }) => {\n    const { navigator } = props;\n    const { navigation, setNavigation } = React.useContext(NavigationContext);\n\n    const assignState = (result: XY) => {\n        if (navigation.focus == \"menu\") {\n            setNavigation({ ...navigation, menu: result });\n        }\n    };\n\n    const inputHandlers = {\n        onCancel: () =>\n            setNavigation({ ...navigation, focus: \"menu\", screeen: \"\", mainMenu: navigation.mainMenu, menu: { ...navigation.menu } }),\n        onUp: () => assignState(navigator.moveUp(navigation.menu.x, navigation.menu.y)),\n        onDown: () => assignState(navigator.moveDown(navigation.menu.x, navigation.menu.y)),\n        onLeft: () => assignState(navigator.moveLeft(navigation.menu.x, navigation.menu.y)),\n        onRight: () => assignState(navigator.moveRight(navigation.menu.x, navigation.menu.y)),\n        onAction: () => navigator.action(navigation.menu),\n    };\n\n    return navigation.focus == \"menu\" ? (\n        <>\n            <Keyboard layout={props.keyboardLayout} {...inputHandlers} />\n            <GamePad {...inputHandlers} />\n        </>\n    ) : null;\n};\n\nexport default TreeNavWrapper;\n","import AbstractNavigator from \"../AbstractNavigator\";\nimport { NavHandler } from \"../../NavHandler\";\nimport { XY } from \"../../XY\";\n\nexport class TreeNavigator extends AbstractNavigator implements NavHandler {\n    moveUp: (x: number, y: number) => XY = (x, y) => {\n        if (x == 0) {\n            return { x: this.rows.length - 1, y: 0 };\n        }\n\n        if (y > 0) {\n            return { x: x, y: y - 1 };\n        }\n\n        if (y == 0) {\n            const row = this.getRow(x - 1);\n            if (row.toggled) {\n                return { x: x - 1, y: row.buttons.length - 1 };\n            } else {\n                return { x: x - 1, y: y };\n            }\n        }\n\n        return { x: x - 1, y: y };\n    };\n\n    moveDown: (x: number, y: number) => XY = (x, y) => {\n        const row = this.getRow(x);\n        if (y == 0 && row.toggled) {\n            return { x: x, y: 1 };\n        }\n\n        if (y > 0 && y < row.buttons.length - 1) {\n            return { x: x, y: y + 1 };\n        }\n\n        if (y > 0) {\n            return { x: x + 1, y: 0 };\n        }\n\n        if (x < this.rows.length - 1) {\n            return { x: x + 1, y: y };\n        }\n\n        return { x: 0, y: 0 };\n    };\n\n    moveLeft: (x: number, y: number) => XY = (x, y) => ({ x: x, y: y });\n\n    moveRight: (x: number, y: number) => XY = (x, y) => ({ x: x, y: y });\n\n    action: (xy: XY) => void = () => {\n        const activeElement: any = document.activeElement;\n        activeElement && activeElement.click();\n    };\n}\n","import KeyboardLayout from \"../../../../common/KeyboardLayouts\";\nimport React from \"react\";\nimport TreeNavWrapper from \"./TreeNavWrapper\";\nimport { TreeNavigator } from \"./TreeNavigator\";\n\nconst MenuTree = (props: { children: any[]; keyboardLayout: KeyboardLayout }) => {\n    const navigator = new TreeNavigator();\n    navigator.rows = [];\n    let index = -1;\n    let _i = -1;\n    const addItem = (child: any) => {\n        _i++;\n        if (!child.props.skip) {\n            index++;\n            navigator.rows[index] = { x: index, y: 0, ...child.props, buttons: [] };\n        }\n        return React.cloneElement(child, { key: _i, x: index, y: 0, navigator: navigator });\n    };\n    return (\n        <>\n            {props.children.map(addItem)}\n            <TreeNavWrapper navigator={navigator} keyboardLayout={props.keyboardLayout} />\n        </>\n    );\n};\nexport default MenuTree;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.layouts = exports.Gamepad = undefined;\n\nvar _Gamepad = require('./Gamepad');\n\nvar _Gamepad2 = _interopRequireDefault(_Gamepad);\n\nvar _layouts = require('./layouts');\n\nvar _layouts2 = _interopRequireDefault(_layouts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_Gamepad2.default.layouts = _layouts2.default;\n\nexports.Gamepad = _Gamepad2.default;\nexports.layouts = _layouts2.default;\nexports.default = _Gamepad2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _layouts = require('./layouts');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gamepad = function (_React$Component) {\n  _inherits(Gamepad, _React$Component);\n\n  function Gamepad(props, context) {\n    _classCallCheck(this, Gamepad);\n\n    var _this = _possibleConstructorReturn(this, (Gamepad.__proto__ || Object.getPrototypeOf(Gamepad)).call(this, props, context));\n\n    _this.padState = {\n      connected: false,\n\n      buttons: {\n        A: false,\n        B: false,\n        X: false,\n        Y: false,\n\n        LB: false,\n        LT: false,\n        LS: false,\n\n        RB: false,\n        RT: false,\n        RS: false,\n\n        Start: false,\n        Back: false,\n\n        DPadUp: false,\n        DPadRight: false,\n        DPadDown: false,\n        DPadLeft: false\n      },\n\n      axis: {\n        LeftStickX: 0.0,\n        LeftStickY: 0.0,\n\n        RightStickX: 0.0,\n        RightStickY: 0.0,\n\n        RightTrigger: 0.0,\n        LeftTrigger: 0.0\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Gamepad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.mounted = true;\n\n      if (window && window.requestAnimationFrame) window.requestAnimationFrame(this.updateGamepad.bind(this));\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: 'updateGamepad',\n    value: function updateGamepad() {\n      if (!this.mounted) return;\n\n      var gamepadIndex = this.props.gamepadIndex;\n      var gamepads = navigator.getGamepads();\n\n      if (gamepads.length && gamepads.length > gamepadIndex && gamepads[gamepadIndex]) {\n        var gamepad = gamepads[gamepadIndex];\n\n        if (!this.padState.connected) {\n          this.padState.connected = true;\n          this.props.onConnect(gamepadIndex);\n        }\n\n        this.updateAllButtons(gamepad);\n        this.updateAllAxis(gamepad);\n      } else if (this.padState.connected) {\n        this.padState.connected = false;\n        this.props.onDisconnect(gamepadIndex);\n      }\n\n      if (window && window.requestAnimationFrame) window.requestAnimationFrame(this.updateGamepad.bind(this));\n    }\n  }, {\n    key: 'updateAllButtons',\n    value: function updateAllButtons(gamepad) {\n      for (var i = 0; i < gamepad.buttons.length; ++i) {\n        var pressed = gamepad.buttons[i].pressed;\n        var value = gamepad.buttons[i].value;\n\n        var buttonName = this.buttonIndexToButtonName(i);\n        this.updateButton(buttonName, pressed);\n\n        var axisName = this.buttonIndexToAxisName(i);\n        this.updateAxis(axisName, value);\n      }\n    }\n  }, {\n    key: 'updateButton',\n    value: function updateButton(buttonName, pressed) {\n      if (this.padState.buttons[buttonName] === undefined) {\n        return;\n      }\n      if (this.padState.buttons[buttonName] !== pressed) {\n        this.padState.buttons[buttonName] = pressed;\n\n        this.props.onButtonChange(buttonName, pressed);\n        this.props['onButton' + (pressed ? 'Down' : 'Up')](buttonName);\n        if (pressed) this.props['on' + buttonName.replace('DPad', '')]();\n      }\n    }\n  }, {\n    key: 'updateAllAxis',\n    value: function updateAllAxis(gamepad) {\n      for (var i = 0; i < gamepad.axes.length; ++i) {\n        var axisName = this.axisIndexToAxisName(i);\n        var value = gamepad.axes[i];\n\n        this.updateAxis(axisName, gamepad.axes[i]);\n      }\n    }\n  }, {\n    key: 'updateAxis',\n    value: function updateAxis(axisName, originalValue) {\n      if (axisName && originalValue !== undefined && originalValue !== null && originalValue !== NaN) {\n        var invert = axisName[0] === '-';\n        var value = originalValue * (invert ? -1 : 1);\n\n        if (Math.abs(value) < this.props.deadZone) {\n          value = 0;\n        }\n\n        if (invert) axisName = axisName.substr(1);\n\n        if (this.padState.axis[axisName] !== value) {\n          var previousValue = this.padState.axis[axisName];\n          this.padState.axis[axisName] = value;\n\n          this.props.onAxisChange(axisName, value, previousValue);\n\n          if (axisName === 'LeftStickX') {\n            if (previousValue <= this.props.stickThreshold && value > this.props.stickThreshold) {\n              this.props.onRight();\n            }\n\n            if (previousValue >= -this.props.stickThreshold && value < -this.props.stickThreshold) {\n              this.props.onLeft();\n            }\n          }\n\n          if (axisName === 'LeftStickY') {\n            if (previousValue <= this.props.stickThreshold && value > this.props.stickThreshold) {\n              this.props.onUp();\n            }\n\n            if (previousValue >= -this.props.stickThreshold && value < -this.props.stickThreshold) {\n              this.props.onDown();\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'buttonIndexToButtonName',\n    value: function buttonIndexToButtonName(index) {\n      var layout = this.props.layout;\n\n\n      if (layout.buttons && layout.buttons.length >= index + 1) {\n        return layout.buttons[index];\n      }\n\n      return null;\n    }\n  }, {\n    key: 'buttonIndexToAxisName',\n    value: function buttonIndexToAxisName(index) {\n      var layout = this.props.layout;\n\n\n      if (layout.buttonAxis && layout.buttonAxis.length >= index + 1) {\n        return layout.buttonAxis[index];\n      }\n\n      return null;\n    }\n  }, {\n    key: 'axisIndexToAxisName',\n    value: function axisIndexToAxisName(index) {\n      var layout = this.props.layout;\n\n\n      if (layout.axis && layout.axis.length >= index + 1) {\n        return layout.axis[index];\n      }\n\n      return null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.Children.only(this.props.children);\n    }\n  }]);\n\n  return Gamepad;\n}(_react2.default.Component);\n\nGamepad.defaultProps = {\n  layout: _layouts.XBOX,\n\n  stickThreshold: 0.5,\n  deadZone: 0.08,\n\n  gamepadIndex: 0,\n\n  onConnect: function onConnect() {},\n  onDisconnect: function onDisconnect() {},\n\n  onButtonDown: function onButtonDown() {},\n  onButtonUp: function onButtonUp() {},\n  onButtonChange: function onButtonChange() {},\n  onAxisChange: function onAxisChange() {},\n\n  onA: function onA() {},\n  onB: function onB() {},\n  onX: function onX() {},\n  onY: function onY() {},\n\n  onStart: function onStart() {},\n  onBack: function onBack() {},\n\n  onLT: function onLT() {},\n  onRT: function onRT() {},\n\n  onLB: function onLB() {},\n  onRB: function onRB() {},\n\n  onLS: function onLS() {},\n  onRS: function onRS() {},\n\n  onUp: function onUp() {},\n  onDown: function onDown() {},\n  onLeft: function onLeft() {},\n  onRight: function onRight() {}\n};\nexports.default = Gamepad;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  buttons: ['A', 'B', 'X', 'Y', 'LB', 'RB', 'LT', 'RT', 'Back', 'Start', 'LS', 'RS', 'DPadUp', 'DPadDown', 'DPadLeft', 'DPadRight'],\n  axis: ['LeftStickX', '-LeftStickY', 'RightStickX', '-RightStickY'],\n  buttonAxis: [null, null, null, null, null, null, 'LeftTrigger', 'RightTrigger']\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Toggle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _check = require('./check');\n\nvar _check2 = _interopRequireDefault(_check);\n\nvar _x = require('./x');\n\nvar _x2 = _interopRequireDefault(_x);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nexports.default = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(Toggle, _extends({\n    innerref: ref }, props));\n});\n\nvar Toggle = exports.Toggle = function (_PureComponent) {\n  _inherits(Toggle, _PureComponent);\n\n  function Toggle(props) {\n    _classCallCheck(this, Toggle);\n\n    var _this = _possibleConstructorReturn(this, (Toggle.__proto__ || Object.getPrototypeOf(Toggle)).call(this, props));\n\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleTouchStart = _this.handleTouchStart.bind(_this);\n    _this.handleTouchMove = _this.handleTouchMove.bind(_this);\n    _this.handleTouchEnd = _this.handleTouchEnd.bind(_this);\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.previouslyChecked = !!(props.checked || props.defaultChecked);\n    _this.state = {\n      checked: !!(props.checked || props.defaultChecked),\n      hasFocus: false\n    };\n    return _this;\n  }\n\n  _createClass(Toggle, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.checked !== this.props.checked) {\n        // Disable linting rule here since this usage of setState inside\n        // componentDidUpdate is OK; see\n        // https://reactjs.org/docs/react-component.html#componentdidupdate\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({ checked: !!this.props.checked });\n      }\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(event) {\n      if (this.props.disabled) {\n        return;\n      }\n      var checkbox = this.props.innerref && this.props.innerref.current || this.input;\n      if (event.target !== checkbox && !this.moved) {\n        this.previouslyChecked = checkbox.checked;\n        event.preventDefault();\n        checkbox.focus();\n        checkbox.click();\n        return;\n      }\n\n      var checked = this.props.hasOwnProperty('checked') ? this.props.checked : checkbox.checked;\n\n      this.setState({ checked: checked });\n    }\n  }, {\n    key: 'handleTouchStart',\n    value: function handleTouchStart(event) {\n      if (this.props.disabled) {\n        return;\n      }\n      this.startX = (0, _util.pointerCoord)(event).x;\n      this.activated = true;\n    }\n  }, {\n    key: 'handleTouchMove',\n    value: function handleTouchMove(event) {\n      if (!this.activated) return;\n      this.moved = true;\n\n      if (this.startX) {\n        var currentX = (0, _util.pointerCoord)(event).x;\n        if (this.state.checked && currentX + 15 < this.startX) {\n          this.setState({ checked: false });\n          this.startX = currentX;\n          this.activated = true;\n        } else if (currentX - 15 > this.startX) {\n          this.setState({ checked: true });\n          this.startX = currentX;\n          this.activated = currentX < this.startX + 5;\n        }\n      }\n    }\n  }, {\n    key: 'handleTouchEnd',\n    value: function handleTouchEnd(event) {\n      if (!this.moved) return;\n      var checkbox = this.input;\n      event.preventDefault();\n\n      if (this.startX) {\n        var endX = (0, _util.pointerCoord)(event).x;\n        if (this.previouslyChecked === true && this.startX + 4 > endX) {\n          if (this.previouslyChecked !== this.state.checked) {\n            this.setState({ checked: false });\n            this.previouslyChecked = this.state.checked;\n            checkbox.click();\n          }\n        } else if (this.startX - 4 < endX) {\n          if (this.previouslyChecked !== this.state.checked) {\n            this.setState({ checked: true });\n            this.previouslyChecked = this.state.checked;\n            checkbox.click();\n          }\n        }\n\n        this.activated = false;\n        this.startX = null;\n        this.moved = false;\n      }\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var onFocus = this.props.onFocus;\n\n\n      if (onFocus) {\n        onFocus(event);\n      }\n\n      this.setState({ hasFocus: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var onBlur = this.props.onBlur;\n\n\n      if (onBlur) {\n        onBlur(event);\n      }\n\n      this.setState({ hasFocus: false });\n    }\n  }, {\n    key: 'getIcon',\n    value: function getIcon(type) {\n      var icons = this.props.icons;\n\n      if (!icons) {\n        return null;\n      }\n      return icons[type] === undefined ? Toggle.defaultProps.icons[type] : icons[type];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          _icons = _props.icons,\n          inputProps = _objectWithoutProperties(_props, ['className', 'icons']);\n\n      var classes = (0, _classnames2.default)('react-toggle', {\n        'react-toggle--checked': this.state.checked,\n        'react-toggle--focus': this.state.hasFocus,\n        'react-toggle--disabled': this.props.disabled\n      }, className);\n\n      return _react2.default.createElement(\n        'div',\n        { className: classes,\n          onClick: this.handleClick,\n          onTouchStart: this.handleTouchStart,\n          onTouchMove: this.handleTouchMove,\n          onTouchEnd: this.handleTouchEnd },\n        _react2.default.createElement(\n          'div',\n          { className: 'react-toggle-track' },\n          _react2.default.createElement(\n            'div',\n            { className: 'react-toggle-track-check' },\n            this.getIcon('checked')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'react-toggle-track-x' },\n            this.getIcon('unchecked')\n          )\n        ),\n        _react2.default.createElement('div', { className: 'react-toggle-thumb' }),\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: this.props.innerref || function (ref) {\n            _this2.input = ref;\n          },\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          className: 'react-toggle-screenreader-only',\n          type: 'checkbox' }))\n      );\n    }\n  }]);\n\n  return Toggle;\n}(_react.PureComponent);\n\nToggle.displayName = 'Toggle';\n\nToggle.defaultProps = {\n  icons: {\n    checked: _react2.default.createElement(_check2.default, null),\n    unchecked: _react2.default.createElement(_x2.default, null)\n  }\n};\n\nToggle.propTypes = {\n  checked: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  defaultChecked: _propTypes2.default.bool,\n  onChange: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  className: _propTypes2.default.string,\n  name: _propTypes2.default.string,\n  value: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  'aria-labelledby': _propTypes2.default.string,\n  'aria-label': _propTypes2.default.string,\n  icons: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.shape({\n    checked: _propTypes2.default.node,\n    unchecked: _propTypes2.default.node\n  })])\n};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'svg',\n    { width: '14', height: '11', viewBox: '0 0 14 11' },\n    _react2.default.createElement('path', { d: 'M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0', fill: '#fff', fillRule: 'evenodd' })\n  );\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'svg',\n    { width: '10', height: '10', viewBox: '0 0 10 10' },\n    _react2.default.createElement('path', { d: 'M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12', fill: '#fff', fillRule: 'evenodd' })\n  );\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pointerCoord = pointerCoord;\n// Copyright 2015-present Drifty Co.\n// http://drifty.com/\n// from: https://github.com/driftyco/ionic/blob/master/src/util/dom.ts\n\nfunction pointerCoord(event) {\n  // get coordinates for either a mouse click\n  // or a touch depending on the given event\n  if (event) {\n    var changedTouches = event.changedTouches;\n    if (changedTouches && changedTouches.length > 0) {\n      var touch = changedTouches[0];\n      return { x: touch.clientX, y: touch.clientY };\n    }\n    var pageX = event.pageX;\n    if (pageX !== undefined) {\n      return { x: pageX, y: event.pageY };\n    }\n  }\n  return { x: 0, y: 0 };\n}"],"sourceRoot":""}