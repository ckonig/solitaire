(this["webpackJsonpsolitaire-react"]=this["webpackJsonpsolitaire-react"]||[]).push([[2],[,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(17),o=n(4),a=(n(43),n(33)),r=n(16),s=n(22),u=n(28),l=n(21),d=n(20),f=n(1),j=n.n(f),b=(n(44),n(45),n(46),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={width:0,height:0},i.updateWindowDimensions=i.updateWindowDimensions.bind(Object(u.a)(i)),i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.state.width>=this.state.height*this.props.ratio.multiplier?"landscape":"portrait";return Object(i.jsx)("div",{className:"appwrapper",children:Object(i.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e,children:Object(i.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e+"-inner",children:Object(i.jsx)("div",{className:"appwrapper-jail",children:this.props.children})})})})}}]),n}(j.a.Component)),y=n(23),h=n(24),p=n(31),g=n(34),v=function(){function e(){Object(r.a)(this,e),this.cards=void 0;var t=Object.keys(g.a);this.cards=p.a.map((function(e){return Object(y.a)(t.map((function(t){return new h.a(e,g.a[t],!0)})))})).flat().reverse()}return Object(s.a)(e,[{key:"shuffle",value:function(){return this.shuffleArray(this.cards),this}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}}},{key:"copy",value:function(){var t=new e;return t.cards=h.a.copyAll(this.cards),t}}]),e}(),x=n(5),O=n(27),m=n(19),k=n(18),w=[{id:0,settings:{drawMode:"single",recyclingMode:"infinite"},icon:"\ud83d\udc2d",lines:["Turn 1 card","No Limit"]},{id:1,settings:{drawMode:"single",recyclingMode:"3-pass"},icon:"\ud83d\udc39",lines:["Turn 1 card","Three passes"]},{id:2,settings:{drawMode:"single",recyclingMode:"1-pass"},icon:"\ud83d\udc30",lines:["Turn 1 card","Only a single pass"]},{id:3,settings:{drawMode:"triple",recyclingMode:"infinite"},icon:"\ud83d\udc28",lines:["Turn 3 cards","No limit"]},{id:4,settings:{drawMode:"triple",recyclingMode:"3-pass"},icon:"\ud83d\udc3c",lines:["Turn 3 cards ","Three passes"]},{id:5,settings:{drawMode:"triple",recyclingMode:"1-pass"},icon:"\ud83d\udc3b",lines:["Turn 3 cards ","Only a single pass"]}],C=[{id:0,icon:"\ud83d\uddb1\ufe0f",inputMethod:"mouse",inputLayout:0,lines:["Mouse or","Touchpad"]},{id:1,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:0,lines:["Gamepad 1"]},{id:2,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:1,lines:["Gamepad 2"]},{id:3,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:0,lines:["Keyboard","WASD"]},{id:4,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:1,lines:["Keyboard","ARROWS"]},{id:5,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:2,lines:["Keyboard","NUMPAD"]}],S=j.a.createContext({closeScreen:function(){}}),N=function(){var e=j.a.useContext(S).closeScreen;return Object(i.jsx)("div",{className:"closer",children:Object(i.jsx)("button",{onClick:e,children:"\ud83d\uddd9"})})},M=function e(){var t=this;Object(r.a)(this,e),this.hasConsent=function(){var e=localStorage.getItem("consent");return e&&!!parseInt(e)},this.giveConsent=function(){return{prompt:"Allow this game to store settings, so your changes will stay. No data leaves your computer.",confirm:function(){localStorage.setItem("consent","1")}}},this.revokeConsent=function(){return{prompt:"Delete all local stored data? All settings will be lost.",confirm:function(){localStorage.clear()}}},this.store=function(e){t.hasConsent()&&localStorage.setItem("state",JSON.stringify(e))},this.getPreviousState=function(){if(t.hasConsent()){var e=localStorage.getItem("state");return null!=e?JSON.parse(e):null}return null}},E=function(e,t){var n=e;return t.hasFocus&&(n+=" focused"),t.disabled&&(n+=" disabled"),n},L=function(e,t){j.a.useEffect((function(){e.hasFocus&&t&&t.current&&t.current!==document.activeElement&&t.current.focus()}),[e.hasFocus,t])},P=function(e){var t=j.a.useContext(m.a).navigation,n=function(e,n){return"screen"==t.focus&&t.screen.x==n&&t.screen.y==e},c=j.a.useRef(null);L({hasFocus:n(e.y,e.x)},c);var o="cookiebanner";return n(e.y,e.x)&&(o+=" focused"),e.consented?null:Object(i.jsxs)("button",{ref:c,className:o,onClick:function(){var t=(new M).giveConsent();!e.consented&&confirm(t.prompt)&&(t.confirm(),e.setConsented(!0))},children:[Object(i.jsx)("div",{className:"icon",children:"\ud83c\udf6a"}),Object(i.jsxs)("div",{className:"message",children:[Object(i.jsx)("b",{children:"Changes on this page will be lost after each game"}),", until you allow this app to store data on your machine. Click here to give consent."]})]})},D=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t=j.a.useContext(k.a),n=t.consented,c=t.setConsented;return Object(i.jsx)(P,{x:e.x,y:e.y,consented:n,setConsented:c})},R=n(29),A=function(e){if("undefined"==typeof e.y||"undefined"==typeof e.navigator)return null;var t=function(t,n){if(!t)return null;var i;e.skip||(((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.y||0].buttons[n||0]={x:n,y:e.y});return j.a.cloneElement(t,{key:n,x:n,y:e.y})};return e.children?Object(i.jsx)("div",{className:"row",children:Array.isArray(e.children)?e.children.map(t):t(e.children,0)}):null},F=n(32),U=n(30),T=function(e){var t=e.navigator,n=j.a.useContext(m.a),o=n.navigation,a=n.setNavigation,r=function(e){if("screen"==o.focus&&a(Object(c.a)(Object(c.a)({},o),{},{screen:e})),"menu"==o.focus)throw"Invalid navigation action"},s={onCancel:function(){return a(Object(c.a)(Object(c.a)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:Object(c.a)({},o.menu)}))},onUp:function(){return r(t.moveUp(o.screen.x,o.screen.y))},onDown:function(){return r(t.moveDown(o.screen.x,o.screen.y))},onLeft:function(){return r(t.moveLeft(o.screen.x,o.screen.y))},onRight:function(){return r(t.moveRight(o.screen.x,o.screen.y))},onAction:function(){return t.action(o.screen)}};return"screen"==o.focus?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(F.a,Object(c.a)({layout:U.a},s)),Object(i.jsx)(R.a,Object(c.a)({},s))]}):null},I=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).moveUp=function(t,n){var i=e.getRows();return 0==n?e.goToRow({x:t,y:i.length-1}):e.goToRow({x:t,y:n-1})},e.moveDown=function(t,n){return n==e.getRows().length-1?e.goToRow({x:t,y:0}):e.goToRow({x:t,y:n+1})},e.moveLeft=function(t,n){var i=e.getRow(n);return 0==t?{x:i.buttons.length-1,y:n}:{x:t-1,y:n}},e.moveRight=function(t,n){return t==e.getRow(n).buttons.length-1?{x:0,y:n}:{x:t+1,y:n}},e.action=function(){var e=document.activeElement;e&&e.click()},e}return n}(n(37).a),B=function(e){var t=new I,n=-1,c=-1;return Object(i.jsxs)("div",{className:"content",children:[e.children.map((function(e){return function(e){return c++,e.props.skip||(n++,t.rows[n]={buttons:[]}),j.a.cloneElement(e,{key:c,x:0,y:n,navigator:t})}(e)})),Object(i.jsx)(T,{navigator:t,screen:"rating"})]})},q=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t={x:e.x,y:e.y},n=j.a.useRef(null),o=j.a.useContext(m.a),a=o.navigation,r=o.setNavigation,s="screen"==a.focus&&a.screen.x==e.x&&a.screen.y==e.y;j.a.useEffect((function(){s&&n&&n.current&&n.current!==document.activeElement&&n.current.focus()}),[n,s]),j.a.useEffect((function(){e.autoFocus&&!s&&n&&n.current&&n.current!==document.activeElement&&-1==a.screen.x&&-1==a.screen.y&&n.current.focus()}),[n]);return Object(i.jsxs)("button",{onFocus:function(){s||r(Object(c.a)(Object(c.a)({},a),{},{screen:{x:e.x||0,y:e.y||0}}))},ref:n,disabled:e.disabled,className:e.className(t),onClick:function(){e.onClick(),r(Object(c.a)(Object(c.a)({},a),{},{screen:{x:e.x||0,y:e.y||0}}))},children:[e.icon,e.lines.map((function(e,t){return Object(i.jsx)("div",{children:e},t)}))]},e.id)},H=function(e){var t=j.a.useContext(m.d),n=t.state,a=t.setState,r=j.a.useContext(m.a).navigation,s=n.players[e.player];if(!s)return null;var u=j.a.useState([{found:!1,buttonPressed:!1},{found:!1,buttonPressed:!1}]),l=Object(o.a)(u,2),d=l[0],f=l[1],b=function(e){d[e].found=!0,f(Object(c.a)({},d))},h=function(e){d[e].found=!0,d[e].buttonPressed=!0,f(Object(c.a)({},d)),console.log(d)},p=j.a.useContext(k.a).consented,g=function(e,t){return n.players[t].inputLayout==C[e].inputLayout&&n.players[t].inputMethod==C[e].inputMethod},v=function(t){return g(t,e.player)},x=function(t){var i=Object(c.a)({},n.players);i[e.player].inputMethod=C[t].inputMethod,i[e.player].inputLayout=C[t].inputLayout,a(Object(c.a)(Object(c.a)({},n),{},{players:i}))},O=function(e,t){var n=t.x+""+t.y+" "+r.screen.x+r.screen.y+" ";return n+=r.screen.x==t.x&&r.screen.y==t.y?" focused":"",n+=v(e)?" active-0":" inactive-0",n+=w(e)?" disabled":""},w=function(t){var n=[0,1].filter((function(t){return t!==e.player}));return g(t,n[0])},S=function(e){return"gamepad"==e.inputMethod?[].concat(Object(y.a)(e.lines),[d[e.inputLayout].found||d[e.inputLayout].buttonPressed?"Connected":"Not Found"]):e.lines};return Object(i.jsxs)("div",{className:"controls startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:s.name}),Object(i.jsxs)(B,{id:"settings",children:[Object(i.jsx)(A,{skip:p,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:C.slice(0,3).map((function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,disabled:w(e.id),autoFocus:v(e.id),className:function(t){return O(e.id,t)},onClick:function(){return x(e.id)},lines:S(e)},e.id)}))}),Object(i.jsx)(A,{children:C.slice(3).map((function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,disabled:w(e.id),autoFocus:v(e.id),className:function(t){return O(e.id,t)},onClick:function(){return x(e.id)},lines:e.lines},e.id)}))}),Object(i.jsxs)(A,{skip:!0,children:[Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"@todo"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]}),Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"@todo"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]})]})]}),Object(i.jsx)(R.a,{gamepadIndex:0,onConnect:function(){return b(0)},onUp:function(){return h(0)},onDown:function(){return h(0)},onRight:function(){return h(0)},onLeft:function(){return h(0)},onAction:function(){return h(0)}}),Object(i.jsx)(R.a,{gamepadIndex:1,onConnect:function(){return b(1)},onUp:function(){return h(1)},onDown:function(){return h(1)},onRight:function(){return h(1)},onLeft:function(){return h(1)},onAction:function(){return h(1)}})]})},G=function(){var e=j.a.useContext(m.d),t=e.state,n=e.setState,o=j.a.useContext(m.a).navigation,a=function(e){return t.difficultySettings==e},r=function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,autoFocus:a(e.id),className:function(t){return function(e,t){var n=o.screen.x==t.x&&o.screen.y==t.y,i=a(e)?"active active-".concat(e):"inactive-".concat(e);return i+(n?" focused":"")}(e.id,t)},onClick:function(){return n(Object(c.a)(Object(c.a)({},t),{},{difficultySettings:e.id}))},lines:e.lines},e.id)},s=j.a.useContext(k.a).consented;return Object(i.jsxs)("div",{className:"difficulty startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Difficulty"}),Object(i.jsxs)(B,{id:"difficulty",children:[Object(i.jsx)(A,{skip:s,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:w.slice(0,3).map(r)}),Object(i.jsx)(A,{children:w.slice(3).map(r)}),Object(i.jsxs)(A,{skip:!0,children:[Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"Draw Mode"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"description",children:["triple"==w[t.difficultySettings].settings.drawMode?"Turn 3 cards at once from the Stock to the Waste.":null,"single"==w[t.difficultySettings].settings.drawMode?"Turn 1 card after the other from the Stock to the Waste.":null]})]}),Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"Pass Limit"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"description",children:["1-pass"==w[t.difficultySettings].settings.recyclingMode?"One pass through the deck. Waste can not be recycled to the Stock.":null,"3-pass"==w[t.difficultySettings].settings.recyclingMode?"Three passes through the deck. Waste can be recycled to Stock two times.":null,"infinite"==w[t.difficultySettings].settings.recyclingMode?"No limit on passes through the deck. Waste can be recycled to Stock endlessly.":null]})]})]})]})]})},W=n(38),z=function(e){var t=j.a.useRef(null);L(e,t);var n=j.a.useContext(m.a),o=n.navigation,a=n.setNavigation;return Object(i.jsxs)("div",{className:E("togglecontainer",e),children:[Object(i.jsxs)("div",{className:"title",children:[e.label,": ",e.values[e.value].label]}),Object(i.jsx)("div",{className:"button",children:Object(i.jsx)("button",{ref:t,onClick:function(){e.callBack((e.value+1<e.values.length?e.value+1:0).toString()),a(Object(c.a)(Object(c.a)({},o),{},{screen:{x:e.x,y:e.y}}))},disabled:!!e.disabled,onFocus:function(){e.hasFocus||a(Object(c.a)(Object(c.a)({},o),{},{screen:{x:e.x,y:e.y}}))},children:"\ud83d\udd01"})}),Object(i.jsx)("div",{className:"description",children:e.description})]})},Y=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t,n,c=j.a.useContext(m.a).navigation,o={x:e.x||0,y:e.y||0};return Object(i.jsx)(z,{x:o.x,y:o.y,disabled:!!e.disabled,hasFocus:(t=o.y,n=o.x,"screen"==c.focus&&c.screen.x==n&&c.screen.y==t),label:e.label,description:e.description,value:e.value,values:e.values,callBack:e.callBack})},V=(n(50),n(51)),X=n.n(V),J=function(e){var t=j.a.useRef(null);L(e,t);var n=j.a.useContext(m.a),o=n.navigation,a=n.setNavigation;return function(e,t,n){j.a.useEffect((function(){e.autoFocus&&!e.hasFocus&&t&&t.current&&t.current!==document.activeElement&&-1==n.x&&-1==n.y&&t.current.focus()}),[t])}(e,t,o.screen),Object(i.jsxs)("div",{className:E("togglecontainer",e),children:[Object(i.jsx)("div",{className:"title",children:e.label}),Object(i.jsx)("div",{className:"toggle",children:Object(i.jsx)(X.a,{ref:t,disabled:!!e.disabled,autoFocus:e.hasFocus,onFocus:function(){e.hasFocus||a(Object(c.a)(Object(c.a)({},o),{},{screen:{x:e.x,y:e.y}}))},checked:e.value,onChange:function(){return t=!e.value,n={x:e.x,y:e.y},a(Object(c.a)(Object(c.a)({},o),{},{screen:n})),void e.callBack(t);var t,n}})}),Object(i.jsx)("div",{className:"description",children:e.description})]})},K=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t,n,c=j.a.useContext(m.a).navigation,o={x:e.x||0,y:e.y||0};return Object(i.jsx)(J,{x:o.x,y:o.y,disabled:!!e.disabled,hasFocus:(t=o.y,n=o.x,"screen"==c.focus&&c.screen.x==n&&c.screen.y==t),label:e.label,description:e.description,value:e.value,callBack:e.callBack,autoFocus:e.autoFocus})},_=function(e){return[{entropy:2,quickDeal:!1,lines:[(e.quickDeal?"Optimize":"Optimized")+" for Desktop"],icon:"\ud83d\udda5\ufe0f"},{entropy:1,quickDeal:!0,lines:[(e.quickDeal?"Optimized":"Optimize")+" for Mobile"],icon:"\ud83d\udcf1"}]},Q=function(){var e=j.a.useContext(m.d),t=e.state,n=e.setState,o=j.a.useContext(m.a).navigation,a=j.a.useContext(k.a).consented,r=function(e){return t.quickDeal==e};return Object(i.jsxs)("div",{className:"quickstart startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Various"}),Object(i.jsxs)(B,{id:"settings",children:[Object(i.jsx)(A,{skip:a,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:_(t).map((function(e,a){return Object(i.jsx)(q,{icon:e.icon,id:a,autoFocus:r(e.quickDeal),className:function(t){return function(e,t){var n=o.screen.x==t.x&&o.screen.y==t.y,i=r(e.quickDeal)?"active active-0":"inactive-0";return i+(n?" focused":"")}(e,t)},lines:e.lines,onClick:function(){return n(Object(c.a)(Object(c.a)({},t),{},{quickDeal:e.quickDeal,entropySettings:{baseEntropy:e.entropy,interactionEntropy:e.entropy}}))}},a)}))}),Object(i.jsxs)(A,{children:[Object(i.jsx)(Y,{label:"Base Entropy",description:"How much chaos will the stacks on the board contain by themselves?",value:t.entropySettings.baseEntropy||0,values:W.a.map((function(e,t){return{id:t,label:e}})),callBack:function(e){return n(Object(c.a)(Object(c.a)({},t),{},{entropySettings:Object(c.a)(Object(c.a)({},t.entropySettings),{},{baseEntropy:parseInt(e)})}))}}),Object(i.jsx)(Y,{label:"Interaction Entropy",description:"How much chaos will each interaction add to a stack on the board?",value:t.entropySettings.interactionEntropy||0,values:W.a.map((function(e,t){return{id:t,label:e}})),callBack:function(e){return n(Object(c.a)(Object(c.a)({},t),{},{entropySettings:Object(c.a)(Object(c.a)({},t.entropySettings),{},{interactionEntropy:parseInt(e)})}))}})]}),Object(i.jsxs)(A,{children:[Object(i.jsx)(K,{label:"Instant Deal",description:"Should the deal animation at the beginning of the game be skipped?",value:t.quickDeal,callBack:function(e){return n(Object(c.a)(Object(c.a)({},t),{},{quickDeal:e}))}}),Object(i.jsx)(K,{disabled:!0,label:"Auto Deal",description:"Should the game draw one card from the stock every 5 seconds?",value:!1,callBack:function(){}})]})]})]})},Z=n(35),$=n(25),ee=function(){var e=j.a.useContext(m.d),t=e.state,n=e.setState,o=j.a.useContext(m.a).navigation,a=function(e){return t.ratingPreset==e},r=function(e){var i=Object(c.a)({},t);e(i.ratingSettings),i.ratingPreset=Z.a.matchPreset(i.ratingSettings),n(i)},s=j.a.useContext(k.a).consented;return Object(i.jsxs)("div",{className:"rating startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Penalties"}),Object(i.jsxs)(B,{id:"penalties",children:[Object(i.jsx)(A,{skip:s,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:Z.a.ALL.map((function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,autoFocus:a(e.id)||-1==t.ratingPreset&&0==e.id,className:function(t){return function(e,t){var n=a(e)?"active active-".concat(e):"inactive-".concat(e);return n+(o.screen.x==t.x&&o.screen.y==t.y?" focused":"")}(e.id,t)},onClick:function(){return function(e){var i=Object(c.a)({},t);Z.a.ALL[e].apply(i),n(i)}(e.id)},lines:[e.label]},e.id)}))}),Object(i.jsxs)(A,{children:[Object(i.jsx)(K,{label:"Undo Penalty",description:"Undo is enabled, but excessive use will be painful. This penalty starts with 2 and increases exponentially.",value:!!t.ratingSettings.undoPenalty,callBack:function(e){return r((function(t){t.undoPenalty=e}))}}),Object(i.jsx)(K,{label:"Time Penalty",description:"Fast players are rewarded with a time bonus, slow players will be punished.",value:!!t.ratingSettings.timedMode,callBack:function(e){return r((function(t){t.timedMode=e}))}})]}),Object(i.jsxs)(A,{children:[Object(i.jsx)(K,{label:"Hint Penalty",description:"Each manual hint will reduce the number of points by 10. This setting disables automatic suggestions. ",value:!!t.ratingSettings.hintPenalty,callBack:function(e){!function(e,i){var o=Object(c.a)({},t);e(o.ratingSettings),i(o),o.ratingPreset=Z.a.matchPreset(o.ratingSettings),n(o)}((function(t){t.hintPenalty=e}),(function(t){t.suggestionMode=e?$.a.NONE:$.a.REGULAR}))}}),Object(i.jsx)(K,{label:"Miss Penalty",description:"Be careful where you click, as each invalid action will lead to a penalty of 10 points.",value:!!t.ratingSettings.missPenalty,callBack:function(e){return r((function(t){t.missPenalty=e}))}})]})]})]})},te=function(){var e=j.a.useContext(k.a).consented,t=j.a.useContext(m.d),n=t.state,o=t.setState,a=$.a.allSuggestionModes(),r=function(e){return n.suggestionMode==e},s=function(e,t){return Object(i.jsx)(K,{value:r(e.key),disabled:(a=e.key,a!==$.a.NONE&&n.ratingSettings.hintPenalty),label:e.icon+" "+e.label,callBack:function(){return o(Object(c.a)(Object(c.a)({},n),{},{suggestionMode:e.key}))},description:e.description,autoFocus:r(e.key)},t);var a};return Object(i.jsxs)("div",{className:"suggestions startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Suggestions"}),Object(i.jsxs)(B,{id:"settings",children:[Object(i.jsx)(A,{skip:e,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:a.slice(0,2).map(s)}),Object(i.jsx)(A,{children:a.slice(2).map(s)})]})]})},ne=function(e){var t=j.a.useContext(m.a),n=t.navigation,o=t.setNavigation;return Object(i.jsx)(S.Provider,{value:{closeScreen:function(){return o(Object(c.a)(Object(c.a)({},n),{},{focus:"menu",screeen:"",mainMenu:n.mainMenu,menu:Object(c.a)({},n.menu)}))}},children:Object(i.jsx)("div",{className:"startscreen-layout",children:Object(i.jsxs)("div",{className:"startscreen-jail",children:["rating"==e.screen?Object(i.jsx)(ee,{}):null,"difficulty"==e.screen?Object(i.jsx)(G,{}):null,"settings"==e.screen?Object(i.jsx)(Q,{}):null,"suggestions"==e.screen?Object(i.jsx)(te,{}):null,"controls0"==e.screen?Object(i.jsx)(H,{player:0}):null,"controls1"==e.screen?Object(i.jsx)(H,{player:1}):null]})})})},ie=(n(39),n(40)),ce=n(41),oe=n(42),ae=function(e){return Object(i.jsx)("div",{className:"ui menu",children:Object(i.jsx)("div",{className:"startscreen-jail",children:Object(i.jsx)("div",{className:"innermenu",children:e.children})})})},re=function(e){var t=j.a.useContext(m.a),n=t.navigation,o=t.setNavigation,a=j.a.useContext(k.a),r=a.consented,s=a.setConsented,u=function(e,t){return o(Object(c.a)(Object(c.a)({},n),{},{focus:"menu",screeen:"",mainMenu:e,menu:Object(c.a)({},t)}))},l=function(e,t){n.screeen!==e?function(e,t){o(Object(c.a)(Object(c.a)({},n),{},{focus:"screen",screeen:e,screen:{x:-1,y:-1},menu:Object(c.a)({},t)}))}(e,t):u(n.mainMenu,t)},d=function(e,t){return u(n.mainMenu!==e?e:"",t)},f=r?function(){var e=b.revokeConsent();confirm(e.prompt)&&(e.confirm(),s(!1))}:function(){var e=b.giveConsent();confirm(e.prompt)&&(e.confirm(),s(!0))},b=new M;return Object(i.jsxs)(ae,{children:[Object(i.jsx)(ce.a,{label:"\u2666 Solitaire"}),Object(i.jsxs)(oe.a,{keyboardLayout:U.a,children:[Object(i.jsx)(ie.a,{icon:"\ud83c\udfb2",title:"Single Player",onClick:function(){return e.start(O.a.SINGLEPLAYER)}}),Object(i.jsxs)(ie.a,{icon:"\u2694\ufe0f",title:"Versus",onClick:function(e){return d("versus",e)},toggled:"versus"==n.mainMenu,children:[Object(i.jsx)(ie.a,{icon:"\ud83c\udfae",title:"Player 1",onClick:function(e){return l("controls0",e)},toggled:"controls0"==n.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83c\udfae",title:"Player 2",onClick:function(e){return l("controls1",e)},toggled:"controls1"==n.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83c\udfb2",title:"Start",onClick:function(){return e.start(O.a.VERSUS)}})]}),Object(i.jsxs)(ie.a,{icon:"\u2699\ufe0f",title:"Options",onClick:function(e){return d("custom",e)},toggled:"custom"==n.mainMenu,children:[Object(i.jsx)(ie.a,{icon:"\ud83d\udcaa",title:"Difficulty",onClick:function(e){return l("difficulty",e)},toggled:"difficulty"==n.screeen}),Object(i.jsx)(ie.a,{icon:"\u2696\ufe0f",title:"Penalties",onClick:function(e){return l("rating",e)},toggled:"rating"==n.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83d\udca1",title:"Suggestions",onClick:function(e){return l("suggestions",e)},toggled:"suggestions"==n.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83e\uddf0",title:"Various",onClick:function(e){return l("settings",e)},toggled:"settings"==n.screeen})]}),Object(i.jsx)(ie.a,{icon:"\ud83c\udf6a",title:r?"Delete Cookie":"Allow Cookie",onClick:f,toggled:!1})]})]})},se=function(e){var t=new M,n=j.a.useState(!!t.hasConsent()),a=Object(o.a)(n,2),r=a[0],s=a[1],u=t.getPreviousState(),l=j.a.useState(u||m.e),d=Object(o.a)(l,2),f=d[0],b=d[1],y={x:0,y:0},h=j.a.useState({menu:Object(c.a)({},y),screen:Object(c.a)({},y),focus:"menu",mainMenu:"",screeen:""}),p=Object(o.a)(h,2),g=p[0],v=p[1],x={state:f,setState:function(e){b(e),t.store(e)}},O={navigation:g,setNavigation:v},C={consented:r,setConsented:s};return Object(i.jsx)(m.c,{value:x,children:Object(i.jsx)(m.b,{value:O,children:Object(i.jsxs)(k.b,{value:C,children:[Object(i.jsx)(re,{start:function(t){var n=Object(c.a)(Object(c.a)(Object(c.a)({},w[f.difficultySettings].settings),f.ratingSettings),{},{baseEntropy:f.entropySettings.baseEntropy||0,interactionEntropy:f.entropySettings.interactionEntropy||0,players:Object(c.a)({},f.players),quickDeal:f.quickDeal,boardMode:t,initialized:!0,suggestionMode:f.suggestionMode,inputMode:""});e.start(n)}}),Object(i.jsx)(ne,{screen:g.screeen})]})})})},ue=n(26),le=function e(){Object(r.a)(this,e)};le._16to9={prefix:"16-to-9",multiplier:1.7778},le._4to3={prefix:"4-to-3",multiplier:1.3333};t.default=function(){var e=j.a.useState(0),t=Object(o.a)(e,2),r=t[0],s=t[1],u={boardMode:O.a.SINGLEPLAYER,inputMode:"mouse",initialized:!1,players:a.a,drawMode:"",recyclingMode:"",interactionEntropy:0,baseEntropy:0,suggestionMode:$.a.NONE},l=j.a.useState(u),d=Object(o.a)(l,2),f=d[0],y=d[1],h=function(){y(u)},p=(new v).shuffle();if(null===f||void 0===f?void 0:f.initialized){var g=j.a.lazy((function(){return n.e(5).then(n.bind(null,62))})),m=null;return f.boardMode==O.a.SINGLEPLAYER&&(m=Object(i.jsx)(b,{ratio:le._4to3,children:Object(i.jsx)("div",{className:"layout-grid-container singleplayer",children:Object(i.jsx)(g,{player:0,settings:f,restart:h,deck:p})})})),f.boardMode==O.a.VERSUS&&(m=Object(i.jsxs)("div",{className:"game-layout-container splitscreen",children:[Object(i.jsx)("div",{className:"layout-grid-container "+f.boardMode,children:Object(i.jsx)(g,{player:0,settings:Object(c.a)(Object(c.a)({},f),{},{inputMode:f.players[0].inputMethod}),restart:h,deck:p.copy()})}),Object(i.jsx)("div",{className:"layout-grid-container "+f.boardMode,children:Object(i.jsx)(g,{player:1,settings:Object(c.a)(Object(c.a)({},f),{},{inputMode:f.players[1].inputMethod}),restart:h,deck:p.copy()})})]})),Object(i.jsx)(ue.a,{started:r,children:Object(i.jsx)(x.a,{delay:500,fallback:Object(i.jsx)("h3",{children:"Loading..."}),children:m})})}return Object(i.jsx)(b,{ratio:le._16to9,children:Object(i.jsx)(se,{start:function(e){p.shuffle(),y(Object(c.a)({},e)),s(Date.now())}})})}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var i=n(1),c=n.n(i),o={state:null,replaceContext:function(){},updateContext:function(){},updateGameContext:function(){},restart:function(){}},a=c.a.createContext(o),r=a.Provider;t.d=a;var s=c.a.createContext({consented:!1,setConsented:function(){}}),u=s.Provider},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return b}));var i=n(17),c=n(33),o=n(35),a=n(1),r=n.n(a),s=n(25),u=function(){try{var e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||"undefined"!==typeof window.DocumentTouch&&document instanceof window.DocumentTouch||(t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches)}catch(n){return console.error("(Touch detect failed)",n),!1}var t},l={ratingSettings:Object(i.a)({},o.a.REGULAR),difficultySettings:1,ratingPreset:1,quickDeal:u(),entropySettings:{baseEntropy:u()?1:2,interactionEntropy:u()?1:2},suggestionMode:s.a.REGULAR,players:c.a},d=r.a.createContext({navigation:{menu:{x:0,y:0},screen:{x:0,y:0},focus:"menu",mainMenu:"",screeen:""},setNavigation:function(){}}),f=r.a.createContext({state:{difficultySettings:0,ratingPreset:0,ratingSettings:{},entropySettings:{},quickDeal:!1,suggestionMode:s.a.REGULAR,players:c.a},setState:function(){}}),j=f.Provider,b=d.Provider;t.d=f},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(17),c=n(16),o=n(22),a=function(){function e(t,n,i){var o=this;Object(c.a)(this,e),this.face=void 0,this.type=void 0,this.isHidden=void 0,this.entropyStyle=void 0,this.source=void 0,this.suggestion=void 0,this.canClick=void 0,this.onClick=void 0,this.causeEntropy=function(e){if(0!=e){var t=2*e,n=function(){return Math.random()<.5},i=function(e,t){return Math.random()*(t-e)+e};n()&&(n()?o.entropyStyle.left=i(0,t/20)+"vw":o.entropyStyle.right=i(0,t/20)+"vw"),o.entropyStyle.transform="rotate("+i(-1*t,t)+"deg)"}else o.entropyStyle={}},this.equals=function(t){return t&&e.equals(o,t)},this.face=t,this.type=n,this.isHidden=i,this.entropyStyle={},this.source="",this.suggestion=!1,this.canClick=function(){},this.onClick=function(e){}}return Object(o.a)(e,null,[{key:"equals",value:function(e,t){return!e&&!t||e&&t&&t.face==e.face&&t.type.icon==e.type.icon}}]),e}();a.copy=function(e){var t=new a(e.face,e.type,e.isHidden);return t.source=e.source,t.entropyStyle=Object(i.a)({},e.entropyStyle),t.canClick=e.canClick,t.onClick=e.onClick,t},a.copyAll=function(e){return e.map((function(e){return a.copy(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(16),c=function e(t,n){Object(i.a)(this,e),this.key=void 0,this.label=void 0,this.isTemporary=void 0,this.supportsHints=void 0,this.next=void 0,this.icon=void 0,this.description=void 0,this.key=t,this.label=n.label,this.icon=n.icon,this.description=n.description,this.isTemporary=!!n.isTemporary,this.supportsHints=!!n.supportsHints,this.next=n.next},o=function e(){Object(i.a)(this,e)};o.NONE="NONE",o.SCORED="SCORED",o.REGULAR="REGULAR",o.FULL="FULL",o.ONCE="ONCE",o.TWICE="TWICE",o.raw={NONE:{label:"None",description:"No distractions. This enables one-time hints.",supportsHints:!0,icon:"\u274c"},SCORED:{label:"Scored",description:"Shows all actions that increase the score.",icon:"\ud83c\udfc6"},REGULAR:{label:"Regular",description:"Shows all possible actions except circular",icon:"\ud83d\udca1"},FULL:{label:"Full",description:"Shows all possible actions, even if they are circular",icon:"\ud83c\udf93"},ONCE:{label:"Single Action",description:"triggered by manual hint in game",isTemporary:!0,next:"NONE",icon:"\u23f3"}},o.get=function(e){return new c(e,o.raw[e])},o.all=function(){return Object.keys(o.raw).map(o.get)},o.allSuggestionModes=function(){return o.all().filter((function(e){return!e.isTemporary}))},o.default=function(){return o.get(o.REGULAR)},o.getHintMode=function(){return o.get(o.ONCE)},o.next=function(e){var t=o.allSuggestionModes();if(t[t.length-1].key==e.key)return t[0];for(var n=0;n<t.length;n++)if(t[n].key==e.key)return t[n+1];return t[0]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n(0),c=n(23),o=n(17),a=n(4),r=n(1),s=n.n(r),u={started:0,end:0,paused:!1,pauses:[],pauseStartedAt:0,allowed:5,pausedBy:-1,showMenu:!1},l={state:u,togglePause:function(){},getElapsed:function(){return""}},d=s.a.createContext(l),f=d.Provider,j=function(e){var t=s.a.useState(Object(o.a)({},u)),n=Object(a.a)(t,2),r=n[0],l=n[1],d={state:Object(o.a)(Object(o.a)({},r),{},{started:e.started}),togglePause:function(e,t){r.showMenu?l(Object(o.a)(Object(o.a)({},r),{},{pausedBy:t,pauses:[].concat(Object(c.a)(r.pauses),[Date.now()-r.pauseStartedAt]),pauseStartedAt:0,paused:!1,showMenu:!1})):r.pauses.length<r.allowed?l(Object(o.a)(Object(o.a)({},r),{},{pausedBy:t,pauseStartedAt:Date.now(),paused:!0,showMenu:!0})):l(Object(o.a)(Object(o.a)({},r),{},{pausedBy:t,pauseStartedAt:0,paused:!1,showMenu:!0}))},getElapsed:function(){var t=function(e){return 1==(e+"").length?"0"+e:e},n=function(){var t=r.pauses.reduce((function(e,t){return e+t}),0);return(r.end||r.pauseStartedAt||Date.now())-e.started-t}(),i=Math.floor(n/1e3/60/60);n-=1e3*i*60*60;var c=Math.floor(n/1e3/60);n-=1e3*c*60;var o=Math.floor(n/1e3);return n-=1e3*o,i?i+":"+t(c)+":"+t(o):t(c)+":"+t(o)}};return Object(i.jsx)(f,{value:d,children:e.children})};t.b=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(16),c=function e(){Object(i.a)(this,e)};c.SINGLEPLAYER="singleplayer",c.VERSUS="splitscreen"},,function(e,t,n){"use strict";var i=n(0),c=(n(1),n(47)),o=n.n(c),a=n(6);t.a=function(e){return Object(i.jsx)(a.a,{delay:125,children:Object(i.jsx)(o.a,{gamepadIndex:e.gamepadIndex,onButtonDown:function(t){console.debug(t),"DPadLeft"==t&&e.onLeft&&e.onLeft(),"DPadRight"==t&&e.onRight&&e.onRight(),"DPadUp"==t&&e.onUp&&e.onUp(),"DPadDown"==t&&e.onDown&&e.onDown(),"A"==t&&e.onAction&&e.onAction(),"B"==t&&e.onCancel&&e.onCancel(),"X"==t&&e.onHint&&e.onHint(),"Y"==t&&e.onUndo&&e.onUndo(),"Start"==t&&e.onPause&&e.onPause(),"Back"==t&&e.onPause&&e.onMenu()},onConnect:function(e){console.debug("connected",e)},onDisconnect:function(e){console.debug("disconnected",e)},children:Object(i.jsx)("span",{})})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){if(0==e)return o;if(1==e)return c;if(2==e)return a;throw"Unknown keyboard layout ID"},c={up:function(e){return 38==e.keyCode},down:function(e){return 40==e.keyCode},right:function(e){return 39==e.keyCode},left:function(e){return 37==e.keyCode},cancel:function(e){return 27==e.keyCode},action:function(e){return 96==e.keyCode},undo:function(e){return 90==e.keyCode&&e.ctrlKey},hint:function(e){return 72==e.keyCode},pause:function(e){return 80==e.keyCode},menu:function(e){return 77==e.keyCode}},o={up:function(e){return 87==e.keyCode},down:function(e){return 83==e.keyCode},right:function(e){return 68==e.keyCode},left:function(e){return 65==e.keyCode},cancel:function(e){return 69==e.keyCode},action:function(e){return 81==e.keyCode},undo:function(e){return 88==e.keyCode},hint:function(e){return 90==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 27==e.keyCode}},a={up:function(e){return 104==e.keyCode},down:function(e){return 101==e.keyCode},right:function(e){return 102==e.keyCode},left:function(e){return 100==e.keyCode},cancel:function(e){return 105==e.keyCode},action:function(e){return 103==e.keyCode},undo:function(e){return 98==e.keyCode},hint:function(e){return 97==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 99==e.keyCode}},r={up:function(e){return a.up(e)||o.up(e)||c.up(e)},down:function(e){return a.down(e)||o.down(e)||c.down(e)},right:function(e){return a.right(e)||o.right(e)||c.right(e)},left:function(e){return a.left(e)||o.left(e)||c.left(e)},cancel:function(e){return a.cancel(e)||o.cancel(e)||c.cancel(e)},action:function(e){return a.action(e)||o.action(e)||c.action(e)},undo:function(e){return a.undo(e)||o.undo(e)||c.undo(e)},hint:function(e){return a.hint(e)||o.hint(e)||c.hint(e)},pause:function(e){return a.pause(e)||o.pause(e)||c.pause(e)},menu:function(e){return a.menu(e)||o.menu(e)||c.menu(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var i=n(23),c=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],o=function(){return["A"].concat(Object(i.a)(c.slice(0,c.length-1))).reverse()},a=function(){return[].concat(c)}},function(e,t,n){"use strict";var i=n(1),c=n.n(i);t.a=function(e){var t=function(t){var n=window.event?event:t,i=e.layout;i.cancel(n)&&(e.onCancel&&e.onCancel(),t.preventDefault()),i.left(n)&&(e.onLeft&&e.onLeft(),t.preventDefault()),i.right(n)&&(e.onRight&&e.onRight(),t.preventDefault()),i.up(n)&&(e.onUp&&e.onUp(),t.preventDefault()),i.down(n)&&(e.onDown&&e.onDown(),t.preventDefault()),i.action(n)&&(e.onAction&&e.onAction(),t.preventDefault()),i.undo(n)&&(e.onUndo&&e.onUndo(),t.preventDefault()),i.hint(n)&&(e.onHint&&e.onHint(),t.preventDefault()),i.pause(n)&&(e.onPause&&e.onPause(),t.preventDefault()),i.menu(n)&&(e.onPause&&e.onMenu(),t.preventDefault())};return c.a.useEffect((function(){return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={0:{id:0,name:"Player 1",inputMethod:"gamepad",inputLayout:0},1:{id:1,name:"Player 2",inputMethod:"keyboard",inputLayout:0}}},function(e,t,n){"use strict";t.a={heart:{icon:"\u2665",color:"red"},club:{icon:"\u2663",color:"black"},diamond:{icon:"\u2666",color:"red"},spade:{icon:"\u2660",color:"black"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16),c=n(17),o=n(25),a=function(e,t,n){!t.ratingSettings.hintPenalty&&e.hintPenalty&&(t.suggestionMode=o.a.NONE),t.ratingSettings=Object(c.a)({},e),t.ratingPreset=n},r=function e(){Object(i.a)(this,e)};r.CHILL={timedMode:!1,missPenalty:!1,undoPenalty:!1,hintPenalty:!1},r.REGULAR={timedMode:!0,missPenalty:!1,undoPenalty:!0,hintPenalty:!1},r.COMPETITIVE={timedMode:!0,missPenalty:!0,undoPenalty:!0,hintPenalty:!0},r.ALL=[{id:0,icon:"\ud83c\udf34",label:"Chill",settings:Object(c.a)({},r.CHILL),apply:function(e){return a(r.CHILL,e,0)}},{id:1,icon:"\u2696\ufe0f",label:"Regular",settings:Object(c.a)({},r.REGULAR),apply:function(e){return a(r.REGULAR,e,1)}},{id:2,icon:"\ud83c\udfc6",label:"Competitive",settings:Object(c.a)({},r.COMPETITIVE),apply:function(e){return a(r.COMPETITIVE,e,2)}}],r.matchPreset=function(e){var t=r.ALL.filter((function(t){return r.equals(t.settings,e)}));return t.length>0?t[0].id:-1},r.equals=function(e,t){return e.timedMode===t.timedMode&&e.missPenalty===t.missPenalty&&e.undoPenalty===t.undoPenalty&&e.hintPenalty===t.hintPenalty}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(17),c=n(16),o=function e(){var t=this;Object(c.a)(this,e),this.rows=void 0,this.getRows=function(){return t.rows},this.getRow=function(e){return t.getRows()[e]},this.goToRow=function(e){var n=t.getRows()[e.y];return n.buttons.length-1<e.x?Object(i.a)(Object(i.a)({},e),{},{x:n.buttons.length-1}):e},this.rows=[]}},function(e,t,n){"use strict";t.a=["none","low","regular","high","extreme"]},function(e,t,n){},function(e,t,n){"use strict";var i=n(0),c=n(4),o=n(17),a=n(19),r=n(1),s=n.n(r),u=function(e){var t=s.a.useRef(null),n="";e.y>0&&(n+=" indented"),e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&!e.skip&&(n+=" highlight"),s.a.useEffect((function(){e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&t.current&&t.current!==document.activeElement&&(u(!0),t&&t.current&&t.current.focus())}),[e.menuFocus,e.menuX,e.menuY,e.x,e.y]),e.active&&(n+=" active");var o=s.a.useState(!1),a=Object(c.a)(o,2),r=a[0],u=a[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("button",{ref:t,className:n,title:e.title,onFocus:function(){r||e.menuX==e.x&&e.menuY==e.y||"menu"!=e.menuFocus||(e.onFocus({x:e.x,y:e.y}),u(!1))},onClick:function(){u(!1),e.onClick({x:e.x,y:e.y})},disabled:e.skip,onMouseDown:function(){return u(!0)},children:[Object(i.jsx)("div",{className:"icon",children:e.icon}),Object(i.jsx)("div",{className:"label",children:e.title})]}),Object(i.jsx)("div",{children:e.toggled?e.children:null})]})};t.a=function(e){var t;if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n=s.a.useContext(a.a),c=n.navigation,r=n.setNavigation;return Object(i.jsx)(u,{title:e.title,x:e.x||0,y:e.y||0,icon:e.icon,menuX:c.menu.x,menuY:c.menu.y,menuFocus:c.focus,disabled:e.disabled,active:!1,onFocus:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{menu:e}))},onClick:e.onClick,toggled:!!e.toggled,skip:e.skip,children:null===(t=e.children)||void 0===t?void 0:t.map((function(t,n){var i;return((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.x||0].buttons[n+1]=Object(o.a)(Object(o.a)({},e),{},{x:e.x,y:n+1}),s.a.cloneElement(t,{key:n,x:e.x,y:n+1,navigator:e.navigator})}))})}},function(e,t,n){"use strict";var i=n(0);n(1);t.a=function(e){return Object(i.jsx)("div",{className:"title maintitle",children:e.label})}},function(e,t,n){"use strict";var i=n(0),c=n(17),o=n(1),a=n.n(o),r=n(29),s=n(32),u=n(19),l=function(e){var t=e.navigator,n=a.a.useContext(u.a),o=n.navigation,l=n.setNavigation,d=function(e){if("menu"==o.focus&&l(Object(c.a)(Object(c.a)({},o),{},{menu:e})),"screen"==o.focus)throw"Invalid navigation action"},f={onCancel:function(){return l(Object(c.a)(Object(c.a)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:Object(c.a)({},o.menu)}))},onUp:function(){return d(t.moveUp(o.menu.x,o.menu.y))},onDown:function(){return d(t.moveDown(o.menu.x,o.menu.y))},onLeft:function(){return d(t.moveLeft(o.menu.x,o.menu.y))},onRight:function(){return d(t.moveRight(o.menu.x,o.menu.y))},onAction:function(){return t.action(o.menu)}};return"menu"==o.focus?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(s.a,Object(c.a)({layout:e.keyboardLayout},f)),Object(i.jsx)(r.a,Object(c.a)({},f))]}):null},d=n(16),f=n(21),j=n(20),b=function(e){Object(f.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).moveUp=function(t,n){if(0==t)return{x:e.rows.length-1,y:0};if(n>0)return{x:t,y:n-1};if(0==n){var i=e.getRow(t-1);return i.toggled?{x:t-1,y:i.buttons.length-1}:{x:t-1,y:n}}return{x:t-1,y:n}},e.moveDown=function(t,n){var i=e.getRow(t);return 0==n&&i.toggled?{x:t,y:1}:n>0&&n<i.buttons.length-1?{x:t,y:n+1}:n>0?{x:t+1,y:0}:t<e.rows.length-1?{x:t+1,y:n}:{x:0,y:0}},e.moveLeft=function(e,t){return{x:e,y:t}},e.moveRight=function(e,t){return{x:e,y:t}},e.action=function(){var e=document.activeElement;e&&e.click()},e}return n}(n(37).a);t.a=function(e){var t=new b;t.rows=[];var n=-1,o=-1;return Object(i.jsxs)(i.Fragment,{children:[e.children.map((function(e){return o++,e.props.skip||(n++,t.rows[n]=Object(c.a)(Object(c.a)({x:n,y:0},e.props),{},{buttons:[]})),a.a.cloneElement(e,{key:o,x:n,y:0,navigator:t})})),Object(i.jsx)(l,{navigator:t,keyboardLayout:e.keyboardLayout})]})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){}]]);
//# sourceMappingURL=2.2fa200e3.chunk.js.map