/*! For license information please see 2.a5950c47.chunk.js.LICENSE.txt */
(this["webpackJsonpsolitaire-react"]=this["webpackJsonpsolitaire-react"]||[]).push([[2],Array(36).concat([function(e,t,n){"use strict";n.r(t);var i=n(40),o=n(13),c=n(2),r=(n(71),n(56)),a=n(42),s=n(39),u=n(48),l=n(46),d=n(54),f=n(57),h=function(){function e(){Object(s.a)(this,e),this.cards=void 0;var t=Object.keys(f.a);this.cards=d.a.map((function(e){return Object(a.a)(t.map((function(t){return new l.a(e,f.a[t],!0)})))})).flat().reverse()}return Object(u.a)(e,[{key:"shuffle",value:function(){return this.shuffleArray(this.cards),this}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}}},{key:"copy",value:function(){var t=new e;return t.cards=l.a.copyAll(this.cards),t}}]),e}(),p=n(49),b=n(45),y=n(44),j=(n(72),n(73),n(74),n(1)),v=n.n(j),g=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={width:0,height:0},i.updateWindowDimensions=i.updateWindowDimensions.bind(Object(p.a)(i)),i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.state.width>=this.state.height*this.props.ratio.multiplier?"landscape":"portrait";return Object(c.jsx)("div",{className:"appwrapper",children:Object(c.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e,children:Object(c.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e+"-inner",children:Object(c.jsx)("div",{className:"appwrapper-jail",children:this.props.children})})})})}}]),n}(v.a.Component),m=n(18),O=n(50),x=n(51),k=function e(){Object(s.a)(this,e)};k._16to9={prefix:"16-to-9",multiplier:1.7778},k._4to3={prefix:"4-to-3",multiplier:1.3333};var w=v.a.lazy((function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,91))})),C=function(e){var t=e.launchState,n=e.deck,i=e.restart;return Object(c.jsx)(g,{ratio:k._4to3,children:Object(c.jsx)("div",{className:"layout-grid-container singleplayer",children:Object(c.jsx)(w,{player:0,settings:t,restart:i,deck:n})})})},S=function(e){var t=e.launchState,n=e.deck,o=e.restart;return Object(c.jsxs)("div",{className:"game-layout-container splitscreen",children:[Object(c.jsx)("div",{className:"layout-grid-container "+t.boardMode,children:Object(c.jsx)(w,{player:0,settings:Object(i.a)(Object(i.a)({},t),{},{inputMode:t.players[0].inputMethod}),restart:o,deck:n.copy()})}),Object(c.jsx)("div",{className:"layout-grid-container "+t.boardMode,children:Object(c.jsx)(w,{player:1,settings:Object(i.a)(Object(i.a)({},t),{},{inputMode:t.players[1].inputMethod}),restart:o,deck:n.copy()})})]})},M=function(e){var t=v.a.useState(0),n=Object(o.a)(t,2),r=n[0],a=n[1];return v.a.useEffect((function(){return a(Date.now())}),[]),Object(c.jsx)(x.a,{started:r,children:Object(c.jsxs)(m.a,{delay:500,fallback:Object(c.jsx)("h3",{children:"Loading..."}),children:[e.launchState.boardMode==O.a.SINGLEPLAYER&&Object(c.jsx)(C,Object(i.a)({},e)),e.launchState.boardMode==O.a.VERSUS&&Object(c.jsx)(S,Object(i.a)({},e))]})})},N=n(43),P=n(41),E=[{id:0,settings:{drawMode:"single",recyclingMode:"infinite"},icon:"\ud83d\udc2d",lines:["Turn 1 card","No Limit"]},{id:1,settings:{drawMode:"single",recyclingMode:"3-pass"},icon:"\ud83d\udc39",lines:["Turn 1 card","Three passes"]},{id:2,settings:{drawMode:"single",recyclingMode:"1-pass"},icon:"\ud83d\udc30",lines:["Turn 1 card","Only a single pass"]},{id:3,settings:{drawMode:"triple",recyclingMode:"infinite"},icon:"\ud83d\udc28",lines:["Turn 3 cards","No limit"]},{id:4,settings:{drawMode:"triple",recyclingMode:"3-pass"},icon:"\ud83d\udc3c",lines:["Turn 3 cards ","Three passes"]},{id:5,settings:{drawMode:"triple",recyclingMode:"1-pass"},icon:"\ud83d\udc3b",lines:["Turn 3 cards ","Only a single pass"]}],L=[{id:0,icon:"\ud83d\uddb1\ufe0f",inputMethod:"mouse",inputLayout:0,lines:["Mouse or","Touchpad"]},{id:1,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:0,lines:["Gamepad 1"]},{id:2,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:1,lines:["Gamepad 2"]},{id:3,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:0,lines:["Keyboard","WASD"]},{id:4,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:1,lines:["Keyboard","ARROWS"]},{id:5,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:2,lines:["Keyboard","NUMPAD"]}],D=v.a.createContext({closeScreen:function(){}}),R=function(){var e=v.a.useContext(D).closeScreen;return Object(c.jsx)("div",{className:"closer",children:Object(c.jsx)("button",{onClick:e,children:"\ud83d\uddd9"})})},T=function e(){var t=this;Object(s.a)(this,e),this.hasConsent=function(){var e=localStorage.getItem("consent");return e&&!!parseInt(e)},this.giveConsent=function(){return{prompt:"Allow this game to store settings, so your changes will stay. No data leaves your computer.",confirm:function(){localStorage.setItem("consent","1")}}},this.revokeConsent=function(){return{prompt:"Delete all local stored data? All settings will be lost.",confirm:function(){localStorage.clear()}}},this.store=function(e){t.hasConsent()&&localStorage.setItem("state",JSON.stringify(e))},this.getPreviousState=function(){if(t.hasConsent()){var e=localStorage.getItem("state");return null!=e?JSON.parse(e):null}return null}},A=function(e,t){var n=e;return t.hasFocus&&(n+=" focused"),t.disabled&&(n+=" disabled"),n},B=function(e,t){v.a.useEffect((function(){e.hasFocus&&t&&t.current&&t.current!==document.activeElement&&t.current.focus()}),[e.hasFocus,t])},F=function(e){var t=v.a.useContext(N.a).navigation,n=function(e,n){return"screen"==t.focus&&t.screen.x==n&&t.screen.y==e},i=v.a.useRef(null);B({hasFocus:n(e.y,e.x)},i);var o="cookiebanner";return n(e.y,e.x)&&(o+=" focused"),e.consented?null:Object(c.jsxs)("button",{ref:i,className:o,onClick:function(){var t=(new T).giveConsent();!e.consented&&confirm(t.prompt)&&(t.confirm(),e.setConsented(!0))},children:[Object(c.jsx)("div",{className:"icon",children:"\ud83c\udf6a"}),Object(c.jsxs)("div",{className:"message",children:[Object(c.jsx)("b",{children:"Changes on this page will be lost after each game"}),", until you allow this app to store data on your machine. Click here to give consent."]})]})},_=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t=v.a.useContext(P.a),n=t.consented,i=t.setConsented;return Object(c.jsx)(F,{x:e.x,y:e.y,consented:n,setConsented:i})},U=n(52),I=function(e){if("undefined"==typeof e.y||"undefined"==typeof e.navigator)return null;var t=function(t,n){if(!t)return null;var i;e.skip||(((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.y||0].buttons[n||0]={x:n,y:e.y});return v.a.cloneElement(t,{key:n,x:n,y:e.y})};return e.children?Object(c.jsx)("div",{className:"row",children:Array.isArray(e.children)?e.children.map(t):t(e.children,0)}):null},X=n(55),q=n(53),G=function(e){var t=e.navigator,n=v.a.useContext(N.a),o=n.navigation,r=n.setNavigation,a=function(e){"screen"==o.focus&&r(Object(i.a)(Object(i.a)({},o),{},{screen:e}))},s={onCancel:function(){return r(Object(i.a)(Object(i.a)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:Object(i.a)({},o.menu)}))},onUp:function(){return a(t.moveUp(o.screen.x,o.screen.y))},onDown:function(){return a(t.moveDown(o.screen.x,o.screen.y))},onLeft:function(){return a(t.moveLeft(o.screen.x,o.screen.y))},onRight:function(){return a(t.moveRight(o.screen.x,o.screen.y))},onAction:function(){return t.action(o.screen)}};return"screen"==o.focus?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(X.a,Object(i.a)({layout:q.a},s)),Object(c.jsx)(U.a,Object(i.a)({},s))]}):null},Y=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).moveUp=function(t,n){var i=e.getRows();return 0==n?e.goToRow({x:t,y:i.length-1}):e.goToRow({x:t,y:n-1})},e.moveDown=function(t,n){return n==e.getRows().length-1?e.goToRow({x:t,y:0}):e.goToRow({x:t,y:n+1})},e.moveLeft=function(t,n){var i=e.getRow(n);return 0==t?{x:i.buttons.length-1,y:n}:{x:t-1,y:n}},e.moveRight=function(t,n){return t==e.getRow(n).buttons.length-1?{x:0,y:n}:{x:t+1,y:n}},e.action=function(){var e=document.activeElement;e&&e.click()},e}return n}(n(60).a),H=function(e){var t=new Y,n=-1,i=-1;return Object(c.jsxs)("div",{className:"content",children:[e.children.map((function(e){return function(e){return i++,e.props.skip||(n++,t.rows[n]={buttons:[]}),v.a.cloneElement(e,{key:i,x:0,y:n,navigator:t})}(e)})),Object(c.jsx)(G,{navigator:t,screen:"rating"})]})},W=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t={x:e.x,y:e.y},n=v.a.useRef(null),o=v.a.useContext(N.a),r=o.navigation,a=o.setNavigation,s="screen"==r.focus&&r.screen.x==e.x&&r.screen.y==e.y;v.a.useEffect((function(){s&&n&&n.current&&n.current!==document.activeElement&&n.current.focus()}),[n,s]),v.a.useEffect((function(){e.autoFocus&&!s&&n&&n.current&&n.current!==document.activeElement&&-1==r.screen.x&&-1==r.screen.y&&n.current.focus()}),[n]);return Object(c.jsxs)("button",{onFocus:function(){s||a(Object(i.a)(Object(i.a)({},r),{},{screen:{x:e.x||0,y:e.y||0}}))},ref:n,disabled:e.disabled,className:e.className(t),onClick:function(){e.onClick(),a(Object(i.a)(Object(i.a)({},r),{},{screen:{x:e.x||0,y:e.y||0}}))},children:[e.icon,e.lines.map((function(e,t){return Object(c.jsx)("div",{children:e},t)}))]},e.id)},z=function(e){var t=v.a.useContext(N.d),n=t.state,r=t.setState,s=v.a.useContext(N.a).navigation,u=n.players[e.player];if(!u)return null;var l=v.a.useState([{found:!1,buttonPressed:!1},{found:!1,buttonPressed:!1}]),d=Object(o.a)(l,2),f=d[0],h=d[1],p=function(e){f[e].found=!0,f[e].buttonPressed=!0,h(Object(i.a)({},f)),console.log(f)},b=v.a.useContext(P.a).consented,y=function(e,t){return n.players[t].inputLayout==L[e].inputLayout&&n.players[t].inputMethod==L[e].inputMethod},j=function(t){return y(t,e.player)},g=function(t){var o=Object(i.a)({},n.players);o[e.player].inputMethod=L[t].inputMethod,o[e.player].inputLayout=L[t].inputLayout,r(Object(i.a)(Object(i.a)({},n),{},{players:o}))},m=function(e,t){var n=t.x+""+t.y+" "+s.screen.x+s.screen.y+" ";return n+=s.screen.x==t.x&&s.screen.y==t.y?" focused":"",n+=j(e)?" active-0":" inactive-0",n+=O(e)?" disabled":""},O=function(t){var n=[0,1].filter((function(t){return t!==e.player}));return y(t,n[0])},x=function(e){return"gamepad"==e.inputMethod?[].concat(Object(a.a)(e.lines),[f[e.inputLayout].found||f[e.inputLayout].buttonPressed?"Connected":"Not Found"]):e.lines};return Object(c.jsxs)("div",{className:"controls startdetails",children:[Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"title",children:u.name}),Object(c.jsxs)(H,{id:"settings",children:[Object(c.jsx)(I,{skip:b,children:Object(c.jsx)(_,{})}),Object(c.jsx)(I,{children:L.slice(0,3).map((function(e){return Object(c.jsx)(W,{icon:e.icon,id:e.id,disabled:O(e.id),autoFocus:j(e.id),className:function(t){return m(e.id,t)},onClick:function(){return g(e.id)},lines:x(e)},e.id)}))}),Object(c.jsx)(I,{children:L.slice(3).map((function(e){return Object(c.jsx)(W,{icon:e.icon,id:e.id,disabled:O(e.id),autoFocus:j(e.id),className:function(t){return m(e.id,t)},onClick:function(){return g(e.id)},lines:e.lines},e.id)}))}),Object(c.jsxs)(I,{skip:!0,children:[Object(c.jsxs)("div",{className:"togglecontainer",children:[Object(c.jsx)("div",{className:"title",children:"@todo"}),Object(c.jsx)("div",{className:"toggle"}),Object(c.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]}),Object(c.jsxs)("div",{className:"togglecontainer",children:[Object(c.jsx)("div",{className:"title",children:"@todo"}),Object(c.jsx)("div",{className:"toggle"}),Object(c.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]})]})]}),Object(c.jsx)(U.a,{gamepadIndex:0,onUp:function(){return p(0)},onDown:function(){return p(0)},onRight:function(){return p(0)},onLeft:function(){return p(0)},onAction:function(){return p(0)}}),Object(c.jsx)(U.a,{gamepadIndex:1,onUp:function(){return p(1)},onDown:function(){return p(1)},onRight:function(){return p(1)},onLeft:function(){return p(1)},onAction:function(){return p(1)}})]})},V=function(){var e=v.a.useContext(N.d),t=e.state,n=e.setState,o=v.a.useContext(N.a).navigation,r=function(e){return t.difficultySettings==e},a=function(e){return Object(c.jsx)(W,{icon:e.icon,id:e.id,autoFocus:r(e.id),className:function(t){return function(e,t){var n=o.screen.x==t.x&&o.screen.y==t.y,i=r(e)?"active active-".concat(e):"inactive-".concat(e);return i+(n?" focused":"")}(e.id,t)},onClick:function(){return n(Object(i.a)(Object(i.a)({},t),{},{difficultySettings:e.id}))},lines:e.lines},e.id)},s=v.a.useContext(P.a).consented;return Object(c.jsxs)("div",{className:"difficulty startdetails",children:[Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"title",children:"Difficulty"}),Object(c.jsxs)(H,{id:"difficulty",children:[Object(c.jsx)(I,{skip:s,children:Object(c.jsx)(_,{})}),Object(c.jsx)(I,{children:E.slice(0,3).map(a)}),Object(c.jsx)(I,{children:E.slice(3).map(a)}),Object(c.jsxs)(I,{skip:!0,children:[Object(c.jsxs)("div",{className:"togglecontainer",children:[Object(c.jsx)("div",{className:"title",children:"Draw Mode"}),Object(c.jsx)("div",{className:"toggle"}),Object(c.jsxs)("div",{className:"description",children:["triple"==E[t.difficultySettings].settings.drawMode?"Turn 3 cards at once from the Stock to the Waste.":null,"single"==E[t.difficultySettings].settings.drawMode?"Turn 1 card after the other from the Stock to the Waste.":null]})]}),Object(c.jsxs)("div",{className:"togglecontainer",children:[Object(c.jsx)("div",{className:"title",children:"Pass Limit"}),Object(c.jsx)("div",{className:"toggle"}),Object(c.jsxs)("div",{className:"description",children:["1-pass"==E[t.difficultySettings].settings.recyclingMode?"One pass through the deck. Waste can not be recycled to the Stock.":null,"3-pass"==E[t.difficultySettings].settings.recyclingMode?"Three passes through the deck. Waste can be recycled to Stock two times.":null,"infinite"==E[t.difficultySettings].settings.recyclingMode?"No limit on passes through the deck. Waste can be recycled to Stock endlessly.":null]})]})]})]})]})},J=n(61),K=function(e){var t=v.a.useRef(null);B(e,t);var n=v.a.useContext(N.a),o=n.navigation,r=n.setNavigation;return Object(c.jsxs)("div",{className:A("togglecontainer",e),children:[Object(c.jsxs)("div",{className:"title",children:[e.label,": ",e.values[e.value].label]}),Object(c.jsx)("div",{className:"button",children:Object(c.jsx)("button",{ref:t,onClick:function(){e.callBack((e.value+1<e.values.length?e.value+1:0).toString()),r(Object(i.a)(Object(i.a)({},o),{},{screen:{x:e.x,y:e.y}}))},disabled:!!e.disabled,onFocus:function(){e.hasFocus||r(Object(i.a)(Object(i.a)({},o),{},{screen:{x:e.x,y:e.y}}))},children:"\ud83d\udd01"})}),Object(c.jsx)("div",{className:"description",children:e.description})]})},Z=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t,n,i=v.a.useContext(N.a).navigation,o={x:e.x||0,y:e.y||0};return Object(c.jsx)(K,{x:o.x,y:o.y,disabled:!!e.disabled,hasFocus:(t=o.y,n=o.x,"screen"==i.focus&&i.screen.x==n&&i.screen.y==t),label:e.label,description:e.description,value:e.value,values:e.values,callBack:e.callBack})},Q=(n(78),n(79)),$=n.n(Q),ee=function(e){var t=v.a.useRef(null);B(e,t);var n=v.a.useContext(N.a),o=n.navigation,r=n.setNavigation;return function(e,t,n){v.a.useEffect((function(){e.autoFocus&&!e.hasFocus&&t&&t.current&&t.current!==document.activeElement&&-1==n.x&&-1==n.y&&t.current.focus()}),[t])}(e,t,o.screen),Object(c.jsxs)("div",{className:A("togglecontainer",e),children:[Object(c.jsx)("div",{className:"title",children:e.label}),Object(c.jsx)("div",{className:"toggle",children:Object(c.jsx)($.a,{ref:t,disabled:!!e.disabled,autoFocus:e.hasFocus,onFocus:function(){e.hasFocus||r(Object(i.a)(Object(i.a)({},o),{},{screen:{x:e.x,y:e.y}}))},checked:e.value,onChange:function(){return t=!e.value,n={x:e.x,y:e.y},r(Object(i.a)(Object(i.a)({},o),{},{screen:n})),void(e.callBack&&e.callBack(t));var t,n}})}),Object(c.jsx)("div",{className:"description",children:e.description})]})},te=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t,n,i=v.a.useContext(N.a).navigation,o={x:e.x||0,y:e.y||0};return Object(c.jsx)(ee,{x:o.x,y:o.y,disabled:!!e.disabled,hasFocus:(t=o.y,n=o.x,"screen"==i.focus&&i.screen.x==n&&i.screen.y==t),label:e.label,description:e.description,value:e.value,callBack:e.callBack,autoFocus:e.autoFocus})},ne=function(e){return[{entropy:2,quickDeal:!1,lines:[(e.quickDeal?"Optimize":"Optimized")+" for Desktop"],icon:"\ud83d\udda5\ufe0f"},{entropy:1,quickDeal:!0,lines:[(e.quickDeal?"Optimized":"Optimize")+" for Mobile"],icon:"\ud83d\udcf1"}]},ie=function(){var e=v.a.useContext(N.d),t=e.state,n=e.setState,o=v.a.useContext(N.a).navigation,r=v.a.useContext(P.a).consented,a=function(e){return t.quickDeal==e};return Object(c.jsxs)("div",{className:"quickstart startdetails",children:[Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"title",children:"Various"}),Object(c.jsxs)(H,{id:"settings",children:[Object(c.jsx)(I,{skip:r,children:Object(c.jsx)(_,{})}),Object(c.jsx)(I,{children:ne(t).map((function(e,r){return Object(c.jsx)(W,{icon:e.icon,id:r,autoFocus:a(e.quickDeal),className:function(t){return function(e,t){var n=o.screen.x==t.x&&o.screen.y==t.y,i=a(e.quickDeal)?"active active-0":"inactive-0";return i+(n?" focused":"")}(e,t)},lines:e.lines,onClick:function(){return n(Object(i.a)(Object(i.a)({},t),{},{quickDeal:e.quickDeal,entropySettings:{baseEntropy:e.entropy,interactionEntropy:e.entropy}}))}},r)}))}),Object(c.jsxs)(I,{children:[Object(c.jsx)(Z,{label:"Base Entropy",description:"How much chaos will the stacks on the board contain by themselves?",value:t.entropySettings.baseEntropy||0,values:J.a.map((function(e,t){return{id:t,label:e}})),callBack:function(e){return n(Object(i.a)(Object(i.a)({},t),{},{entropySettings:Object(i.a)(Object(i.a)({},t.entropySettings),{},{baseEntropy:parseInt(e)})}))}}),Object(c.jsx)(Z,{label:"Interaction Entropy",description:"How much chaos will each interaction add to a stack on the board?",value:t.entropySettings.interactionEntropy||0,values:J.a.map((function(e,t){return{id:t,label:e}})),callBack:function(e){return n(Object(i.a)(Object(i.a)({},t),{},{entropySettings:Object(i.a)(Object(i.a)({},t.entropySettings),{},{interactionEntropy:parseInt(e)})}))}})]}),Object(c.jsxs)(I,{children:[Object(c.jsx)(te,{label:"Instant Deal",description:"Should the deal animation at the beginning of the game be skipped?",value:t.quickDeal,callBack:function(e){return n(Object(i.a)(Object(i.a)({},t),{},{quickDeal:e}))}}),Object(c.jsx)(te,{disabled:!0,label:"Auto Deal",description:"Should the game draw one card from the stock every 5 seconds?",value:!1})]})]})]})},oe=n(58),ce=n(47),re=function(){var e=v.a.useContext(N.d),t=e.state,n=e.setState,o=v.a.useContext(N.a).navigation,r=function(e){return t.ratingPreset==e},a=function(e){var o=Object(i.a)({},t);e(o.ratingSettings),o.ratingPreset=oe.a.matchPreset(o.ratingSettings),n(o)},s=v.a.useContext(P.a).consented;return Object(c.jsxs)("div",{className:"rating startdetails",children:[Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"title",children:"Penalties"}),Object(c.jsxs)(H,{id:"penalties",children:[Object(c.jsx)(I,{skip:s,children:Object(c.jsx)(_,{})}),Object(c.jsx)(I,{children:oe.a.ALL.map((function(e){return Object(c.jsx)(W,{icon:e.icon,id:e.id,autoFocus:r(e.id)||-1==t.ratingPreset&&0==e.id,className:function(t){return function(e,t){var n=r(e)?"active active-".concat(e):"inactive-".concat(e);return n+(o.screen.x==t.x&&o.screen.y==t.y?" focused":"")}(e.id,t)},onClick:function(){return function(e){var o=Object(i.a)({},t);oe.a.ALL[e].apply(o),n(o)}(e.id)},lines:[e.label]},e.id)}))}),Object(c.jsxs)(I,{children:[Object(c.jsx)(te,{label:"Undo Penalty",description:"Undo is enabled, but excessive use will be painful. This penalty starts with 2 and increases exponentially.",value:!!t.ratingSettings.undoPenalty,callBack:function(e){return a((function(t){t.undoPenalty=e}))}}),Object(c.jsx)(te,{label:"Time Penalty",description:"Fast players are rewarded with a time bonus, slow players will be punished.",value:!!t.ratingSettings.timedMode,callBack:function(e){return a((function(t){t.timedMode=e}))}})]}),Object(c.jsxs)(I,{children:[Object(c.jsx)(te,{label:"Hint Penalty",description:"Each manual hint will reduce the number of points by 10. This setting disables automatic suggestions. ",value:!!t.ratingSettings.hintPenalty,callBack:function(e){!function(e,o){var c=Object(i.a)({},t);e(c.ratingSettings),o(c),c.ratingPreset=oe.a.matchPreset(c.ratingSettings),n(c)}((function(t){t.hintPenalty=e}),(function(t){t.suggestionMode=e?ce.a.NONE:ce.a.REGULAR}))}}),Object(c.jsx)(te,{label:"Miss Penalty",description:"Be careful where you click, as each invalid action will lead to a penalty of 10 points.",value:!!t.ratingSettings.missPenalty,callBack:function(e){return a((function(t){t.missPenalty=e}))}})]})]})]})},ae=function(){var e=v.a.useContext(P.a).consented,t=v.a.useContext(N.d),n=t.state,o=t.setState,r=ce.a.allSuggestionModes(),a=function(e){return n.suggestionMode==e},s=function(e,t){return Object(c.jsx)(te,{value:a(e.key),disabled:(r=e.key,r!==ce.a.NONE&&n.ratingSettings.hintPenalty),label:e.icon+" "+e.label,callBack:function(){return o(Object(i.a)(Object(i.a)({},n),{},{suggestionMode:e.key}))},description:e.description,autoFocus:a(e.key)},t);var r};return Object(c.jsxs)("div",{className:"suggestions startdetails",children:[Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"title",children:"Suggestions"}),Object(c.jsxs)(H,{id:"settings",children:[Object(c.jsx)(I,{skip:e,children:Object(c.jsx)(_,{})}),Object(c.jsx)(I,{children:r.slice(0,2).map(s)}),Object(c.jsx)(I,{children:r.slice(2).map(s)})]})]})},se=function(e){var t=v.a.useContext(N.a),n=t.navigation,o=t.setNavigation;return Object(c.jsx)(D.Provider,{value:{closeScreen:function(){return o(Object(i.a)(Object(i.a)({},n),{},{focus:"menu",screeen:"",mainMenu:n.mainMenu,menu:Object(i.a)({},n.menu)}))}},children:Object(c.jsx)("div",{className:"startscreen-layout",children:Object(c.jsxs)("div",{className:"startscreen-jail",children:["rating"==e.screen?Object(c.jsx)(re,{}):null,"difficulty"==e.screen?Object(c.jsx)(V,{}):null,"settings"==e.screen?Object(c.jsx)(ie,{}):null,"suggestions"==e.screen?Object(c.jsx)(ae,{}):null,"controls0"==e.screen?Object(c.jsx)(z,{player:0}):null,"controls1"==e.screen?Object(c.jsx)(z,{player:1}):null]})})})},ue=(n(62),n(63)),le=n(64),de=n(69),fe=function(e){return Object(c.jsx)("div",{className:"ui menu",children:Object(c.jsx)("div",{className:"startscreen-jail",children:Object(c.jsx)("div",{className:"innermenu",children:e.children})})})},he=function(e){var t=v.a.useContext(N.a),n=t.navigation,o=t.setNavigation,r=v.a.useContext(P.a),a=r.consented,s=r.setConsented,u=function(e,t){return o(Object(i.a)(Object(i.a)({},n),{},{focus:"menu",screeen:"",mainMenu:e,menu:Object(i.a)({},t)}))},l=function(e,t){n.screeen!==e?function(e,t){o(Object(i.a)(Object(i.a)({},n),{},{focus:"screen",screeen:e,screen:{x:-1,y:-1},menu:Object(i.a)({},t)}))}(e,t):u(n.mainMenu,t)},d=function(e,t){return u(n.mainMenu!==e?e:"",t)},f=a?function(){var e=h.revokeConsent();confirm(e.prompt)&&(e.confirm(),s(!1))}:function(){var e=h.giveConsent();confirm(e.prompt)&&(e.confirm(),s(!0))},h=new T;return Object(c.jsxs)(fe,{children:[Object(c.jsx)(le.a,{label:"\u2666 Solitaire"}),Object(c.jsxs)(de.a,{keyboardLayout:q.a,children:[Object(c.jsx)(ue.a,{icon:"\ud83c\udfb2",title:"Single Player",onClick:function(){return e.start(O.a.SINGLEPLAYER)}}),Object(c.jsxs)(ue.a,{icon:"\u2694\ufe0f",title:"Versus",onClick:function(e){return d("versus",e)},toggled:"versus"==n.mainMenu,children:[Object(c.jsx)(ue.a,{icon:"\ud83c\udfae",title:"Player 1",onClick:function(e){return l("controls0",e)},toggled:"controls0"==n.screeen}),Object(c.jsx)(ue.a,{icon:"\ud83c\udfae",title:"Player 2",onClick:function(e){return l("controls1",e)},toggled:"controls1"==n.screeen}),Object(c.jsx)(ue.a,{icon:"\ud83c\udfb2",title:"Start",onClick:function(){return e.start(O.a.VERSUS)}})]}),Object(c.jsxs)(ue.a,{icon:"\u2699\ufe0f",title:"Options",onClick:function(e){return d("custom",e)},toggled:"custom"==n.mainMenu,children:[Object(c.jsx)(ue.a,{icon:"\ud83d\udcaa",title:"Difficulty",onClick:function(e){return l("difficulty",e)},toggled:"difficulty"==n.screeen}),Object(c.jsx)(ue.a,{icon:"\u2696\ufe0f",title:"Penalties",onClick:function(e){return l("rating",e)},toggled:"rating"==n.screeen}),Object(c.jsx)(ue.a,{icon:"\ud83d\udca1",title:"Suggestions",onClick:function(e){return l("suggestions",e)},toggled:"suggestions"==n.screeen}),Object(c.jsx)(ue.a,{icon:"\ud83e\uddf0",title:"Various",onClick:function(e){return l("settings",e)},toggled:"settings"==n.screeen})]}),Object(c.jsx)(ue.a,{icon:"\ud83c\udf6a",title:a?"Delete Cookie":"Allow Cookie",onClick:f,toggled:!1})]})]})},pe=function(e){var t=new T,n={x:0,y:0},r=v.a.useState({menu:Object(i.a)({},n),screen:Object(i.a)({},n),focus:"menu",mainMenu:"",screeen:""}),a=Object(o.a)(r,2),s=a[0],u={navigation:s,setNavigation:a[1]},l=t.getPreviousState(),d=v.a.useState(l||N.e),f=Object(o.a)(d,2),h=f[0],p=f[1],b={state:h,setState:function(e){p(e),t.store(e)}},y=v.a.useState(!!t.hasConsent()),j=Object(o.a)(y,2),m={consented:j[0],setConsented:j[1]};return Object(c.jsx)(g,{ratio:k._16to9,children:Object(c.jsx)(N.c,{value:b,children:Object(c.jsx)(N.b,{value:u,children:Object(c.jsxs)(P.b,{value:m,children:[Object(c.jsx)(he,{start:function(t){var n=Object(i.a)(Object(i.a)(Object(i.a)({},E[h.difficultySettings].settings),h.ratingSettings),{},{baseEntropy:h.entropySettings.baseEntropy||0,interactionEntropy:h.entropySettings.interactionEntropy||0,players:Object(i.a)({},h.players),quickDeal:h.quickDeal,boardMode:t,initialized:!0,suggestionMode:h.suggestionMode,inputMode:""});e.start(n)}}),Object(c.jsx)(se,{screen:s.screeen})]})})})})};t.default=function(){var e={boardMode:O.a.SINGLEPLAYER,inputMode:"mouse",initialized:!1,players:r.a,drawMode:"",recyclingMode:"",interactionEntropy:0,baseEntropy:0,suggestionMode:ce.a.NONE},t=v.a.useState(e),n=Object(o.a)(t,2),a=n[0],s=n[1],u=(new h).shuffle();return(null===a||void 0===a?void 0:a.initialized)?Object(c.jsx)(M,Object(i.a)({},{launchState:a,deck:u,restart:function(){return s(e)}})):Object(c.jsx)(pe,{start:function(e){return s(Object(i.a)(Object(i.a)({},e),{},{initialized:!0}))}})}},,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return c}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var i=n(1),o=n.n(i),c={state:null,replaceContext:function(){},updateContext:function(){},updateGameContext:function(){},restart:function(){}},r=o.a.createContext(c),a=r.Provider;t.d=r;var s=o.a.createContext({consented:!1,setConsented:function(){}}),u=s.Provider},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(10);var o=n(20);function c(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p}));var i=n(40),o=n(56),c=n(58),r=n(1),a=n.n(r),s=n(47),u=function(){try{var e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||"undefined"!==typeof window.DocumentTouch&&document instanceof window.DocumentTouch||(t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches)}catch(n){return console.error("(Touch detect failed)",n),!1}var t},l={ratingSettings:Object(i.a)({},c.a.REGULAR),difficultySettings:1,ratingPreset:1,quickDeal:u(),entropySettings:{baseEntropy:u()?1:2,interactionEntropy:u()?1:2},suggestionMode:s.a.REGULAR,players:o.a},d=a.a.createContext({navigation:{menu:{x:0,y:0},screen:{x:0,y:0},focus:"menu",mainMenu:"",screeen:""},setNavigation:function(){console.log("todo implement")}}),f=a.a.createContext({state:{difficultySettings:0,ratingPreset:0,ratingSettings:{},entropySettings:{},quickDeal:!1,suggestionMode:s.a.REGULAR,players:o.a},setState:function(){console.log("todo implement")}}),h=f.Provider,p=d.Provider;t.d=f},function(e,t,n){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var c=n(49);function r(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(c.a)(e):t}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=i(e);if(t){var c=i(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return r(this,n)}}},function(e,t,n){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(40),o=n(39),c=n(48),r=function(){function e(t,n,i){var c=this;Object(o.a)(this,e),this.face=void 0,this.type=void 0,this.isHidden=void 0,this.entropyStyle=void 0,this.source=void 0,this.suggestion=void 0,this.success=void 0,this.canClick=void 0,this.onClick=void 0,this.setSuccess=function(e){c.success=e},this.causeEntropy=function(e){if(0!=e){var t=2*e,n=function(){return Math.random()<.5},i=function(e,t){return Math.random()*(t-e)+e};n()&&(n()?c.entropyStyle.left=i(0,t/20)+"vw":c.entropyStyle.right=i(0,t/20)+"vw"),c.entropyStyle.transform="rotate("+i(-1*t,t)+"deg)"}else c.entropyStyle={}},this.equals=function(t){return t&&e.equals(c,t)||!1},this.face=t,this.type=n,this.isHidden=i,this.entropyStyle={},this.source="",this.suggestion=!1,this.success=0,this.canClick=function(){return!1},this.onClick=function(e){return function(e){}}}return Object(c.a)(e,null,[{key:"equals",value:function(e,t){return!e&&!t||e&&t&&t.face==e.face&&t.type.icon==e.type.icon}}]),e}();r.copy=function(e){var t=new r(e.face,e.type,e.isHidden);return t.source=e.source,t.entropyStyle=Object(i.a)({},e.entropyStyle),t.canClick=e.canClick,t.onClick=e.onClick,t},r.copyAll=function(e){return e.map((function(e){return r.copy(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(39),o=function e(t,n){Object(i.a)(this,e),this.key=void 0,this.label=void 0,this.isTemporary=void 0,this.supportsHints=void 0,this.next=void 0,this.icon=void 0,this.description=void 0,this.key=t,this.label=n.label,this.icon=n.icon,this.description=n.description,this.isTemporary=!!n.isTemporary,this.supportsHints=!!n.supportsHints,this.next=n.next},c=function e(){Object(i.a)(this,e)};c.NONE="NONE",c.SCORED="SCORED",c.REGULAR="REGULAR",c.FULL="FULL",c.ONCE="ONCE",c.TWICE="TWICE",c.raw={NONE:{label:"None",description:"No distractions. This enables one-time hints.",supportsHints:!0,icon:"\u274c"},SCORED:{label:"Scored",description:"Shows all actions that increase the score.",icon:"\ud83c\udfc6"},REGULAR:{label:"Regular",description:"Shows all possible actions except circular",icon:"\ud83d\udca1"},FULL:{label:"Full",description:"Shows all possible actions, even if they are circular",icon:"\ud83c\udf93"},ONCE:{label:"Single Action",description:"triggered by manual hint in game",isTemporary:!0,next:"NONE",icon:"\u23f3"}},c.get=function(e){return new o(e,c.raw[e])},c.all=function(){return Object.keys(c.raw).map(c.get)},c.allSuggestionModes=function(){return c.all().filter((function(e){return!e.isTemporary}))},c.default=function(){return c.get(c.REGULAR)},c.getHintMode=function(){return c.get(c.ONCE)},c.next=function(e){var t=c.allSuggestionModes();if(t[t.length-1].key==e.key)return t[0];for(var n=0;n<t.length;n++)if(t[n].key==e.key)return t[n+1];return t[0]}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(39),o=function e(){Object(i.a)(this,e)};o.SINGLEPLAYER="singleplayer",o.VERSUS="splitscreen"},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(42),o=n(40),c=n(13),r=n(2),a=n(1),s=n.n(a),u={started:0,end:0,paused:!1,pauses:[],pauseStartedAt:0,allowed:5,pausedBy:-1,showMenu:!1},l={state:u,togglePause:function(){},getElapsed:function(){return""}},d=s.a.createContext(l),f=d.Provider,h=function(e){var t=s.a.useState(Object(o.a)({},u)),n=Object(c.a)(t,2),a=n[0],l=n[1],d={state:Object(o.a)(Object(o.a)({},a),{},{started:e.started}),togglePause:function(e,t){a.showMenu?l(Object(o.a)(Object(o.a)({},a),{},{pausedBy:t,pauses:[].concat(Object(i.a)(a.pauses),[Date.now()-a.pauseStartedAt]),pauseStartedAt:0,paused:!1,showMenu:!1})):a.pauses.length<a.allowed?l(Object(o.a)(Object(o.a)({},a),{},{pausedBy:t,pauseStartedAt:Date.now(),paused:!0,showMenu:!0})):l(Object(o.a)(Object(o.a)({},a),{},{pausedBy:t,pauseStartedAt:0,paused:!1,showMenu:!0}))},getElapsed:function(){var t=function(e){return 1==(e+"").length?"0"+e:e},n=function(){var t=a.pauses.reduce((function(e,t){return e+t}),0);return(a.end||a.pauseStartedAt||Date.now())-e.started-t}(),i=Math.floor(n/1e3/60/60);n-=1e3*i*60*60;var o=Math.floor(n/1e3/60);n-=1e3*o*60;var c=Math.floor(n/1e3);return n-=1e3*c,i?i+":"+t(o)+":"+t(c):t(o)+":"+t(c)}};return Object(r.jsx)(f,{value:d,children:e.children})};t.b=d},function(e,t,n){"use strict";var i=n(40),o=n(2),c=(n(1),n(75)),r=n.n(c),a=n(19);t.a=function(e){var t={onButtonDown:function(t){console.debug(t),"DPadLeft"==t&&e.onLeft&&e.onLeft(),"DPadRight"==t&&e.onRight&&e.onRight(),"DPadUp"==t&&e.onUp&&e.onUp(),"DPadDown"==t&&e.onDown&&e.onDown(),"A"==t&&e.onAction&&e.onAction(),"B"==t&&e.onCancel&&e.onCancel(),"X"==t&&e.onHint&&e.onHint(),"Y"==t&&e.onUndo&&e.onUndo(),"Start"==t&&e.onPause&&e.onPause(),"Back"==t&&e.onMenu&&e.onMenu()},onConnect:function(e){console.debug("connected",e)},onDisconnect:function(e){console.debug("disconnected",e)}};return Object(o.jsx)(a.a,{delay:125,children:Object(o.jsx)(r.a,Object(i.a)(Object(i.a)({gamepadIndex:e.gamepadIndex},t),{},{children:Object(o.jsx)("span",{})}))})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i=function(e){if(0==e)return c;if(1==e)return o;if(2==e)return r;throw"Unknown keyboard layout ID"},o={up:function(e){return 38==e.keyCode},down:function(e){return 40==e.keyCode},right:function(e){return 39==e.keyCode},left:function(e){return 37==e.keyCode},cancel:function(e){return 27==e.keyCode},action:function(e){return 96==e.keyCode},undo:function(e){return 90==e.keyCode&&e.ctrlKey},hint:function(e){return 72==e.keyCode},pause:function(e){return 80==e.keyCode},menu:function(e){return 77==e.keyCode}},c={up:function(e){return 87==e.keyCode},down:function(e){return 83==e.keyCode},right:function(e){return 68==e.keyCode},left:function(e){return 65==e.keyCode},cancel:function(e){return 69==e.keyCode},action:function(e){return 81==e.keyCode},undo:function(e){return 88==e.keyCode},hint:function(e){return 90==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 27==e.keyCode}},r={up:function(e){return 104==e.keyCode},down:function(e){return 101==e.keyCode},right:function(e){return 102==e.keyCode},left:function(e){return 100==e.keyCode},cancel:function(e){return 105==e.keyCode},action:function(e){return 103==e.keyCode},undo:function(e){return 98==e.keyCode},hint:function(e){return 97==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 99==e.keyCode}},a={up:function(e){return r.up(e)||c.up(e)||o.up(e)},down:function(e){return r.down(e)||c.down(e)||o.down(e)},right:function(e){return r.right(e)||c.right(e)||o.right(e)},left:function(e){return r.left(e)||c.left(e)||o.left(e)},cancel:function(e){return r.cancel(e)||c.cancel(e)||o.cancel(e)},action:function(e){return r.action(e)||c.action(e)||o.action(e)},undo:function(e){return r.undo(e)||c.undo(e)||o.undo(e)},hint:function(e){return r.hint(e)||c.hint(e)||o.hint(e)},pause:function(e){return r.pause(e)||c.pause(e)||o.pause(e)},menu:function(e){return r.menu(e)||c.menu(e)||o.menu(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r}));var i=n(42),o=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],c=function(){return["A"].concat(Object(i.a)(o.slice(0,o.length-1))).reverse()},r=function(){return[].concat(o)}},function(e,t,n){"use strict";var i=n(1),o=n.n(i);t.a=function(e){var t=function(t){var n=window.event?event:t,i=e.layout;i.cancel(n)&&(e.onCancel&&e.onCancel(),t.preventDefault()),i.left(n)&&(e.onLeft&&e.onLeft(),t.preventDefault()),i.right(n)&&(e.onRight&&e.onRight(),t.preventDefault()),i.up(n)&&(e.onUp&&e.onUp(),t.preventDefault()),i.down(n)&&(e.onDown&&e.onDown(),t.preventDefault()),i.action(n)&&(e.onAction&&e.onAction(),t.preventDefault()),i.undo(n)&&(e.onUndo&&e.onUndo(),t.preventDefault()),i.hint(n)&&(e.onHint&&e.onHint(),t.preventDefault()),i.pause(n)&&(e.onPause&&e.onPause(),t.preventDefault()),i.menu(n)&&(e.onMenu&&e.onMenu(),t.preventDefault())};return o.a.useEffect((function(){return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={0:{id:0,name:"Player 1",inputMethod:"gamepad",inputLayout:0},1:{id:1,name:"Player 2",inputMethod:"keyboard",inputLayout:0}}},function(e,t,n){"use strict";t.a={heart:{icon:"\u2665",color:"red"},club:{icon:"\u2663",color:"black"},diamond:{icon:"\u2666",color:"red"},spade:{icon:"\u2660",color:"black"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(39),o=n(40),c=n(47),r=function(e,t,n){!t.ratingSettings.hintPenalty&&e.hintPenalty&&(t.suggestionMode=c.a.NONE),t.ratingSettings=Object(o.a)({},e),t.ratingPreset=n},a=function e(){Object(i.a)(this,e)};a.CHILL={timedMode:!1,missPenalty:!1,undoPenalty:!1,hintPenalty:!1},a.REGULAR={timedMode:!0,missPenalty:!1,undoPenalty:!0,hintPenalty:!1},a.COMPETITIVE={timedMode:!0,missPenalty:!0,undoPenalty:!0,hintPenalty:!0},a.ALL=[{id:0,icon:"\ud83c\udf34",label:"Chill",settings:Object(o.a)({},a.CHILL),apply:function(e){return r(a.CHILL,e,0)}},{id:1,icon:"\u2696\ufe0f",label:"Regular",settings:Object(o.a)({},a.REGULAR),apply:function(e){return r(a.REGULAR,e,1)}},{id:2,icon:"\ud83c\udfc6",label:"Competitive",settings:Object(o.a)({},a.COMPETITIVE),apply:function(e){return r(a.COMPETITIVE,e,2)}}],a.matchPreset=function(e){var t=a.ALL.filter((function(t){return a.equals(t.settings,e)}));return t.length>0?t[0].id:-1},a.equals=function(e,t){return e.timedMode===t.timedMode&&e.missPenalty===t.missPenalty&&e.undoPenalty===t.undoPenalty&&e.hintPenalty===t.hintPenalty}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XBOX=void 0;var i,o=n(77),c=(i=o)&&i.__esModule?i:{default:i};t.XBOX=c.default,t.default={XBOX:c.default}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(40),o=n(39),c=function e(){var t=this;Object(o.a)(this,e),this.rows=void 0,this.getRows=function(){return t.rows},this.getRow=function(e){return t.getRows()[e]},this.goToRow=function(e){var n=t.getRows()[e.y];return n.buttons.length-1<e.x?Object(i.a)(Object(i.a)({},e),{},{x:n.buttons.length-1}):e},this.rows=[]}},function(e,t,n){"use strict";t.a=["none","low","regular","high","extreme"]},function(e,t,n){},function(e,t,n){"use strict";var i=n(13),o=n(40),c=n(2),r=n(43),a=n(1),s=n.n(a),u=function(e){var t=s.a.useRef(null),n="";e.y>0&&(n+=" indented"),e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&!e.skip&&(n+=" highlight"),s.a.useEffect((function(){e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&t.current&&t.current!==document.activeElement&&(u(!0),t&&t.current&&t.current.focus())}),[e.menuFocus,e.menuX,e.menuY,e.x,e.y]),e.active&&(n+=" active");var o=s.a.useState(!1),r=Object(i.a)(o,2),a=r[0],u=r[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("button",{ref:t,className:n,title:e.title,onFocus:function(){a||e.menuX==e.x&&e.menuY==e.y||"menu"!=e.menuFocus||(e.onFocus({x:e.x,y:e.y}),u(!1))},onClick:function(){u(!1),e.onClick({x:e.x,y:e.y})},disabled:e.skip,onMouseDown:function(){return u(!0)},children:[Object(c.jsx)("div",{className:"icon",children:e.icon}),Object(c.jsx)("div",{className:"label",children:e.title})]}),Object(c.jsx)("div",{children:e.toggled?e.children:null})]})};t.a=function(e){var t;if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n=s.a.useContext(r.a),i=n.navigation,a=n.setNavigation;return Object(c.jsx)(u,{title:e.title,x:e.x||0,y:e.y||0,icon:e.icon,menuX:i.menu.x,menuY:i.menu.y,menuFocus:i.focus,disabled:e.disabled,active:!1,onFocus:function(e){return a(Object(o.a)(Object(o.a)({},i),{},{menu:e}))},onClick:e.onClick,toggled:!!e.toggled,skip:e.skip,children:null===(t=e.children)||void 0===t?void 0:t.map((function(t,n){var i;return((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.x||0].buttons[n+1]=Object(o.a)(Object(o.a)({},e),{},{x:e.x,y:n+1}),s.a.cloneElement(t,{key:n,x:e.x,y:n+1,navigator:e.navigator})}))})}},function(e,t,n){"use strict";var i=n(2);n(1);t.a=function(e){return Object(i.jsx)("div",{className:"title maintitle",children:e.label})}},,,,,function(e,t,n){"use strict";var i=n(40),o=n(2),c=n(1),r=n.n(c),a=n(52),s=n(55),u=n(43),l=function(e){var t=e.navigator,n=r.a.useContext(u.a),c=n.navigation,l=n.setNavigation,d=function(e){"menu"==c.focus&&l(Object(i.a)(Object(i.a)({},c),{},{menu:e}))},f={onCancel:function(){return l(Object(i.a)(Object(i.a)({},c),{},{focus:"menu",screeen:"",mainMenu:c.mainMenu,menu:Object(i.a)({},c.menu)}))},onUp:function(){return d(t.moveUp(c.menu.x,c.menu.y))},onDown:function(){return d(t.moveDown(c.menu.x,c.menu.y))},onLeft:function(){return d(t.moveLeft(c.menu.x,c.menu.y))},onRight:function(){return d(t.moveRight(c.menu.x,c.menu.y))},onAction:function(){return t.action(c.menu)}};return"menu"==c.focus?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(s.a,Object(i.a)({layout:e.keyboardLayout},f)),Object(o.jsx)(a.a,Object(i.a)({},f))]}):null},d=n(39),f=n(45),h=n(44),p=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).moveUp=function(t,n){if(0==t)return{x:e.rows.length-1,y:0};if(n>0)return{x:t,y:n-1};if(0==n){var i=e.getRow(t-1);return i.toggled?{x:t-1,y:i.buttons.length-1}:{x:t-1,y:n}}return{x:t-1,y:n}},e.moveDown=function(t,n){var i=e.getRow(t);return 0==n&&i.toggled?{x:t,y:1}:n>0&&n<i.buttons.length-1?{x:t,y:n+1}:n>0?{x:t+1,y:0}:t<e.rows.length-1?{x:t+1,y:n}:{x:0,y:0}},e.moveLeft=function(e,t){return{x:e,y:t}},e.moveRight=function(e,t){return{x:e,y:t}},e.action=function(){var e=document.activeElement;e&&e.click()},e}return n}(n(60).a);t.a=function(e){var t=new p;t.rows=[];var n=-1,c=-1;return Object(o.jsxs)(o.Fragment,{children:[e.children.map((function(e){return c++,e.props.skip||(n++,t.rows[n]=Object(i.a)(Object(i.a)({x:n,y:0},e.props),{},{buttons:[]})),r.a.cloneElement(e,{key:c,x:n,y:0,navigator:t})})),Object(o.jsx)(l,{navigator:t,keyboardLayout:e.keyboardLayout})]})}},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layouts=t.Gamepad=void 0;var i=c(n(76)),o=c(n(59));function c(e){return e&&e.__esModule?e:{default:e}}i.default.layouts=o.default,t.Gamepad=i.default,t.layouts=o.default,t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),r=(i=c)&&i.__esModule?i:{default:i},a=n(59);var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.padState={connected:!1,buttons:{A:!1,B:!1,X:!1,Y:!1,LB:!1,LT:!1,LS:!1,RB:!1,RT:!1,RS:!1,Start:!1,Back:!1,DPadUp:!1,DPadRight:!1,DPadDown:!1,DPadLeft:!1},axis:{LeftStickX:0,LeftStickY:0,RightStickX:0,RightStickY:0,RightTrigger:0,LeftTrigger:0}},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,window&&window.requestAnimationFrame&&window.requestAnimationFrame(this.updateGamepad.bind(this))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"updateGamepad",value:function(){if(this.mounted){var e=this.props.gamepadIndex,t=navigator.getGamepads();if(t.length&&t.length>e&&t[e]){var n=t[e];this.padState.connected||(this.padState.connected=!0,this.props.onConnect(e)),this.updateAllButtons(n),this.updateAllAxis(n)}else this.padState.connected&&(this.padState.connected=!1,this.props.onDisconnect(e));window&&window.requestAnimationFrame&&window.requestAnimationFrame(this.updateGamepad.bind(this))}}},{key:"updateAllButtons",value:function(e){for(var t=0;t<e.buttons.length;++t){var n=e.buttons[t].pressed,i=e.buttons[t].value,o=this.buttonIndexToButtonName(t);this.updateButton(o,n);var c=this.buttonIndexToAxisName(t);this.updateAxis(c,i)}}},{key:"updateButton",value:function(e,t){void 0!==this.padState.buttons[e]&&this.padState.buttons[e]!==t&&(this.padState.buttons[e]=t,this.props.onButtonChange(e,t),this.props["onButton"+(t?"Down":"Up")](e),t&&this.props["on"+e.replace("DPad","")]())}},{key:"updateAllAxis",value:function(e){for(var t=0;t<e.axes.length;++t){var n=this.axisIndexToAxisName(t);e.axes[t];this.updateAxis(n,e.axes[t])}}},{key:"updateAxis",value:function(e,t){if(e&&void 0!==t&&null!==t&&NaN!==t){var n="-"===e[0],i=t*(n?-1:1);if(Math.abs(i)<this.props.deadZone&&(i=0),n&&(e=e.substr(1)),this.padState.axis[e]!==i){var o=this.padState.axis[e];this.padState.axis[e]=i,this.props.onAxisChange(e,i,o),"LeftStickX"===e&&(o<=this.props.stickThreshold&&i>this.props.stickThreshold&&this.props.onRight(),o>=-this.props.stickThreshold&&i<-this.props.stickThreshold&&this.props.onLeft()),"LeftStickY"===e&&(o<=this.props.stickThreshold&&i>this.props.stickThreshold&&this.props.onUp(),o>=-this.props.stickThreshold&&i<-this.props.stickThreshold&&this.props.onDown())}}}},{key:"buttonIndexToButtonName",value:function(e){var t=this.props.layout;return t.buttons&&t.buttons.length>=e+1?t.buttons[e]:null}},{key:"buttonIndexToAxisName",value:function(e){var t=this.props.layout;return t.buttonAxis&&t.buttonAxis.length>=e+1?t.buttonAxis[e]:null}},{key:"axisIndexToAxisName",value:function(e){var t=this.props.layout;return t.axis&&t.axis.length>=e+1?t.axis[e]:null}},{key:"render",value:function(){return r.default.Children.only(this.props.children)}}]),t}(r.default.Component);s.defaultProps={layout:a.XBOX,stickThreshold:.5,deadZone:.08,gamepadIndex:0,onConnect:function(){},onDisconnect:function(){},onButtonDown:function(){},onButtonUp:function(){},onButtonChange:function(){},onAxisChange:function(){},onA:function(){},onB:function(){},onX:function(){},onY:function(){},onStart:function(){},onBack:function(){},onLT:function(){},onRT:function(){},onLB:function(){},onRB:function(){},onLS:function(){},onRS:function(){},onUp:function(){},onDown:function(){},onLeft:function(){},onRight:function(){}},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={buttons:["A","B","X","Y","LB","RB","LT","RT","Back","Start","LS","RS","DPadUp","DPadDown","DPadLeft","DPadRight"],axis:["LeftStickX","-LeftStickY","RightStickX","-RightStickY"],buttonAxis:[null,null,null,null,null,null,"LeftTrigger","RightTrigger"]}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toggle=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=n(1),r=f(c),a=f(n(80)),s=f(n(4)),u=f(n(81)),l=f(n(82)),d=n(83);function f(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.forwardRef((function(e,t){return r.default.createElement(h,o({innerref:t},e))}));var h=t.Toggle=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.previouslyChecked=!(!e.checked&&!e.defaultChecked),n.state={checked:!(!e.checked&&!e.defaultChecked),hasFocus:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var t=this.props.innerref&&this.props.innerref.current||this.input;if(e.target!==t&&!this.moved)return this.previouslyChecked=t.checked,e.preventDefault(),t.focus(),void t.click();var n=this.props.hasOwnProperty("checked")?this.props.checked:t.checked;this.setState({checked:n})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=(0,d.pointerCoord)(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var t=(0,d.pointerCoord)(e).x;this.state.checked&&t+15<this.startX?(this.setState({checked:!1}),this.startX=t,this.activated=!0):t-15>this.startX&&(this.setState({checked:!0}),this.startX=t,this.activated=t<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var t=this.input;if(e.preventDefault(),this.startX){var n=(0,d.pointerCoord)(e).x;!0===this.previouslyChecked&&this.startX+4>n?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,t.click()):this.startX-4<n&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,t.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;t&&t(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;t&&t(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var n=this.props.icons;return n?void 0===n[e]?t.defaultProps.icons[e]:n[e]:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,i=(t.icons,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["className","icons"])),c=(0,a.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},n);return r.default.createElement("div",{className:c,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},r.default.createElement("div",{className:"react-toggle-track"},r.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),r.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),r.default.createElement("div",{className:"react-toggle-thumb"}),r.default.createElement("input",o({},i,{ref:this.props.innerref||function(t){e.input=t},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),t}(c.PureComponent);h.displayName="Toggle",h.defaultProps={icons:{checked:r.default.createElement(u.default,null),unchecked:r.default.createElement(l.default,null)}},h.propTypes={checked:s.default.bool,disabled:s.default.bool,defaultChecked:s.default.bool,onChange:s.default.func,onFocus:s.default.func,onBlur:s.default.func,className:s.default.string,name:s.default.string,value:s.default.string,id:s.default.string,"aria-labelledby":s.default.string,"aria-label":s.default.string,icons:s.default.oneOfType([s.default.bool,s.default.shape({checked:s.default.node,unchecked:s.default.node})])}},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var c=typeof i;if("string"===c||"number"===c)e.push(i);else if(Array.isArray(i)&&i.length){var r=o.apply(null,i);r&&e.push(r)}else if("object"===c)for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),c=(i=o)&&i.__esModule?i:{default:i};t.default=function(){return c.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},c.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),c=(i=o)&&i.__esModule?i:{default:i};t.default=function(){return c.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},c.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointerCoord=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}var i=e.pageX;if(void 0!==i)return{x:i,y:e.pageY}}return{x:0,y:0}}}])]);
//# sourceMappingURL=2.a5950c47.chunk.js.map