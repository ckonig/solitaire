(this["webpackJsonpsolitaire-react"]=this["webpackJsonpsolitaire-react"]||[]).push([[2],[,,,,,,,,,,,,,,,function(e,n,t){"use strict";t.r(n);var i=t(0),c=t(17),o=t(4),a=(t(43),t(33)),r=t(16),s=t(22),u=t(28),l=t(21),d=t(20),f=t(1),j=t.n(f),b=(t(44),t(45),t(46),function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(e){var i;return Object(r.a)(this,t),(i=n.call(this,e)).state={width:0,height:0},i.updateWindowDimensions=i.updateWindowDimensions.bind(Object(u.a)(i)),i}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.state.width>=this.state.height*this.props.ratio.multiplier?"landscape":"portrait";return Object(i.jsx)("div",{className:"appwrapper",children:Object(i.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e,children:Object(i.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e+"-inner",children:Object(i.jsx)("div",{className:"appwrapper-jail",children:this.props.children})})})})}}]),t}(j.a.Component)),y=t(23),p=t(24),h=t(31),g=t(34),v=function(){function e(){Object(r.a)(this,e),this.cards=void 0;var n=Object.keys(g.a);this.cards=h.a.map((function(e){return Object(y.a)(n.map((function(n){return new p.a(e,g.a[n],!0)})))})).flat().reverse()}return Object(s.a)(e,[{key:"shuffle",value:function(){return this.shuffleArray(this.cards),this}},{key:"shuffleArray",value:function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}}},{key:"copy",value:function(){var n=new e;return n.cards=p.a.copyAll(this.cards),n}}]),e}(),x=t(5),O=t(27),m=t(19),k=t(18),w=[{id:0,settings:{drawMode:"single",recyclingMode:"infinite"},icon:"\ud83d\udc2d",lines:["Turn 1 card","No Limit"]},{id:1,settings:{drawMode:"single",recyclingMode:"3-pass"},icon:"\ud83d\udc39",lines:["Turn 1 card","Three passes"]},{id:2,settings:{drawMode:"single",recyclingMode:"1-pass"},icon:"\ud83d\udc30",lines:["Turn 1 card","Only a single pass"]},{id:3,settings:{drawMode:"triple",recyclingMode:"infinite"},icon:"\ud83d\udc28",lines:["Turn 3 cards","No limit"]},{id:4,settings:{drawMode:"triple",recyclingMode:"3-pass"},icon:"\ud83d\udc3c",lines:["Turn 3 cards ","Three passes"]},{id:5,settings:{drawMode:"triple",recyclingMode:"1-pass"},icon:"\ud83d\udc3b",lines:["Turn 3 cards ","Only a single pass"]}],C=[{id:0,icon:"\ud83d\uddb1\ufe0f",inputMethod:"mouse",inputLayout:0,lines:["Mouse or","Touchpad"]},{id:1,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:0,lines:["Gamepad 1"]},{id:2,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:1,lines:["Gamepad 2"]},{id:3,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:0,lines:["Keyboard","WASD"]},{id:4,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:1,lines:["Keyboard","ARROWS"]},{id:5,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:2,lines:["Keyboard","NUMPAD"]}],S=j.a.createContext({closeScreen:function(){}}),N=function(){var e=j.a.useContext(S).closeScreen;return Object(i.jsx)("div",{className:"closer",children:Object(i.jsx)("button",{onClick:e,children:"\ud83d\uddd9"})})},M=function e(){var n=this;Object(r.a)(this,e),this.hasConsent=function(){var e=localStorage.getItem("consent");return e&&!!parseInt(e)},this.giveConsent=function(){return{prompt:"Allow this game to store settings, so your changes will stay. No data leaves your computer.",confirm:function(){localStorage.setItem("consent","1")}}},this.revokeConsent=function(){return{prompt:"Delete all local stored data? All settings will be lost.",confirm:function(){localStorage.clear()}}},this.store=function(e){n.hasConsent()&&localStorage.setItem("state",JSON.stringify(e))},this.getPreviousState=function(){if(n.hasConsent()){var e=localStorage.getItem("state");return null!=e?JSON.parse(e):null}return null}},E=function(e,n){var t=e;return n.hasFocus&&(t+=" focused"),n.disabled&&(t+=" disabled"),t},L=function(e,n){j.a.useEffect((function(){e.hasFocus&&n&&n.current&&n.current!==document.activeElement&&n.current.focus()}),[e.hasFocus,n])},P=function(e){var n=j.a.useContext(m.a).navigation,t=function(e,t){return"screen"==n.focus&&n.screen.x==t&&n.screen.y==e},c=j.a.useRef(null);L({hasFocus:t(e.y,e.x)},c);var o="cookiebanner";return t(e.y,e.x)&&(o+=" focused"),e.consented?null:Object(i.jsxs)("button",{ref:c,className:o,onClick:function(){var n=(new M).giveConsent();!e.consented&&confirm(n.prompt)&&(n.confirm(),e.setConsented(!0))},children:[Object(i.jsx)("div",{className:"icon",children:"\ud83c\udf6a"}),Object(i.jsxs)("div",{className:"message",children:[Object(i.jsx)("b",{children:"Changes on this page will be lost after each game"}),", until you allow this app to store data on your machine. Click here to give consent."]})]})},D=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n=j.a.useContext(k.a),t=n.consented,c=n.setConsented;return Object(i.jsx)(P,{x:e.x,y:e.y,consented:t,setConsented:c})},R=t(29),A=function(e){if("undefined"==typeof e.y||"undefined"==typeof e.navigator)return null;var n=function(n,t){if(!n)return null;var i;e.skip||(((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.y||0].buttons[t||0]={x:t,y:e.y});return j.a.cloneElement(n,{key:t,x:t,y:e.y})};return e.children?Object(i.jsx)("div",{className:"row",children:Array.isArray(e.children)?e.children.map(n):n(e.children,0)}):null},F=t(32),U=t(30),T=function(e){var n=e.navigator,t=j.a.useContext(m.a),o=t.navigation,a=t.setNavigation,r=function(e){if("screen"==o.focus&&a(Object(c.a)(Object(c.a)({},o),{},{screen:e})),"menu"==o.focus)throw"Invalid navigation action"},s={onCancel:function(){return a(Object(c.a)(Object(c.a)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:Object(c.a)({},o.menu)}))},onUp:function(){return r(n.moveUp(o.screen.x,o.screen.y))},onDown:function(){return r(n.moveDown(o.screen.x,o.screen.y))},onLeft:function(){return r(n.moveLeft(o.screen.x,o.screen.y))},onRight:function(){return r(n.moveRight(o.screen.x,o.screen.y))},onAction:function(){return n.action(o.screen)}};return"screen"==o.focus?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(F.a,Object(c.a)({layout:U.a},s)),Object(i.jsx)(R.a,Object(c.a)({},s))]}):null},I=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(r.a)(this,t);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=n.call.apply(n,[this].concat(c))).moveUp=function(n,t){var i=e.getRows();return 0==t?e.goToRow({x:n,y:i.length-1}):e.goToRow({x:n,y:t-1})},e.moveDown=function(n,t){return t==e.getRows().length-1?e.goToRow({x:n,y:0}):e.goToRow({x:n,y:t+1})},e.moveLeft=function(n,t){var i=e.getRow(t);return 0==n?{x:i.buttons.length-1,y:t}:{x:n-1,y:t}},e.moveRight=function(n,t){return n==e.getRow(t).buttons.length-1?{x:0,y:t}:{x:n+1,y:t}},e.action=function(){var e=document.activeElement;e&&e.click()},e}return t}(t(37).a),B=function(e){var n=new I,t=-1,c=-1;return Object(i.jsxs)("div",{className:"content",children:[e.children.map((function(e){return function(e){return c++,e.props.skip||(t++,n.rows[t]={buttons:[]}),j.a.cloneElement(e,{key:c,x:0,y:t,navigator:n})}(e)})),Object(i.jsx)(T,{navigator:n,screen:"rating"})]})},q=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n={x:e.x,y:e.y},t=j.a.useRef(null),o=j.a.useContext(m.a),a=o.navigation,r=o.setNavigation,s="screen"==a.focus&&a.screen.x==e.x&&a.screen.y==e.y;j.a.useEffect((function(){s&&t&&t.current&&t.current!==document.activeElement&&t.current.focus()}),[t,s]),j.a.useEffect((function(){e.autoFocus&&!s&&t&&t.current&&t.current!==document.activeElement&&-1==a.screen.x&&-1==a.screen.y&&t.current.focus()}),[t]);return Object(i.jsxs)("button",{onFocus:function(){s||r(Object(c.a)(Object(c.a)({},a),{},{screen:{x:e.x||0,y:e.y||0}}))},ref:t,disabled:e.disabled,className:e.className(n),onClick:function(){e.onClick(),r(Object(c.a)(Object(c.a)({},a),{},{screen:{x:e.x||0,y:e.y||0}}))},children:[e.icon,e.lines.map((function(e,n){return Object(i.jsx)("div",{children:e},n)}))]},e.id)},G=function(e){var n=j.a.useContext(m.d),t=n.state,a=n.setState,r=j.a.useContext(m.a).navigation,s=t.players[e.player];if(!s)return null;var u=j.a.useState([{found:!1,buttonPressed:!1},{found:!1,buttonPressed:!1}]),l=Object(o.a)(u,2),d=l[0],f=l[1],b=function(e){d[e].found=!0,f(Object(c.a)({},d))},p=function(e){d[e].found=!0,d[e].buttonPressed=!0,f(Object(c.a)({},d)),console.log(d)},h=j.a.useContext(k.a).consented,g=function(e,n){return t.players[n].inputLayout==C[e].inputLayout&&t.players[n].inputMethod==C[e].inputMethod},v=function(n){return g(n,e.player)},x=function(n){var i=Object(c.a)({},t.players);i[e.player].inputMethod=C[n].inputMethod,i[e.player].inputLayout=C[n].inputLayout,a(Object(c.a)(Object(c.a)({},t),{},{players:i}))},O=function(e,n){var t=n.x+""+n.y+" "+r.screen.x+r.screen.y+" ";return t+=r.screen.x==n.x&&r.screen.y==n.y?" focused":"",t+=v(e)?" active-0":" inactive-0",t+=w(e)?" disabled":""},w=function(n){var t=[0,1].filter((function(n){return n!==e.player}));return g(n,t[0])},S=function(e){return"gamepad"==e.inputMethod?[].concat(Object(y.a)(e.lines),[d[e.inputLayout].found||d[e.inputLayout].buttonPressed?"Connected":"Not Found"]):e.lines};return Object(i.jsxs)("div",{className:"controls startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:s.name}),Object(i.jsxs)(B,{id:"settings",children:[Object(i.jsx)(A,{skip:h,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:C.slice(0,3).map((function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,disabled:w(e.id),autoFocus:v(e.id),className:function(n){return O(e.id,n)},onClick:function(){return x(e.id)},lines:S(e)},e.id)}))}),Object(i.jsx)(A,{children:C.slice(3).map((function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,disabled:w(e.id),autoFocus:v(e.id),className:function(n){return O(e.id,n)},onClick:function(){return x(e.id)},lines:e.lines},e.id)}))}),Object(i.jsxs)(A,{skip:!0,children:[Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"@todo"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]}),Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"@todo"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]})]})]}),Object(i.jsx)(R.a,{gamepadIndex:0,onConnect:function(){return b(0)},onUp:function(){return p(0)},onDown:function(){return p(0)},onRight:function(){return p(0)},onLeft:function(){return p(0)},onAction:function(){return p(0)}}),Object(i.jsx)(R.a,{gamepadIndex:1,onConnect:function(){return b(1)},onUp:function(){return p(1)},onDown:function(){return p(1)},onRight:function(){return p(1)},onLeft:function(){return p(1)},onAction:function(){return p(1)}})]})},H=function(){var e=j.a.useContext(m.d),n=e.state,t=e.setState,o=j.a.useContext(m.a).navigation,a=function(e){return n.difficultySettings==e},r=function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,autoFocus:a(e.id),className:function(n){return function(e,n){var t=o.screen.x==n.x&&o.screen.y==n.y,i=a(e)?"active active-".concat(e):"inactive-".concat(e);return i+(t?" focused":"")}(e.id,n)},onClick:function(){return t(Object(c.a)(Object(c.a)({},n),{},{difficultySettings:e.id}))},lines:e.lines},e.id)},s=j.a.useContext(k.a).consented;return Object(i.jsxs)("div",{className:"difficulty startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Difficulty"}),Object(i.jsxs)(B,{id:"difficulty",children:[Object(i.jsx)(A,{skip:s,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:w.slice(0,3).map(r)}),Object(i.jsx)(A,{children:w.slice(3).map(r)}),Object(i.jsxs)(A,{skip:!0,children:[Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"Draw Mode"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"description",children:["triple"==w[n.difficultySettings].settings.drawMode?"Turn 3 cards at once from the Stock to the Waste.":null,"single"==w[n.difficultySettings].settings.drawMode?"Turn 1 card after the other from the Stock to the Waste.":null]})]}),Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"Pass Limit"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"description",children:["1-pass"==w[n.difficultySettings].settings.recyclingMode?"One pass through the deck. Waste can not be recycled to the Stock.":null,"3-pass"==w[n.difficultySettings].settings.recyclingMode?"Three passes through the deck. Waste can be recycled to Stock two times.":null,"infinite"==w[n.difficultySettings].settings.recyclingMode?"No limit on passes through the deck. Waste can be recycled to Stock endlessly.":null]})]})]})]})]})},W=t(38),z=function(e){var n=j.a.useRef(null);L(e,n);var t=j.a.useContext(m.a),o=t.navigation,a=t.setNavigation;return Object(i.jsxs)("div",{className:E("togglecontainer",e),children:[Object(i.jsxs)("div",{className:"title",children:[e.label,": ",e.values[e.value].label]}),Object(i.jsx)("div",{className:"button",children:Object(i.jsx)("button",{ref:n,onClick:function(){e.callBack((e.value+1<e.values.length?e.value+1:0).toString()),a(Object(c.a)(Object(c.a)({},o),{},{screen:{x:e.x,y:e.y}}))},disabled:!!e.disabled,onFocus:function(){e.hasFocus||a(Object(c.a)(Object(c.a)({},o),{},{screen:{x:e.x,y:e.y}}))},children:"\ud83d\udd01"})}),Object(i.jsx)("div",{className:"description",children:e.description})]})},Y=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n,t,c=j.a.useContext(m.a).navigation,o={x:e.x||0,y:e.y||0};return Object(i.jsx)(z,{x:o.x,y:o.y,disabled:!!e.disabled,hasFocus:(n=o.y,t=o.x,"screen"==c.focus&&c.screen.x==t&&c.screen.y==n),label:e.label,description:e.description,value:e.value,values:e.values,callBack:e.callBack})},V=(t(50),t(51)),X=t.n(V),J=function(e){var n=j.a.useRef(null);L(e,n);var t=j.a.useContext(m.a),o=t.navigation,a=t.setNavigation;return function(e,n,t){j.a.useEffect((function(){e.autoFocus&&!e.hasFocus&&n&&n.current&&n.current!==document.activeElement&&-1==t.x&&-1==t.y&&n.current.focus()}),[n])}(e,n,o.screen),Object(i.jsxs)("div",{className:E("togglecontainer",e),children:[Object(i.jsx)("div",{className:"title",children:e.label}),Object(i.jsx)("div",{className:"toggle",children:Object(i.jsx)(X.a,{ref:n,disabled:!!e.disabled,autoFocus:e.hasFocus,onFocus:function(){e.hasFocus||a(Object(c.a)(Object(c.a)({},o),{},{screen:{x:e.x,y:e.y}}))},checked:e.value,onChange:function(){return n=!e.value,t={x:e.x,y:e.y},a(Object(c.a)(Object(c.a)({},o),{},{screen:t})),void e.callBack(n);var n,t}})}),Object(i.jsx)("div",{className:"description",children:e.description})]})},K=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n,t,c=j.a.useContext(m.a).navigation,o={x:e.x||0,y:e.y||0};return Object(i.jsx)(J,{x:o.x,y:o.y,disabled:!!e.disabled,hasFocus:(n=o.y,t=o.x,"screen"==c.focus&&c.screen.x==t&&c.screen.y==n),label:e.label,description:e.description,value:e.value,callBack:e.callBack,autoFocus:e.autoFocus})},_=function(e){return[{entropy:2,quickDeal:!1,lines:[(e.quickDeal?"Optimize":"Optimized")+" for Desktop"],icon:"\ud83d\udda5\ufe0f"},{entropy:1,quickDeal:!0,lines:[(e.quickDeal?"Optimized":"Optimize")+" for Mobile"],icon:"\ud83d\udcf1"}]},Q=function(){var e=j.a.useContext(m.d),n=e.state,t=e.setState,o=j.a.useContext(m.a).navigation,a=j.a.useContext(k.a).consented,r=function(e){return n.quickDeal==e};return Object(i.jsxs)("div",{className:"quickstart startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Various"}),Object(i.jsxs)(B,{id:"settings",children:[Object(i.jsx)(A,{skip:a,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:_(n).map((function(e,a){return Object(i.jsx)(q,{icon:e.icon,id:a,autoFocus:r(e.quickDeal),className:function(n){return function(e,n){var t=o.screen.x==n.x&&o.screen.y==n.y,i=r(e.quickDeal)?"active active-0":"inactive-0";return i+(t?" focused":"")}(e,n)},lines:e.lines,onClick:function(){return t(Object(c.a)(Object(c.a)({},n),{},{quickDeal:e.quickDeal,entropySettings:{baseEntropy:e.entropy,interactionEntropy:e.entropy}}))}},a)}))}),Object(i.jsxs)(A,{children:[Object(i.jsx)(Y,{label:"Base Entropy",description:"How much chaos will the stacks on the board contain by themselves?",value:n.entropySettings.baseEntropy||0,values:W.a.map((function(e,n){return{id:n,label:e}})),callBack:function(e){return t(Object(c.a)(Object(c.a)({},n),{},{entropySettings:Object(c.a)(Object(c.a)({},n.entropySettings),{},{baseEntropy:parseInt(e)})}))}}),Object(i.jsx)(Y,{label:"Interaction Entropy",description:"How much chaos will each interaction add to a stack on the board?",value:n.entropySettings.interactionEntropy||0,values:W.a.map((function(e,n){return{id:n,label:e}})),callBack:function(e){return t(Object(c.a)(Object(c.a)({},n),{},{entropySettings:Object(c.a)(Object(c.a)({},n.entropySettings),{},{interactionEntropy:parseInt(e)})}))}})]}),Object(i.jsxs)(A,{children:[Object(i.jsx)(K,{label:"Instant Deal",description:"Should the deal animation at the beginning of the game be skipped?",value:n.quickDeal,callBack:function(e){return t(Object(c.a)(Object(c.a)({},n),{},{quickDeal:e}))}}),Object(i.jsx)(K,{disabled:!0,label:"Auto Deal",description:"Should the game draw one card from the stock every 5 seconds?",value:!1,callBack:function(){}})]})]})]})},Z=t(35),$=t(25),ee=function(){var e=j.a.useContext(m.d),n=e.state,t=e.setState,o=j.a.useContext(m.a).navigation,a=function(e){return n.ratingPreset==e},r=function(e){var i=Object(c.a)({},n);e(i.ratingSettings),i.ratingPreset=Z.a.matchPreset(i.ratingSettings),t(i)},s=j.a.useContext(k.a).consented;return Object(i.jsxs)("div",{className:"rating startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Penalties"}),Object(i.jsxs)(B,{id:"penalties",children:[Object(i.jsx)(A,{skip:s,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:Z.a.ALL.map((function(e){return Object(i.jsx)(q,{icon:e.icon,id:e.id,autoFocus:a(e.id)||-1==n.ratingPreset&&0==e.id,className:function(n){return function(e,n){var t=a(e)?"active active-".concat(e):"inactive-".concat(e);return t+(o.screen.x==n.x&&o.screen.y==n.y?" focused":"")}(e.id,n)},onClick:function(){return function(e){var i=Object(c.a)({},n);Z.a.ALL[e].apply(i),t(i)}(e.id)},lines:[e.label]},e.id)}))}),Object(i.jsxs)(A,{children:[Object(i.jsx)(K,{label:"Undo Penalty",description:"Undo is enabled, but excessive use will be painful. This penalty starts with 2 and increases exponentially.",value:!!n.ratingSettings.undoPenalty,callBack:function(e){return r((function(n){n.undoPenalty=e}))}}),Object(i.jsx)(K,{label:"Time Penalty",description:"Fast players are rewarded with a time bonus, slow players will be punished.",value:!!n.ratingSettings.timedMode,callBack:function(e){return r((function(n){n.timedMode=e}))}})]}),Object(i.jsxs)(A,{children:[Object(i.jsx)(K,{label:"Hint Penalty",description:"Each manual hint will reduce the number of points by 10. This setting disables automatic suggestions. ",value:!!n.ratingSettings.hintPenalty,callBack:function(e){!function(e,i){var o=Object(c.a)({},n);e(o.ratingSettings),i(o),o.ratingPreset=Z.a.matchPreset(o.ratingSettings),t(o)}((function(n){n.hintPenalty=e}),(function(n){n.suggestionMode=e?$.a.NONE:$.a.REGULAR}))}}),Object(i.jsx)(K,{label:"Miss Penalty",description:"Be careful where you click, as each invalid action will lead to a penalty of 10 points.",value:!!n.ratingSettings.missPenalty,callBack:function(e){return r((function(n){n.missPenalty=e}))}})]})]})]})},ne=function(){var e=j.a.useContext(k.a).consented,n=j.a.useContext(m.d),t=n.state,o=n.setState,a=$.a.allSuggestionModes(),r=function(e){return t.suggestionMode==e},s=function(e,n){return Object(i.jsx)(K,{value:r(e.key),disabled:(a=e.key,a!==$.a.NONE&&t.ratingSettings.hintPenalty),label:e.icon+" "+e.label,callBack:function(){return o(Object(c.a)(Object(c.a)({},t),{},{suggestionMode:e.key}))},description:e.description,autoFocus:r(e.key)},n);var a};return Object(i.jsxs)("div",{className:"suggestions startdetails",children:[Object(i.jsx)(N,{}),Object(i.jsx)("div",{className:"title",children:"Suggestions"}),Object(i.jsxs)(B,{id:"settings",children:[Object(i.jsx)(A,{skip:e,children:Object(i.jsx)(D,{})}),Object(i.jsx)(A,{children:a.slice(0,2).map(s)}),Object(i.jsx)(A,{children:a.slice(2).map(s)})]})]})},te=function(e){var n=j.a.useContext(m.a),t=n.navigation,o=n.setNavigation;return Object(i.jsx)(S.Provider,{value:{closeScreen:function(){return o(Object(c.a)(Object(c.a)({},t),{},{focus:"menu",screeen:"",mainMenu:t.mainMenu,menu:Object(c.a)({},t.menu)}))}},children:Object(i.jsx)("div",{className:"startscreen-layout",children:Object(i.jsxs)("div",{className:"startscreen-jail",children:["rating"==e.screen?Object(i.jsx)(ee,{}):null,"difficulty"==e.screen?Object(i.jsx)(H,{}):null,"settings"==e.screen?Object(i.jsx)(Q,{}):null,"suggestions"==e.screen?Object(i.jsx)(ne,{}):null,"controls0"==e.screen?Object(i.jsx)(G,{player:0}):null,"controls1"==e.screen?Object(i.jsx)(G,{player:1}):null]})})})},ie=(t(39),t(40)),ce=t(41),oe=t(42),ae=function(e){return Object(i.jsx)("div",{className:"ui menu",children:Object(i.jsx)("div",{className:"startscreen-jail",children:Object(i.jsx)("div",{className:"innermenu",children:e.children})})})},re=function(e){var n=j.a.useContext(m.a),t=n.navigation,o=n.setNavigation,a=j.a.useContext(k.a),r=a.consented,s=a.setConsented,u=function(e,n){return o(Object(c.a)(Object(c.a)({},t),{},{focus:"menu",screeen:"",mainMenu:e,menu:Object(c.a)({},n)}))},l=function(e,n){t.screeen!==e?function(e,n){o(Object(c.a)(Object(c.a)({},t),{},{focus:"screen",screeen:e,screen:{x:-1,y:-1},menu:Object(c.a)({},n)}))}(e,n):u(t.mainMenu,n)},d=function(e,n){return u(t.mainMenu!==e?e:"",n)},f=r?function(){var e=b.revokeConsent();confirm(e.prompt)&&(e.confirm(),s(!1))}:function(){var e=b.giveConsent();confirm(e.prompt)&&(e.confirm(),s(!0))},b=new M;return Object(i.jsxs)(ae,{children:[Object(i.jsx)(ce.a,{label:"\u2666 Solitaire"}),Object(i.jsxs)(oe.a,{keyboardLayout:U.a,children:[Object(i.jsx)(ie.a,{icon:"\ud83c\udfb2",title:"Single Player",onClick:function(){return e.start(O.a.SINGLEPLAYER)}}),Object(i.jsxs)(ie.a,{icon:"\u2694\ufe0f",title:"Versus",onClick:function(e){return d("versus",e)},toggled:"versus"==t.mainMenu,children:[Object(i.jsx)(ie.a,{icon:"\ud83c\udfae",title:"Player 1",onClick:function(e){return l("controls0",e)},toggled:"controls0"==t.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83c\udfae",title:"Player 2",onClick:function(e){return l("controls1",e)},toggled:"controls1"==t.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83c\udfb2",title:"Start",onClick:function(){return e.start(O.a.VERSUS)}})]}),Object(i.jsxs)(ie.a,{icon:"\u2699\ufe0f",title:"Options",onClick:function(e){return d("custom",e)},toggled:"custom"==t.mainMenu,children:[Object(i.jsx)(ie.a,{icon:"\ud83d\udcaa",title:"Difficulty",onClick:function(e){return l("difficulty",e)},toggled:"difficulty"==t.screeen}),Object(i.jsx)(ie.a,{icon:"\u2696\ufe0f",title:"Penalties",onClick:function(e){return l("rating",e)},toggled:"rating"==t.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83d\udca1",title:"Suggestions",onClick:function(e){return l("suggestions",e)},toggled:"suggestions"==t.screeen}),Object(i.jsx)(ie.a,{icon:"\ud83e\uddf0",title:"Various",onClick:function(e){return l("settings",e)},toggled:"settings"==t.screeen})]}),Object(i.jsx)(ie.a,{icon:"\ud83c\udf6a",title:r?"Delete Cookie":"Allow Cookie",onClick:f,toggled:!1})]})]})},se=function(e){var n=new M,t=j.a.useState(!!n.hasConsent()),a=Object(o.a)(t,2),r=a[0],s=a[1],u=n.getPreviousState(),l=j.a.useState(u||m.e),d=Object(o.a)(l,2),f=d[0],b=d[1],y={x:0,y:0},p=j.a.useState({menu:Object(c.a)({},y),screen:Object(c.a)({},y),focus:"menu",mainMenu:"",screeen:""}),h=Object(o.a)(p,2),g=h[0],v=h[1],x={state:f,setState:function(e){b(e),n.store(e)}},O={navigation:g,setNavigation:v},C={consented:r,setConsented:s};return Object(i.jsx)(m.c,{value:x,children:Object(i.jsx)(m.b,{value:O,children:Object(i.jsxs)(k.b,{value:C,children:[Object(i.jsx)(re,{start:function(n){var t=Object(c.a)(Object(c.a)(Object(c.a)({},w[f.difficultySettings].settings),f.ratingSettings),{},{baseEntropy:f.entropySettings.baseEntropy||0,interactionEntropy:f.entropySettings.interactionEntropy||0,players:Object(c.a)({},f.players),quickDeal:f.quickDeal,boardMode:n,initialized:!0,suggestionMode:f.suggestionMode,inputMode:""});e.start(t)}}),Object(i.jsx)(te,{screen:g.screeen})]})})})},ue=t(26),le=function e(){Object(r.a)(this,e)};le._16to9={prefix:"16-to-9",multiplier:1.7778},le._4to3={prefix:"4-to-3",multiplier:1.3333};n.default=function(){var e=j.a.useState(0),n=Object(o.a)(e,2),r=n[0],s=n[1],u={boardMode:O.a.SINGLEPLAYER,inputMode:"mouse",initialized:!1,players:a.a,drawMode:"",recyclingMode:"",interactionEntropy:0,baseEntropy:0,suggestionMode:$.a.NONE},l=j.a.useState(u),d=Object(o.a)(l,2),f=d[0],y=d[1],p=function(){y(u)},h=(new v).shuffle();if(null===f||void 0===f?void 0:f.initialized){var g=j.a.lazy((function(){return t.e(5).then(t.bind(null,62))})),m=null;return f.boardMode==O.a.SINGLEPLAYER&&(m=Object(i.jsx)(b,{ratio:le._4to3,children:Object(i.jsx)("div",{className:"layout-grid-container singleplayer",children:Object(i.jsx)(g,{player:0,settings:f,restart:p,deck:h})})})),f.boardMode==O.a.VERSUS&&(m=Object(i.jsxs)("div",{className:"game-layout-container splitscreen",children:[Object(i.jsx)("div",{className:"layout-grid-container "+f.boardMode,children:Object(i.jsx)(g,{player:0,settings:Object(c.a)(Object(c.a)({},f),{},{inputMode:f.players[0].inputMethod}),restart:p,deck:h.copy()})}),Object(i.jsx)("div",{className:"layout-grid-container "+f.boardMode,children:Object(i.jsx)(g,{player:1,settings:Object(c.a)(Object(c.a)({},f),{},{inputMode:f.players[1].inputMethod}),restart:p,deck:h.copy()})})]})),Object(i.jsx)(ue.a,{started:r,children:Object(i.jsx)(x.a,{delay:500,fallback:Object(i.jsx)("h3",{children:"Loading..."}),children:m})})}return Object(i.jsx)(b,{ratio:le._16to9,children:Object(i.jsx)(se,{start:function(e){h.shuffle(),y(Object(c.a)({},e)),s(Date.now())}})})}},,,function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return u}));var i=t(1),c=t.n(i),o={state:null,replaceContext:function(){},updateContext:function(){},updateGameContext:function(){},restart:function(){}},a=c.a.createContext(o),r=a.Provider;n.d=a;var s=c.a.createContext({consented:!1,setConsented:function(){}}),u=s.Provider},function(e,n,t){"use strict";t.d(n,"e",(function(){return l})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return j})),t.d(n,"b",(function(){return b}));var i=t(17),c=t(33),o=t(35),a=t(1),r=t.n(a),s=t(25),u=function(){try{var e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||"undefined"!==typeof window.DocumentTouch&&document instanceof window.DocumentTouch||(n=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(n).matches)}catch(t){return console.error("(Touch detect failed)",t),!1}var n},l={ratingSettings:Object(i.a)({},o.a.REGULAR),difficultySettings:1,ratingPreset:1,quickDeal:u(),entropySettings:{baseEntropy:u()?1:2,interactionEntropy:u()?1:2},suggestionMode:s.a.REGULAR,players:c.a},d=r.a.createContext({navigation:{menu:{x:0,y:0},screen:{x:0,y:0},focus:"menu",mainMenu:"",screeen:""},setNavigation:function(){}}),f=r.a.createContext({state:{difficultySettings:0,ratingPreset:0,ratingSettings:{},entropySettings:{},quickDeal:!1,suggestionMode:s.a.REGULAR,players:c.a},setState:function(){}}),j=f.Provider,b=d.Provider;n.d=f},,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t(17),c=t(16),o=t(22),a=function(){function e(n,t,i){var o=this;Object(c.a)(this,e),this.causeEntropy=function(e){if(0!=e){var n=2*e,t=function(){return Math.random()<.5},i=function(e,n){return Math.random()*(n-e)+e};t()&&(t()?o.entropyStyle.left=i(0,n/20)+"vw":o.entropyStyle.right=i(0,n/20)+"vw"),o.entropyStyle.transform="rotate("+i(-1*n,n)+"deg)"}else o.entropyStyle={}},this.equals=function(n){return e.equals(o,n)},this.face=n,this.type=t,this.isHidden=i,this.entropyStyle={},this.source="",this.suggestion=!1,this.canClick=function(){},this.onClick=function(e){}}return Object(o.a)(e,null,[{key:"equals",value:function(e,n){return!e&&!n||e&&n&&n.face==e.face&&n.type.icon==e.type.icon}}]),e}();a.copy=function(e){var n=new a(e.face,e.type,e.isHidden);return n.source=e.source,n.entropyStyle=Object(i.a)({},e.entropyStyle),n.canClick=e.canClick,n.onClick=e.onClick,n},a.copyAll=function(e){return e.map((function(e){return a.copy(e)}))}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t(16),c=function e(n,t){Object(i.a)(this,e),this.key=void 0,this.label=void 0,this.isTemporary=void 0,this.supportsHints=void 0,this.next=void 0,this.icon=void 0,this.description=void 0,this.key=n,this.label=t.label,this.icon=t.icon,this.description=t.description,this.isTemporary=!!t.isTemporary,this.supportsHints=!!t.supportsHints,this.next=t.next},o=function e(){Object(i.a)(this,e)};o.NONE="NONE",o.SCORED="SCORED",o.REGULAR="REGULAR",o.FULL="FULL",o.ONCE="ONCE",o.TWICE="TWICE",o.raw={NONE:{label:"None",description:"No distractions. This enables one-time hints.",supportsHints:!0,icon:"\u274c"},SCORED:{label:"Scored",description:"Shows all actions that increase the score.",icon:"\ud83c\udfc6"},REGULAR:{label:"Regular",description:"Shows all possible actions except circular",icon:"\ud83d\udca1"},FULL:{label:"Full",description:"Shows all possible actions, even if they are circular",icon:"\ud83c\udf93"},ONCE:{label:"Single Action",description:"triggered by manual hint in game",isTemporary:!0,next:"NONE",icon:"\u23f3"}},o.get=function(e){return new c(e,o.raw[e])},o.all=function(){return Object.keys(o.raw).map(o.get)},o.allSuggestionModes=function(){return o.all().filter((function(e){return!e.isTemporary}))},o.default=function(){return o.get(o.REGULAR)},o.getHintMode=function(){return o.get(o.ONCE)},o.next=function(e){var n=o.allSuggestionModes();if(n[n.length-1].key==e.key)return n[0];for(var t=0;t<n.length;t++)if(n[t].key==e.key)return n[t+1];return n[0]}},function(e,n,t){"use strict";t.d(n,"a",(function(){return j}));var i=t(0),c=t(23),o=t(17),a=t(4),r=t(1),s=t.n(r),u={started:0,end:0,paused:!1,pauses:[],pauseStartedAt:0,allowed:5,pausedBy:-1,showMenu:!1},l={state:u,togglePause:function(){},getElapsed:function(){return""}},d=s.a.createContext(l),f=d.Provider,j=function(e){var n=s.a.useState(Object(o.a)({},u)),t=Object(a.a)(n,2),r=t[0],l=t[1],d={state:Object(o.a)(Object(o.a)({},r),{},{started:e.started}),togglePause:function(e,n){r.showMenu?l(Object(o.a)(Object(o.a)({},r),{},{pausedBy:n,pauses:[].concat(Object(c.a)(r.pauses),[Date.now()-r.pauseStartedAt]),pauseStartedAt:0,paused:!1,showMenu:!1})):r.pauses.length<r.allowed?l(Object(o.a)(Object(o.a)({},r),{},{pausedBy:n,pauseStartedAt:Date.now(),paused:!0,showMenu:!0})):l(Object(o.a)(Object(o.a)({},r),{},{pausedBy:n,pauseStartedAt:0,paused:!1,showMenu:!0}))},getElapsed:function(){var n=function(e){return 1==(e+"").length?"0"+e:e},t=function(){var n=r.pauses.reduce((function(e,n){return e+n}),0);return(r.end||r.pauseStartedAt||Date.now())-e.started-n}(),i=Math.floor(t/1e3/60/60);t-=1e3*i*60*60;var c=Math.floor(t/1e3/60);t-=1e3*c*60;var o=Math.floor(t/1e3);return t-=1e3*o,i?i+":"+n(c)+":"+n(o):n(c)+":"+n(o)}};return Object(i.jsx)(f,{value:d,children:e.children})};n.b=d},function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t(16),c=function e(){Object(i.a)(this,e)};c.SINGLEPLAYER="singleplayer",c.VERSUS="splitscreen"},,function(e,n,t){"use strict";var i=t(0),c=(t(1),t(47)),o=t.n(c),a=t(6);n.a=function(e){return Object(i.jsx)(a.a,{delay:125,children:Object(i.jsx)(o.a,{gamepadIndex:e.gamepadIndex,onButtonDown:function(n){console.debug(n),"DPadLeft"==n&&e.onLeft&&e.onLeft(),"DPadRight"==n&&e.onRight&&e.onRight(),"DPadUp"==n&&e.onUp&&e.onUp(),"DPadDown"==n&&e.onDown&&e.onDown(),"A"==n&&e.onAction&&e.onAction(),"B"==n&&e.onCancel&&e.onCancel(),"X"==n&&e.onHint&&e.onHint(),"Y"==n&&e.onUndo&&e.onUndo(),"Start"==n&&e.onPause&&e.onPause(),"Back"==n&&e.onPause&&e.onMenu()},onConnect:function(e){console.debug("connected",e)},onDisconnect:function(e){console.debug("disconnected",e)},children:Object(i.jsx)("span",{})})})}},function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return r}));var i=function(e){if(0==e)return o;if(1==e)return c;if(2==e)return a;throw"Unknown keyboard layout ID"},c={up:function(e){return 38==e.keyCode},down:function(e){return 40==e.keyCode},right:function(e){return 39==e.keyCode},left:function(e){return 37==e.keyCode},cancel:function(e){return 27==e.keyCode},action:function(e){return 96==e.keyCode},undo:function(e){return 90==e.keyCode&&e.ctrlKey},hint:function(e){return 72==e.keyCode},pause:function(e){return 80==e.keyCode},menu:function(e){return 77==e.keyCode}},o={up:function(e){return 87==e.keyCode},down:function(e){return 83==e.keyCode},right:function(e){return 68==e.keyCode},left:function(e){return 65==e.keyCode},cancel:function(e){return 69==e.keyCode},action:function(e){return 81==e.keyCode},undo:function(e){return 88==e.keyCode},hint:function(e){return 90==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 27==e.keyCode}},a={up:function(e){return 104==e.keyCode},down:function(e){return 101==e.keyCode},right:function(e){return 102==e.keyCode},left:function(e){return 100==e.keyCode},cancel:function(e){return 105==e.keyCode},action:function(e){return 103==e.keyCode},undo:function(e){return 98==e.keyCode},hint:function(e){return 97==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 99==e.keyCode}},r={up:function(e){return a.up(e)||o.up(e)||c.up(e)},down:function(e){return a.down(e)||o.down(e)||c.down(e)},right:function(e){return a.right(e)||o.right(e)||c.right(e)},left:function(e){return a.left(e)||o.left(e)||c.left(e)},cancel:function(e){return a.cancel(e)||o.cancel(e)||c.cancel(e)},action:function(e){return a.action(e)||o.action(e)||c.action(e)},undo:function(e){return a.undo(e)||o.undo(e)||c.undo(e)},hint:function(e){return a.hint(e)||o.hint(e)||c.hint(e)},pause:function(e){return a.pause(e)||o.pause(e)||c.pause(e)},menu:function(e){return a.menu(e)||o.menu(e)||c.menu(e)}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return a}));var i=t(23),c=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],o=function(){return["A"].concat(Object(i.a)(c.slice(0,c.length-1))).reverse()},a=function(){return[].concat(c)}},function(e,n,t){"use strict";var i=t(1),c=t.n(i);n.a=function(e){var n=function(n){var t=window.event?event:n,i=e.layout;i.cancel(t)&&(e.onCancel&&e.onCancel(),n.preventDefault()),i.left(t)&&(e.onLeft&&e.onLeft(),n.preventDefault()),i.right(t)&&(e.onRight&&e.onRight(),n.preventDefault()),i.up(t)&&(e.onUp&&e.onUp(),n.preventDefault()),i.down(t)&&(e.onDown&&e.onDown(),n.preventDefault()),i.action(t)&&(e.onAction&&e.onAction(),n.preventDefault()),i.undo(t)&&(e.onUndo&&e.onUndo(),n.preventDefault()),i.hint(t)&&(e.onHint&&e.onHint(),n.preventDefault()),i.pause(t)&&(e.onPause&&e.onPause(),n.preventDefault()),i.menu(t)&&(e.onPause&&e.onMenu(),n.preventDefault())};return c.a.useEffect((function(){return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[e]),null}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i={0:{id:0,name:"Player 1",inputMethod:"gamepad",inputLayout:0},1:{id:1,name:"Player 2",inputMethod:"keyboard",inputLayout:0}}},function(e,n,t){"use strict";n.a={heart:{icon:"\u2665",color:"red"},club:{icon:"\u2663",color:"black"},diamond:{icon:"\u2666",color:"red"},spade:{icon:"\u2660",color:"black"}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t(16),c=t(17),o=t(25),a=function(e,n,t){!n.ratingSettings.hintPenalty&&e.hintPenalty&&(n.suggestionMode=o.a.NONE),n.ratingSettings=Object(c.a)({},e),n.ratingPreset=t},r=function e(){Object(i.a)(this,e)};r.CHILL={timedMode:!1,missPenalty:!1,undoPenalty:!1,hintPenalty:!1},r.REGULAR={timedMode:!0,missPenalty:!1,undoPenalty:!0,hintPenalty:!1},r.COMPETITIVE={timedMode:!0,missPenalty:!0,undoPenalty:!0,hintPenalty:!0},r.ALL=[{id:0,icon:"\ud83c\udf34",label:"Chill",settings:Object(c.a)({},r.CHILL),apply:function(e){return a(r.CHILL,e,0)}},{id:1,icon:"\u2696\ufe0f",label:"Regular",settings:Object(c.a)({},r.REGULAR),apply:function(e){return a(r.REGULAR,e,1)}},{id:2,icon:"\ud83c\udfc6",label:"Competitive",settings:Object(c.a)({},r.COMPETITIVE),apply:function(e){return a(r.COMPETITIVE,e,2)}}],r.matchPreset=function(e){var n=r.ALL.filter((function(n){return r.equals(n.settings,e)}));return n.length>0?n[0].id:-1},r.equals=function(e,n){return e.timedMode===n.timedMode&&e.missPenalty===n.missPenalty&&e.undoPenalty===n.undoPenalty&&e.hintPenalty===n.hintPenalty}},,function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t(17),c=t(16),o=function e(){var n=this;Object(c.a)(this,e),this.rows=void 0,this.getRows=function(){return n.rows},this.getRow=function(e){return n.getRows()[e]},this.goToRow=function(e){var t=n.getRows()[e.y];return t.buttons.length-1<e.x?Object(i.a)(Object(i.a)({},e),{},{x:t.buttons.length-1}):e},this.rows=[]}},function(e,n,t){"use strict";n.a=["none","low","regular","high","extreme"]},function(e,n,t){},function(e,n,t){"use strict";var i=t(0),c=t(4),o=t(17),a=t(19),r=t(1),s=t.n(r),u=function(e){var n=s.a.useRef(null),t="";e.y>0&&(t+=" indented"),e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&!e.skip&&(t+=" highlight"),s.a.useEffect((function(){e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&n.current&&n.current!==document.activeElement&&(u(!0),n&&n.current&&n.current.focus())}),[e.menuFocus,e.menuX,e.menuY,e.x,e.y]),e.active&&(t+=" active");var o=s.a.useState(!1),a=Object(c.a)(o,2),r=a[0],u=a[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("button",{ref:n,className:t,title:e.title,onFocus:function(){r||e.menuX==e.x&&e.menuY==e.y||"menu"!=e.menuFocus||(e.onFocus({x:e.x,y:e.y}),u(!1))},onClick:function(){u(!1),e.onClick({x:e.x,y:e.y})},disabled:e.skip,onMouseDown:function(){return u(!0)},children:[Object(i.jsx)("div",{className:"icon",children:e.icon}),Object(i.jsx)("div",{className:"label",children:e.title})]}),Object(i.jsx)("div",{children:e.toggled?e.children:null})]})};n.a=function(e){var n;if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t=s.a.useContext(a.a),c=t.navigation,r=t.setNavigation;return Object(i.jsx)(u,{title:e.title,x:e.x||0,y:e.y||0,icon:e.icon,menuX:c.menu.x,menuY:c.menu.y,menuFocus:c.focus,disabled:e.disabled,active:!1,onFocus:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{menu:e}))},onClick:e.onClick,toggled:!!e.toggled,skip:e.skip,children:null===(n=e.children)||void 0===n?void 0:n.map((function(n,t){var i;return((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.x||0].buttons[t+1]=Object(o.a)(Object(o.a)({},e),{},{x:e.x,y:t+1}),s.a.cloneElement(n,{key:t,x:e.x,y:t+1,navigator:e.navigator})}))})}},function(e,n,t){"use strict";var i=t(0);t(1);n.a=function(e){return Object(i.jsx)("div",{className:"title maintitle",children:e.label})}},function(e,n,t){"use strict";var i=t(0),c=t(17),o=t(1),a=t.n(o),r=t(29),s=t(32),u=t(19),l=function(e){var n=e.navigator,t=a.a.useContext(u.a),o=t.navigation,l=t.setNavigation,d=function(e){if("menu"==o.focus&&l(Object(c.a)(Object(c.a)({},o),{},{menu:e})),"screen"==o.focus)throw"Invalid navigation action"},f={onCancel:function(){return l(Object(c.a)(Object(c.a)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:Object(c.a)({},o.menu)}))},onUp:function(){return d(n.moveUp(o.menu.x,o.menu.y))},onDown:function(){return d(n.moveDown(o.menu.x,o.menu.y))},onLeft:function(){return d(n.moveLeft(o.menu.x,o.menu.y))},onRight:function(){return d(n.moveRight(o.menu.x,o.menu.y))},onAction:function(){return n.action(o.menu)}};return"menu"==o.focus?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(s.a,Object(c.a)({layout:e.keyboardLayout},f)),Object(i.jsx)(r.a,Object(c.a)({},f))]}):null},d=t(16),f=t(21),j=t(20),b=function(e){Object(f.a)(t,e);var n=Object(j.a)(t);function t(){var e;Object(d.a)(this,t);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=n.call.apply(n,[this].concat(c))).moveUp=function(n,t){if(0==n)return{x:e.rows.length-1,y:0};if(t>0)return{x:n,y:t-1};if(0==t){var i=e.getRow(n-1);return i.toggled?{x:n-1,y:i.buttons.length-1}:{x:n-1,y:t}}return{x:n-1,y:t}},e.moveDown=function(n,t){var i=e.getRow(n);return 0==t&&i.toggled?{x:n,y:1}:t>0&&t<i.buttons.length-1?{x:n,y:t+1}:t>0?{x:n+1,y:0}:n<e.rows.length-1?{x:n+1,y:t}:{x:0,y:0}},e.moveLeft=function(e,n){return{x:e,y:n}},e.moveRight=function(e,n){return{x:e,y:n}},e.action=function(){var e=document.activeElement;e&&e.click()},e}return t}(t(37).a);n.a=function(e){var n=new b;n.rows=[];var t=-1,o=-1;return Object(i.jsxs)(i.Fragment,{children:[e.children.map((function(e){return o++,e.props.skip||(t++,n.rows[t]=Object(c.a)(Object(c.a)({x:t,y:0},e.props),{},{buttons:[]})),a.a.cloneElement(e,{key:o,x:t,y:0,navigator:n})})),Object(i.jsx)(l,{navigator:n,keyboardLayout:e.keyboardLayout})]})}},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},,,,function(e,n,t){}]]);
//# sourceMappingURL=2.f87199e5.chunk.js.map