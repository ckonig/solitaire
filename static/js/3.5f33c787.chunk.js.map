{"version":3,"sources":["../../src/index.ts","../node_modules/dnd-multi-backend/dist/esm/createTransition.js","../node_modules/dnd-multi-backend/dist/esm/Transitions.js","../node_modules/dnd-multi-backend/dist/esm/PreviewList.js","../node_modules/dnd-multi-backend/dist/esm/MultiBackend.js","../node_modules/dnd-multi-backend/dist/esm/index.js","../node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","../node_modules/react-dnd-preview/dist/esm/usePreview.js","../node_modules/react-dnd-preview/dist/esm/Context.js","../node_modules/react-dnd-preview/dist/esm/Preview.js","../node_modules/react-dnd-preview/dist/esm/index.js","../node_modules/webpack/buildin/global.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/redux/es/redux.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../node_modules/dnd-core/dist/esm/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/dist/esm/factories.js","../node_modules/react-dnd/dist/esm/common/DndContext.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/clsx/dist/clsx.m.js","../../src/utils/propValidator.ts","../../src/utils/constant.ts","../../src/utils/cssTransition.tsx","../../src/utils/collapseToast.ts","../../src/core/eventManager.ts","../../src/hooks/useKeeper.ts","../../src/hooks/toastContainerReducer.ts","../../src/hooks/useToastContainer.ts","../../src/hooks/useToast.ts","../../src/components/CloseButton.tsx","../../src/components/ProgressBar.tsx","../../src/components/Toast.tsx","../../src/components/Transitions.tsx","../../src/components/ToastPositioner.tsx","../../src/components/ToastContainer.tsx","../../src/core/toast.tsx","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","../node_modules/symbol-observable/es/index.js","../node_modules/webpack/buildin/harmony-module.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../node_modules/canvas-confetti/dist/confetti.module.mjs","../node_modules/react-dnd-touch-backend/dist/esm/interfaces.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/predicates.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/offsets.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/supportsPassive.js","../node_modules/react-dnd-touch-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-touch-backend/dist/esm/TouchBackendImpl.js","../node_modules/react-dnd-touch-backend/dist/esm/utils/math.js","../node_modules/react-dnd-multi-backend/dist/esm/HTML5toTouch.js","../node_modules/react-dnd-touch-backend/dist/esm/index.js","../node_modules/react-dnd-multi-backend/dist/esm/components/DndProvider.js","../node_modules/react-dnd-multi-backend/dist/esm/common.js","../node_modules/react-dnd-multi-backend/dist/esm/components/Preview.js","../node_modules/react-dnd/dist/esm/common/DndProvider.js","../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/internal/drag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag.js","../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/hooks/internal/drop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop.js"],"names":["invariant","condition","format","args","error","argIndex","event","check","_isMBTransition","TouchTransition","createTransition","touches","MouseTransition","type","indexOf","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","i","F","s","length","done","value","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","PreviewList","_this","this","instance","Constructor","_classCallCheck","register","preview","previews","push","unregister","index","splice","backendChanged","backend","_step","_iterator","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_default","manager","context","sourceOptions","setup","window","isSetUp","Error","addEventListeners","backends","current","teardown","removeEventListeners","connectDragSource","_len","arguments","_key","connectBackend","connectDragPreview","_len2","_key2","connectDropTarget","_len3","_key3","previewEnabled","target","forEach","transition","addEventListener","backendSwitcher","removeEventListener","oldBackend","some","keys","nodes","id","node","handler","callBackend","func","newBackend","skipDispatchOnTransition","newEvent","document","createEvent","initEvent","bubbles","cancelable","dispatchEvent","_this$backends$_this$","apply","nodeId","concat","_this$nodes$nodeId","r","options","assign","Boolean","MultiBackend","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","_slicedToArray","_arrayWithHoles","_arr","_n","_d","undefined","_s","_i","_iterableToArrayLimit","_nonIterableRest","getStyle","currentOffset","transform","x","y","pointerEvents","position","top","left","WebkitTransform","usePreview","collectedProps","collect","monitor","useDragDropManager","getMonitor","_useCollector2","useCollector","collected","updateCollected","subscribeToOffsetChange","subscribeToStateChange","useDragLayer","getSourceClientOffset","isDragging","itemType","getItemType","item","getItem","display","style","Context","React","createContext","_objectWithoutProperties","source","excluded","key","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Preview","props","child","_usePreview","data","children","generator","createElement","Provider","propTypes","PropTypes","oneOfType","g","Function","module","exports","dragDropManager","useContext","DndContext","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","onUpdate","_useState2","useState","setCollected","useCallback","nextValue","_typeof","obj","isRef","hasOwnProperty","registerTarget","registry","getRegistry","targetId","addTarget","removeTarget","registerSource","sourceId","addSource","removeSource","useMonitorOutput","onCollect","handlerId","getHandlerId","handlerIds","emptyImage","getEmptyImage","Image","src","randomString","Math","random","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","dispatch","action","listeners","replaceReducer","nextReducer","observable","_ref","outerSubscribe","observer","observeState","unsubscribe","$$observable","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","strictEquality","a","b","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","initialState","initialSourceClientOffset","initialClientOffset","clientOffset","reduce","state","payload","sourceClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","get","path","defaultValue","c","without","items","isObject","input","xor","itemsA","itemsB","map","Map","insertItem","set","has","result","count","targetIds","dropResult","didDrop","isSourcePublic","NONE","ALL","areDirty","dirtyIds","t","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","refCount","dragOperation","stateId","__IS_NONE__","__IS_ALL__","setClientOffset","ResetCoordinatesAction","createBeginDrag","sourceIds","publishSource","_options$publishSourc","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","beginDrag","verifyItemIsObject","pinSource","getSourceType","canDragSource","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","hover","createDrop","getDroppableTargets","determineDropResult","drop","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","reverse","createEndDrag","verifyIsDragging","getSourceId","endDrag","unpinSource","subtract","_defineProperties","descriptor","HandlerRole","DragDropMonitorImpl","store","protoProps","staticProps","prevStateId","handleChange","currentStateId","_this2","previousState","nextState","canDrag","canDrop","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","allowArray","freeTasks","pendingErrors","requestErrorThrow","rawAsap","makeRequestCallFromTimer","shift","asap","task","rawTask","pop","RawTask","onerror","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","entries","isDone","_entries$next","HandlerRegistryImpl","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","includePinned","isSourceId","isPinned","isTargetId","_removeSource","delete","_removeTarget","makeStoreInstance","debugMode","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","DragDropManagerImpl","handleRefCountChange","shouldSetUp","actions","publishDragSource","createDragDropActions","boundActions","actionCreator","createDragDropManager","backendFactory","globalContext","backendOptions","receiveBackend","createDndContext","memoize","fn","EnterLeaveCounter","isNodeInDocument","entered","enteringNode","previousLength","Set","add","union","contains","leavingNode","isFirefox","navigator","userAgent","isSafari","safari","MonotonicInterpolant","xs","ys","indexes","sort","dx","dy","dys","dxs","ms","c1s","_i2","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","floor","diff","max","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","matchesTypes","urls","text","NativeDragSource","config","initializeExposedProperties","property","console","warn","newProperties","handle","matchNativeItemType","dataTransferTypes","nativeItemType","OptionsReader","HTML5BackendImpl","sourcePreviewNodes","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","endDragNativeItem","isDraggingNativeItem","body","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","defaultPrevented","nativeType","setDragImage","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","setTimeout","beginDragNativeItem","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","enterLeaveCounter","enter","handleTopDragEnter","altKey","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","_this$currentNativeSo","loadDataTransfer","reset","handleTopDrop","handleSelectStart","dragDrop","tagName","isContentEditable","getActions","_this$dragStartSource","_this$dragOverTargetI","size","__isReactDndBackendSetUp","cancelAnimationFrame","_this3","handleDragStart","setAttribute","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","createNativeDragSource","_this5","clearTimeout","unshift","HTML5Backend","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","subClass","superClass","initialStatus","appear","isMounting","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","create","__proto__","getDerivedStateFromProps","prevState","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","mounting","performEnter","performExit","setState","appearing","nodeRef","ReactDOM","findDOMNode","maybeNode","maybeAppearing","timeouts","enterTimeout","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","onExit","onExiting","onExited","cancel","callback","setNextCallback","active","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","render","_this$props","childProps","TransitionGroupContext","cloneElement","Children","only","Component","noop","contextType","defaultProps","toVal","mix","k","str","tmp","isNum","v","isNaN","isBool","isStr","isFn","parseClassName","hasToastId","toastId","canUseDom","canBeRendered","content","isValidElement","POSITION","TOP_LEFT","TOP_RIGHT","TOP_CENTER","BOTTOM_LEFT","BOTTOM_RIGHT","BOTTOM_CENTER","TYPE","INFO","SUCCESS","WARNING","ERROR","DEFAULT","DARK","cssTransition","duration","appendPosition","collapse","collapseDuration","enterDuration","exitDuration","preventExitTransition","enterClassName","exitClassName","requestAnimationFrame","collapseToast","eventManager","list","emitQueue","on","off","cb","cancelEmit","timers","emit","timer","useKeeper","arg","refresh","ref","useRef","useToastContainer","forceUpdate","useReducer","toast","containerRef","toastCount","queue","collection","toastKey","displayedToast","containerId","isToastActive","getToast","limit","enableMultiContainer","queueLen","freeSlot","dequeueToast","toDequeue","toastContent","toastProps","staleId","appendToast","delay","updateId","isNotValid","closeToast","removeToast","isNotAnUpdate","toastAutoClose","containerAutoClose","closeButton","rtl","className","bodyClassName","bodyStyle","onClick","pauseOnHover","pauseOnFocusLoss","draggable","draggablePercent","closeOnClick","progressClassName","progressStyle","autoClose","hideProgressBar","progress","deleteToast","removeFromCollection","getToastToRender","toastToRender","toastList","p","getX","useToast","isRunning","setIsRunning","setPreventExitTransition","toastRef","drag","start","deltaX","removalDistance","canCloseOnClick","boundingRect","syncProps","bottom","right","pauseToast","playToast","getY","eventHandlers","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","onDragTransitionEnd","CloseButton","ariaLabel","viewBox","fillRule","d","ProgressBar","hide","userStyle","controlledProgress","isIn","animationDuration","animationPlayState","opacity","defaultClassArr","classNames","defaultClassName","cx","animationEvent","Toast","cssClasses","renderCloseButton","Bounce","Slide","ToastPositioner","rest","ToastContainer","swag","newestOnTop","containers","lazy","isAnyContainerMounted","container","latestInstance","getContainer","generateToastId","Date","getToastId","dispatchToast","containerDomNode","mergeOptions","params","oldOptions","oldContent","nextOptions","containerConfig","containerInstance","setRef","cloneWithRef","element","newRef","previousRef","throwIfCompositeComponentElement","displayName","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","wrapHookToRecognizeElement","root","self","global","ponyfill","originalModule","webpackPolyfill","l","symbolObservablePonyfill","requestFlush","flush","currentIndex","scan","newLength","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","toggle","createTextNode","observe","characterData","makeRequestCallFromMutationObserver","main","isWorker","workerSize","canUseWorker","Worker","Blob","Promise","OffscreenCanvas","OffscreenCanvasRenderingContext2D","HTMLCanvasElement","transferControlToOffscreen","createObjectURL","promise","ModulePromise","Prom","raf","frame","TIME","frames","lastFrameTime","onFrame","time","getWorker","worker","prom","resolves","code","execute","postMessage","init","canvas","offscreen","fire","resolve","workerDone","msg","bind","decorate","defaults","particleCount","angle","spread","startVelocity","decay","gravity","ticks","shapes","zIndex","colors","disableForReducedMotion","scalar","prop","val","convert","onlyPositiveInt","number","toDecimal","parseInt","hexToRgb","String","replace","setCanvasWindowSize","clientWidth","clientHeight","setCanvasRectSize","rect","randomPhysics","opts","radAngle","PI","radSpread","wobble","velocity","angle2D","tiltAngle","color","shape","tick","totalTicks","tiltSin","tiltCos","wobbleX","wobbleY","ovalScalar","animate","fettis","resizer","animationFrame","destroy","animatingFettis","getContext","onDone","clearRect","update","fetti","cos","sin","x1","y1","x2","y2","fillStyle","beginPath","ellipse","abs","radiusX","radiusY","rotation","startAngle","endAngle","antiClockwise","save","translate","rotate","scale","arc","restore","moveTo","lineTo","closePath","fill","updateFetti","addFettis","confettiCannon","globalOpts","animationObj","isLibCanvas","allowResize","globalDisableForReducedMotion","initialized","__confetti_initialized","preferLessMotion","matchMedia","matches","fireLocal","min","Number","origin","getOrigin","temp","startX","startY","getCanvas","appendChild","onResize","resize","removeChild","useWorker","ListenerType","MouseButtons","MouseButton","eventShouldStartDrag","button","isTouchEvent","targetTouches","lastTargetTouchFallback","getEventClientTouchOffset","supportsPassive","supported","_eventNames","incoming","enableTouchEvents","enableMouseEvents","enableKeyboardEvents","ignoreContextMenu","enableHoverOutsideTarget","touchSlop","scrollAngleRanges","delayTouchStart","delayMouseStart","eventNames","mouse","move","end","contextmenu","touch","keyboard","keydown","TouchBackendImpl","handleTopMoveStartCapture","moveStartSourceIds","handleMoveStart","handleTopMoveStart","_mouseClientOffset","waitingForDelay","handleTopMoveStartDelay","handleTopMoveCapture","handleMove","_evt","handleTopMove","_isScrolling","angleRanges","atan2","inAngleRanges","sqrt","pow","installSourceNodeRemovalObserver","dragOverTargetNodes","targetNodes","elementsAtPoint","getDropTargetElementsAtPoint","elementsFromPoint","elementsAtPointExtended","currentNode","orderedDragOverTargetIds","_getDropTargetId","ids","targetNode","handleTopMoveEndCapture","buttons","eventShouldEndDrag","uninstallSourceNodeRemovalObserver","handleCancelOnEscape","listenerTypes","getTopMoveStartHandler","subject","capture","passive","listenerType","evt","coords","droppedOn","elementFromPoint","childMatch","draggedSourceNode","draggedSourceNodeRemovalObserver","resurrectSourceNode","childList","removeAttribute","disconnect","_extends","PreviewPortalContext","DndProvider","previewPortal","ReactDndProvider","any","bool","useObservePreviews","enabled","setEnabled","dndContext","getBackend","cbackend","portal","DnDPreview","createPortal","PreviewContext","memo","_getDndContextValue2","getGlobalContext","ctx","instanceSymbol","createSingletonDndContext","isGlobalInstance","getDndContextValue","for","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","internalMonitor","isDraggingSource","isOverTarget","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","reconnect","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","useDrag","spec","specRef","_useDragSourceMonitor2","useMemo","useDragSourceMonitor","connector","_spec$current","begin","beginResult","globalMonitor","_registerSource2","receiveHandlerId","useDragHandler","previewOptions","TargetConnector","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","isCallingCanDrop","DropTargetMonitorImpl","useDrop","accept","_useDropTargetMonitor2","useDropTargetMonitor","_registerTarget2","useDropHandler"],"mappings":"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","file":"static/js/3.5f33c787.chunk.js","sourcesContent":["export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","export default (function (event, check) {\n  return {\n    _isMBTransition: true,\n    event: event,\n    check: check\n  };\n});","import createTransition from './createTransition';\nexport var TouchTransition = createTransition('touchstart', function (event) {\n  return event.touches != null; // eslint-disable-line no-eq-null, eqeqeq\n});\nexport var HTML5DragTransition = createTransition('dragstart', function (event) {\n  if (event.type) {\n    return event.type.indexOf('drag') !== -1 || event.type.indexOf('drop') !== -1;\n  }\n\n  return false;\n});\nexport var MouseTransition = createTransition('mousedown', function (event) {\n  if (event.type) {\n    return event.type.indexOf('touch') === -1 && event.type.indexOf('mouse') !== -1;\n  }\n\n  return false;\n});","function _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PreviewList = function PreviewList() {\n  var _this = this;\n\n  _classCallCheck(this, PreviewList);\n\n  this.register = function (preview) {\n    _this.previews.push(preview);\n  };\n\n  this.unregister = function (preview) {\n    var index;\n\n    while ((index = _this.previews.indexOf(preview)) !== -1) {\n      _this.previews.splice(index, 1);\n    }\n  };\n\n  this.backendChanged = function (backend) {\n    var _iterator = _createForOfIteratorHelper(_this.previews),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var preview = _step.value;\n        preview.backendChanged(backend);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.previews = [];\n};\n\nexport { PreviewList };","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { PreviewList } from './PreviewList';\n\nvar _default = function _default(manager, context, sourceOptions) {\n  var _this = this;\n\n  _classCallCheck(this, _default);\n\n  this.setup = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (_this.constructor.isSetUp) {\n      throw new Error('Cannot have two MultiBackends at the same time.');\n    }\n\n    _this.constructor.isSetUp = true;\n\n    _this.addEventListeners(window);\n\n    _this.backends[_this.current].instance.setup();\n  };\n\n  this.teardown = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    _this.constructor.isSetUp = false;\n\n    _this.removeEventListeners(window);\n\n    _this.backends[_this.current].instance.teardown();\n  };\n\n  this.connectDragSource = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _this.connectBackend('connectDragSource', args);\n  };\n\n  this.connectDragPreview = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _this.connectBackend('connectDragPreview', args);\n  };\n\n  this.connectDropTarget = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _this.connectBackend('connectDropTarget', args);\n  };\n\n  this.previewEnabled = function () {\n    return _this.backends[_this.current].preview;\n  };\n\n  this.addEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.addEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.removeEventListeners = function (target) {\n    _this.backends.forEach(function (backend) {\n      if (backend.transition) {\n        target.removeEventListener(backend.transition.event, _this.backendSwitcher, true);\n      }\n    });\n  };\n\n  this.backendSwitcher = function (event) {\n    var oldBackend = _this.current;\n    var i = 0;\n\n    _this.backends.some(function (backend) {\n      if (i !== _this.current && backend.transition && backend.transition.check(event)) {\n        _this.current = i;\n        return true;\n      }\n\n      i += 1;\n      return false;\n    });\n\n    if (_this.current !== oldBackend) {\n      _this.backends[oldBackend].instance.teardown();\n\n      Object.keys(_this.nodes).forEach(function (id) {\n        var node = _this.nodes[id];\n        node.handler();\n        node.handler = _this.callBackend(node.func, node.args);\n      });\n\n      _this.previews.backendChanged(_this);\n\n      var newBackend = _this.backends[_this.current];\n      newBackend.instance.setup();\n\n      if (newBackend.skipDispatchOnTransition) {\n        return;\n      }\n\n      var newEvent = null;\n\n      try {\n        newEvent = new event.constructor(event.type, event);\n      } catch (_e) {\n        newEvent = document.createEvent('Event');\n        newEvent.initEvent(event.type, event.bubbles, event.cancelable);\n      }\n\n      event.target.dispatchEvent(newEvent);\n    }\n  };\n\n  this.callBackend = function (func, args) {\n    var _this$backends$_this$;\n\n    return (_this$backends$_this$ = _this.backends[_this.current].instance)[func].apply(_this$backends$_this$, _toConsumableArray(args));\n  };\n\n  this.connectBackend = function (func, args) {\n    var nodeId = \"\".concat(func, \"_\").concat(args[0]);\n\n    var handler = _this.callBackend(func, args);\n\n    _this.nodes[nodeId] = {\n      func: func,\n      args: args,\n      handler: handler\n    };\n    return function () {\n      var _this$nodes$nodeId;\n\n      var r = (_this$nodes$nodeId = _this.nodes[nodeId]).handler.apply(_this$nodes$nodeId, arguments);\n\n      delete _this.nodes[nodeId];\n      return r;\n    };\n  };\n\n  var options = Object.assign({\n    backends: []\n  }, sourceOptions || {});\n\n  if (options.backends.length < 1) {\n    throw new Error(\"You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx\");\n  }\n\n  this.current = 0;\n  this.previews = new PreviewList();\n  this.backends = [];\n  options.backends.forEach(function (backend) {\n    if (!backend.backend) {\n      throw new Error(\"You must specify a 'backend' property in your Backend entry: \".concat(backend));\n    }\n\n    var transition = backend.transition;\n\n    if (transition && !transition._isMBTransition) {\n      throw new Error(\"You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: \".concat(backend));\n    }\n\n    _this.backends.push({\n      instance: backend.backend(manager, context, backend.options),\n      preview: backend.preview || false,\n      transition: transition,\n      skipDispatchOnTransition: Boolean(backend.skipDispatchOnTransition)\n    });\n  });\n  this.nodes = {};\n} // DnD Backend API\n;\n\nexport { _default as default };","export { HTML5DragTransition, TouchTransition, MouseTransition } from './Transitions';\nexport { default as createTransition } from './createTransition';\nexport { PreviewList } from './PreviewList';\nimport MultiBackend from './MultiBackend';\nexport { MultiBackend };\nexport default (function (manager, context, options) {\n  return new MultiBackend(manager, context, options);\n});","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './internal/useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","import { useDragLayer } from 'react-dnd';\n\nvar getStyle = function getStyle(currentOffset) {\n  var transform = \"translate(\".concat(currentOffset.x, \"px, \").concat(currentOffset.y, \"px)\");\n  return {\n    pointerEvents: 'none',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    transform: transform,\n    WebkitTransform: transform\n  };\n};\n\nvar usePreview = function usePreview() {\n  var collectedProps = useDragLayer(function (monitor) {\n    return {\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n      itemType: monitor.getItemType(),\n      item: monitor.getItem()\n    };\n  });\n\n  if (!collectedProps.isDragging || collectedProps.currentOffset === null) {\n    return {\n      display: false\n    };\n  }\n\n  return {\n    display: true,\n    itemType: collectedProps.itemType,\n    item: collectedProps.item,\n    style: getStyle(collectedProps.currentOffset)\n  };\n};\n\nexport { usePreview };","import React from 'react';\nexport var Context = React.createContext();","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { usePreview } from './usePreview';\nimport { Context } from './Context';\n\nvar Preview = function Preview(props) {\n  var _usePreview = usePreview(),\n      display = _usePreview.display,\n      data = _objectWithoutProperties(_usePreview, [\"display\"]);\n\n  if (!display) {\n    return null;\n  }\n\n  var child;\n\n  if (props.children && typeof props.children === 'function') {\n    child = props.children(data);\n  } else if (props.children) {\n    child = props.children;\n  } else {\n    child = props.generator(data);\n  }\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: data\n  }, child);\n};\n\nPreview.propTypes = {\n  generator: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nexport { Preview };","import { Preview } from './Preview';\nexport { usePreview } from './usePreview';\nexport { Context } from './Context';\nexport { Preview };\nexport default Preview;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../common/DndContext';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor);\n\n    if (!shallowEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  useIsomorphicLayoutEffect(updateCollected, []);\n  return [collected, updateCollected];\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from './utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from './utils/coords';\nimport { areDirty } from './utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, 'Expected to find a valid target.');\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from './actions/registry';\nimport { getNextUniqueId } from './utils/getNextUniqueId';\nimport { HandlerRole } from './interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from './contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { createDragDropActions } from './actions/dragDrop';\nimport { DragDropMonitorImpl } from './DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './HandlerRegistryImpl';\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl() {\n    var _this = this;\n\n    var debugMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    var store = makeStoreInstance(debugMode);\n    this.store = store;\n    this.monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import { DragDropManagerImpl } from './DragDropManagerImpl';\nexport function createDragDropManager(backendFactory, globalContext, backendOptions, debugMode) {\n  var manager = new DragDropManagerImpl(debugMode);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}","import * as React from 'react';\nimport { createDragDropManager } from 'dnd-core';\n/**\n * Create the React Context\n */\n\nexport var DndContext = React.createContext({\n  dragDropManager: undefined\n});\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\n\nexport function createDndContext(backend, context, options, debugMode) {\n  return {\n    dragDropManager: createDragDropManager(backend, context, options, debugMode)\n  };\n}","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) === null || _document$documentEle === void 0 ? void 0 : _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  function HTML5BackendImpl(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && document.body.contains(node));\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context) {\n  return new HTML5BackendImpl(manager, context);\n};","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import { isValidElement } from 'react';\n\nimport { Id } from '../types';\n\nexport function isNum(v: any): v is Number {\n  return typeof v === 'number' && !isNaN(v);\n}\n\nexport function isBool(v: any): v is Boolean {\n  return typeof v === 'boolean';\n}\n\nexport function isStr(v: any): v is String {\n  return typeof v === 'string';\n}\n\nexport function isFn(v: any): v is Function {\n  return typeof v === 'function';\n}\n\nexport function parseClassName(v: any) {\n  return isStr(v) || isFn(v) ? v : null;\n}\n\nexport function objectValues<T>(obj: Record<string, T>) {\n  return Object.keys(obj).map(key => obj[key]);\n}\n\nexport function hasToastId(toastId?: Id) {\n  return toastId === 0 || toastId;\n}\n\nexport function getAutoCloseDelay(\n  toastAutoClose?: false | number,\n  containerAutoClose?: false | number\n) {\n  return toastAutoClose === false ||\n    (isNum(toastAutoClose) && toastAutoClose > 0)\n    ? toastAutoClose\n    : containerAutoClose;\n}\n\nexport const canUseDom = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nexport function canBeRendered<T>(content: T): boolean {\n  return (\n    isValidElement(content) || isStr(content) || isFn(content) || isNum(content)\n  );\n}\n","import { ToastPosition, TypeOptions } from '../types';\n\ntype KeyOfPosition =\n  | 'TOP_LEFT'\n  | 'TOP_RIGHT'\n  | 'TOP_CENTER'\n  | 'BOTTOM_LEFT'\n  | 'BOTTOM_RIGHT'\n  | 'BOTTOM_CENTER';\n\ntype KeyOfType = 'INFO' | 'SUCCESS' | 'WARNING' | 'ERROR' | 'DEFAULT' | 'DARK';\n\nexport const POSITION: { [key in KeyOfPosition]: ToastPosition } = {\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right',\n  TOP_CENTER: 'top-center',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  BOTTOM_CENTER: 'bottom-center'\n};\n\nexport const TYPE: { [key in KeyOfType]: TypeOptions } = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  WARNING: 'warning',\n  ERROR: 'error',\n  DEFAULT: 'default',\n  DARK: 'dark'\n};\n\nexport const enum DEFAULT {\n  COLLAPSE_DURATION = 300,\n  DEBOUNCE_DURATION = 50,\n  CSS_NAMESPACE = 'Toastify'\n}\n","import * as React from 'react';\nimport { Transition } from 'react-transition-group';\nimport { ToastTransitionProps } from '../types';\n\nimport { collapseToast } from './collapseToast';\nimport { DEFAULT } from './constant';\n\nexport interface CSSTransitionProps {\n  /**\n   * Css class to apply when toast enter\n   */\n  enter: string;\n\n  /**\n   * Css class to apply when toast leave\n   */\n  exit: string;\n\n  /**\n   * Define the duration of the transition in ms\n   * You can also pass an array `[enterDuration, exitDuration]`\n   * `Default: 750`\n   */\n  duration?: number | [number, number];\n\n  /**\n   * Append current toast position to the classname.\n   * For instance `myclass--top-center`...\n   * `Default: false`\n   */\n  appendPosition?: boolean;\n\n  /**\n   * Collapse toast smoothly when animation end\n   * `Default: true`\n   */\n  collapse?: boolean;\n\n  /**\n   * Collapse transition duration\n   * `Default: 300`\n   */\n  collapseDuration?: number;\n}\n\nexport function cssTransition({\n  enter,\n  exit,\n  duration = 750,\n  appendPosition = false,\n  collapse = true,\n  collapseDuration = DEFAULT.COLLAPSE_DURATION\n}: CSSTransitionProps) {\n  let enterDuration: number, exitDuration: number;\n\n  if (Array.isArray(duration) && duration.length === 2) {\n    [enterDuration, exitDuration] = duration;\n  } else {\n    enterDuration = exitDuration = duration as number;\n  }\n\n  return function ToastTransition({\n    children,\n    position,\n    preventExitTransition,\n    done,\n    ...props\n  }: ToastTransitionProps) {\n    const enterClassName = appendPosition ? `${enter}--${position}` : enter;\n    const exitClassName = appendPosition ? `${exit}--${position}` : exit;\n\n    const onEnter = () => {\n      const node = props.nodeRef.current;\n      if (node) {\n        node.classList.add(enterClassName);\n        node.style.animationFillMode = 'forwards';\n        node.style.animationDuration = `${enterDuration}ms`;\n      }\n    };\n\n    const onEntered = () => {\n      const node = props.nodeRef.current;\n      if (node) {\n        node.classList.remove(enterClassName);\n        node.style.removeProperty('animationFillMode');\n        node.style.removeProperty('animationDuration');\n      }\n    };\n\n    const onExited = () => {\n      const node = props.nodeRef.current;\n\n      if (node) {\n        node.removeEventListener('animationend', onExited);\n        collapse ? collapseToast(node, done, collapseDuration) : done();\n      }\n    };\n\n    const onExit = () => {\n      const node = props.nodeRef.current;\n      if (node) {\n        node.classList.add(exitClassName);\n        node.style.animationFillMode = 'forwards';\n        node.style.animationDuration = `${exitDuration}ms`;\n        node.addEventListener('animationend', onExited);\n      }\n    };\n\n    return (\n      <Transition\n        {...props}\n        timeout={\n          preventExitTransition\n            ? collapse\n              ? collapseDuration\n              : DEFAULT.DEBOUNCE_DURATION\n            : {\n                enter: enterDuration,\n                exit: collapse\n                  ? exitDuration + collapseDuration\n                  : exitDuration + DEFAULT.DEBOUNCE_DURATION\n              }\n        }\n        onEnter={onEnter}\n        onEntered={onEntered}\n        onExit={preventExitTransition ? onExited : onExit}\n        unmountOnExit\n      >\n        {children}\n      </Transition>\n    );\n  };\n}\n","import { DEFAULT } from './constant';\n\n/**\n * Used to collapse toast after exit animation\n */\nexport function collapseToast(\n  node: HTMLElement,\n  done: () => void,\n  duration = DEFAULT.COLLAPSE_DURATION\n) {\n  const height = node.scrollHeight;\n  const style = node.style;\n\n  requestAnimationFrame(() => {\n    style.minHeight = 'initial';\n    style.height = height + 'px';\n    style.transition = `all ${duration}ms`;\n\n    requestAnimationFrame(() => {\n      style.height = '0';\n      style.padding = '0';\n      style.margin = '0';\n      setTimeout(() => done(), duration as number);\n    });\n  });\n}\n","import {\n  Id,\n  ToastContent,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps\n} from '../types';\nimport { ContainerInstance } from '../hooks';\n\nexport const enum Event {\n  Show,\n  Clear,\n  DidMount,\n  WillUnmount,\n  Change,\n  ClearWaitingQueue\n}\n\ntype OnShowCallback = (\n  content: ToastContent,\n  options: NotValidatedToastProps\n) => void;\ntype OnClearCallback = (id?: Id) => void;\ntype OnClearWaitingQueue = (params: ClearWaitingQueueParams) => void;\ntype OnDidMountCallback = (containerInstance: ContainerInstance) => void;\ntype OnWillUnmountCallback = OnDidMountCallback;\nexport type OnChangeCallback = (\n  toast: number,\n  containerId?: number | string\n) => void;\ntype Callback =\n  | OnShowCallback\n  | OnClearCallback\n  | OnClearWaitingQueue\n  | OnDidMountCallback\n  | OnWillUnmountCallback\n  | OnChangeCallback;\ntype TimeoutId = ReturnType<typeof window.setTimeout>;\n\nexport interface EventManager {\n  list: Map<Event, Callback[]>;\n  emitQueue: Map<Event, TimeoutId[]>;\n  on(event: Event.Show, callback: OnShowCallback): EventManager;\n  on(event: Event.Clear, callback: OnClearCallback): EventManager;\n  on(\n    event: Event.ClearWaitingQueue,\n    callback: OnClearWaitingQueue\n  ): EventManager;\n  on(event: Event.DidMount, callback: OnDidMountCallback): EventManager;\n  on(event: Event.WillUnmount, callback: OnWillUnmountCallback): EventManager;\n  on(event: Event.Change, callback: OnChangeCallback): EventManager;\n  off(event: Event, callback?: Callback): EventManager;\n  cancelEmit(event: Event): EventManager;\n  emit(\n    event: Event.Show,\n    content: React.ReactNode,\n    options: NotValidatedToastProps\n  ): void;\n  emit(event: Event.Clear, id?: string | number): void;\n  emit(event: Event.ClearWaitingQueue, params: ClearWaitingQueueParams): void;\n  emit(event: Event.DidMount, containerInstance: ContainerInstance): void;\n  emit(event: Event.WillUnmount, containerInstance: ContainerInstance): void;\n  emit(event: Event.Change, toast: number, containerId?: number | string): void;\n}\n\nexport const eventManager: EventManager = {\n  list: new Map(),\n  emitQueue: new Map(),\n\n  on(event: Event, callback: Callback) {\n    this.list.has(event) || this.list.set(event, []);\n    this.list.get(event)!.push(callback);\n    return this;\n  },\n\n  off(event, callback) {\n    if (callback) {\n      const cb = this.list.get(event)!.filter(cb => cb !== callback);\n      this.list.set(event, cb);\n      return this;\n    }\n    this.list.delete(event);\n    return this;\n  },\n\n  cancelEmit(event) {\n    const timers = this.emitQueue.get(event);\n    if (timers) {\n      timers.forEach((timer: TimeoutId) => clearTimeout(timer));\n      this.emitQueue.delete(event);\n    }\n\n    return this;\n  },\n\n  /**\n   * Enqueue the event at the end of the call stack\n   * Doing so let the user call toast as follow:\n   * toast('1')\n   * toast('2')\n   * toast('3')\n   * Without setTimemout the code above will not work\n   */\n  emit(event: Event, ...args: any[]) {\n    this.list.has(event) &&\n      this.list.get(event)!.forEach((callback: Callback) => {\n        const timer = setTimeout(() => {\n          // @ts-ignore\n          callback(...args);\n        }, 0);\n\n        this.emitQueue.has(event) || this.emitQueue.set(event, []);\n        this.emitQueue.get(event)!.push(timer);\n      });\n  }\n};\n","import { useRef, useEffect } from 'react';\n\n/**\n * `useKeeper` is a helper around `useRef`.\n *\n * You don't need to access the `.current`property to get the value\n * If refresh is set to true. The ref will be updated every render\n */\nexport function useKeeper<T>(arg: T, refresh = false) {\n  const ref = useRef<T>(arg);\n\n  useEffect(() => {\n    if (refresh) ref.current = arg;\n  });\n\n  return ref.current;\n}\n","import { Id } from '../types';\n\nimport { hasToastId } from '../utils';\n\nexport type State = Array<Id>;\nexport type Action =\n  | { type: 'ADD'; toastId: Id; staleId?: Id }\n  | { type: 'REMOVE'; toastId?: Id };\n\nexport function reducer(state: State, action: Action) {\n  switch (action.type) {\n    case 'ADD':\n      return [...state, action.toastId].filter(id => id !== action.staleId);\n    case 'REMOVE':\n      return hasToastId(action.toastId)\n        ? state.filter(id => id !== action.toastId)\n        : [];\n  }\n}\n","import {\n  useEffect,\n  useRef,\n  useReducer,\n  cloneElement,\n  isValidElement\n} from 'react';\nimport {\n  parseClassName,\n  canBeRendered,\n  isBool,\n  isFn,\n  isNum,\n  isStr,\n  hasToastId,\n  getAutoCloseDelay\n} from '../utils';\nimport { eventManager, Event } from '../core/eventManager';\n\nimport {\n  Id,\n  ToastContainerProps,\n  ToastProps,\n  ToastContent,\n  Toast,\n  ToastPosition,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps,\n  ToastTransition\n} from '../types';\nimport { useKeeper } from './useKeeper';\nimport { reducer } from './toastContainerReducer';\n\ntype CollectionItem = Record<Id, Toast>;\ntype ToastToRender = Partial<Record<ToastPosition, Toast[]>>;\n\ninterface QueuedToast {\n  toastContent: ToastContent;\n  toastProps: ToastProps;\n  staleId?: Id;\n}\n\nexport interface ContainerInstance {\n  toastKey: number;\n  displayedToast: number;\n  props: ToastContainerProps;\n  containerId?: Id | null;\n  isToastActive: (toastId: Id) => boolean;\n  getToast: (id: Id) => Toast | null;\n}\n\nexport function useToastContainer(props: ToastContainerProps) {\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n  const [toast, dispatch] = useReducer(reducer, []);\n  const containerRef = useRef(null);\n  let toastCount = useKeeper(0);\n  let queue = useKeeper<QueuedToast[]>([]);\n  const collection = useKeeper<CollectionItem>({});\n  const instance = useKeeper<ContainerInstance>({\n    toastKey: 1,\n    displayedToast: 0,\n    props,\n    containerId: null,\n    isToastActive: isToastActive,\n    getToast: id => collection[id] || null\n  });\n\n  useEffect(() => {\n    instance.containerId = props.containerId;\n    eventManager\n      .cancelEmit(Event.WillUnmount)\n      .on(Event.Show, buildToast)\n      .on(Event.Clear, toastId => containerRef.current && removeToast(toastId))\n      .on(Event.ClearWaitingQueue, clearWaitingQueue)\n      .emit(Event.DidMount, instance);\n\n    return () => eventManager.emit(Event.WillUnmount, instance);\n  }, []);\n\n  useEffect(() => {\n    instance.isToastActive = isToastActive;\n    instance.displayedToast = toast.length;\n    eventManager.emit(Event.Change, toast.length, props.containerId);\n  }, [toast]);\n\n  useEffect(() => {\n    instance.props = props;\n  });\n\n  function isToastActive(id: Id) {\n    return toast.indexOf(id) !== -1;\n  }\n\n  function clearWaitingQueue({ containerId }: ClearWaitingQueueParams) {\n    const { limit, enableMultiContainer } = instance.props;\n    if (\n      limit &&\n      (!containerId ||\n        (instance.containerId === containerId && enableMultiContainer))\n    ) {\n      toastCount -= queue.length;\n      queue = [];\n    }\n  }\n\n  function removeToast(toastId?: Id) {\n    const queueLen = queue.length;\n    toastCount = hasToastId(toastId)\n      ? toastCount - 1\n      : toastCount - instance.displayedToast;\n\n    if (toastCount < 0) toastCount = 0;\n\n    if (queueLen > 0) {\n      const freeSlot = hasToastId(toastId) ? 1 : instance.props.limit!;\n\n      if (queueLen === 1 || freeSlot === 1) {\n        instance.displayedToast++;\n        dequeueToast();\n      } else {\n        const toDequeue = freeSlot > queueLen ? queueLen : freeSlot;\n        instance.displayedToast = toDequeue;\n\n        for (let i = 0; i < toDequeue; i++) dequeueToast();\n      }\n    }\n    dispatch({ type: 'REMOVE', toastId });\n  }\n\n  function dequeueToast() {\n    const { toastContent, toastProps, staleId } = queue.shift() as QueuedToast;\n\n    // ensure that exit transition has been completed, hence the timeout\n    setTimeout(() => {\n      appendToast(toastContent, toastProps, staleId);\n    }, 500);\n  }\n\n  /**\n   * check if a container is attached to the dom\n   * check for multi-container, build only if associated\n   * check for duplicate toastId if no update\n   */\n  function isNotValid({\n    containerId,\n    toastId,\n    updateId\n  }: NotValidatedToastProps) {\n    return !containerRef.current ||\n      (instance.props.enableMultiContainer &&\n        containerId !== instance.props.containerId) ||\n      (instance.isToastActive(toastId) && updateId == null)\n      ? true\n      : false;\n  }\n\n  // this function and all the function called inside needs to rely on ref(`useKeeper`)\n  function buildToast(\n    content: ToastContent,\n    { delay, staleId, ...options }: NotValidatedToastProps\n  ) {\n    if (!canBeRendered(content) || isNotValid(options)) return;\n\n    const { toastId, updateId } = options;\n    const { props, isToastActive } = instance;\n    const closeToast = () => removeToast(toastId);\n    const isNotAnUpdate = !isToastActive(toastId);\n\n    if (isNotAnUpdate) toastCount++;\n\n    const toastProps: ToastProps = {\n      toastId,\n      updateId,\n      key: options.key || instance.toastKey++,\n      type: options.type,\n      closeToast: closeToast,\n      closeButton: options.closeButton,\n      rtl: props.rtl,\n      position: options.position || (props.position as ToastPosition),\n      transition: options.transition || (props.transition as ToastTransition),\n      className: parseClassName(options.className || props.toastClassName),\n      bodyClassName: parseClassName(\n        options.bodyClassName || props.bodyClassName\n      ),\n      style: options.style || props.toastStyle,\n      bodyStyle: options.bodyStyle || props.bodyStyle,\n      onClick: options.onClick || props.onClick,\n      pauseOnHover: isBool(options.pauseOnHover)\n        ? options.pauseOnHover\n        : props.pauseOnHover,\n      pauseOnFocusLoss: isBool(options.pauseOnFocusLoss)\n        ? options.pauseOnFocusLoss\n        : props.pauseOnFocusLoss,\n      draggable: isBool(options.draggable)\n        ? options.draggable\n        : props.draggable,\n      draggablePercent: isNum(options.draggablePercent)\n        ? options.draggablePercent\n        : (props.draggablePercent as number),\n      closeOnClick: isBool(options.closeOnClick)\n        ? options.closeOnClick\n        : props.closeOnClick,\n      progressClassName: parseClassName(\n        options.progressClassName || props.progressClassName\n      ),\n      progressStyle: options.progressStyle || props.progressStyle,\n      autoClose: getAutoCloseDelay(options.autoClose, props.autoClose),\n      hideProgressBar: isBool(options.hideProgressBar)\n        ? options.hideProgressBar\n        : props.hideProgressBar,\n      progress: options.progress,\n      role: isStr(options.role) ? options.role : props.role,\n      deleteToast() {\n        removeFromCollection(toastId);\n      }\n    };\n\n    if (isFn(options.onOpen)) toastProps.onOpen = options.onOpen;\n    if (isFn(options.onClose)) toastProps.onClose = options.onClose;\n\n    let closeButton = props.closeButton;\n\n    if (options.closeButton === false || canBeRendered(options.closeButton)) {\n      closeButton = options.closeButton;\n    } else if (options.closeButton === true) {\n      closeButton = canBeRendered(props.closeButton) ? props.closeButton : true;\n    }\n\n    toastProps.closeButton = closeButton;\n\n    let toastContent = content;\n\n    if (isValidElement(content) && !isStr(content.type)) {\n      toastContent = cloneElement(content, {\n        closeToast,\n        toastProps\n      });\n    } else if (isFn(content)) {\n      toastContent = content({ closeToast, toastProps });\n    }\n\n    // not handling limit + delay by design. Waiting for user feedback first\n    if (\n      props.limit &&\n      props.limit > 0 &&\n      toastCount > props.limit &&\n      isNotAnUpdate\n    ) {\n      queue.push({ toastContent, toastProps, staleId });\n    } else if (isNum(delay) && (delay as number) > 0) {\n      setTimeout(() => {\n        appendToast(toastContent, toastProps, staleId);\n      }, delay);\n    } else {\n      appendToast(toastContent, toastProps, staleId);\n    }\n  }\n\n  function appendToast(\n    content: ToastContent,\n    toastProps: ToastProps,\n    staleId?: Id\n  ) {\n    const { toastId } = toastProps;\n\n    collection[toastId] = {\n      content,\n      props: toastProps\n    };\n    dispatch({\n      type: 'ADD',\n      toastId,\n      staleId\n    });\n  }\n\n  function removeFromCollection(toastId: Id) {\n    delete collection[toastId];\n    forceUpdate();\n  }\n\n  function getToastToRender<T>(\n    cb: (position: ToastPosition, toastList: Toast[]) => T\n  ) {\n    const toastToRender: ToastToRender = {};\n    const toastList = props.newestOnTop\n      ? Object.keys(collection).reverse()\n      : Object.keys(collection);\n\n    for (let i = 0; i < toastList.length; i++) {\n      const toast = collection[toastList[i]];\n      const { position } = toast.props;\n      toastToRender[position] || (toastToRender[position] = []);\n\n      toastToRender[position]!.push(toast);\n    }\n\n    return (Object.keys(toastToRender) as Array<ToastPosition>).map(p =>\n      cb(p, toastToRender[p]!)\n    );\n  }\n\n  return {\n    getToastToRender,\n    collection,\n    containerRef,\n    isToastActive\n  };\n}\n","import {\n  useState,\n  useRef,\n  useEffect,\n  isValidElement,\n  DOMAttributes\n} from 'react';\n\nimport { isFn } from '../utils';\nimport { ToastProps } from '../types';\nimport { useKeeper } from './useKeeper';\n\ninterface Draggable {\n  start: number;\n  x: number;\n  y: number;\n  deltaX: number;\n  removalDistance: number;\n  canCloseOnClick: boolean;\n  canDrag: boolean;\n  boundingRect: DOMRect | null;\n}\n\ntype DragEvent = MouseEvent & TouchEvent;\n\nfunction getX(e: DragEvent) {\n  return e.targetTouches && e.targetTouches.length >= 1\n    ? e.targetTouches[0].clientX\n    : e.clientX;\n}\n\nfunction getY(e: DragEvent) {\n  return e.targetTouches && e.targetTouches.length >= 1\n    ? e.targetTouches[0].clientY\n    : e.clientY;\n}\n\nexport function useToast(props: ToastProps) {\n  const [isRunning, setIsRunning] = useState(true);\n  const [preventExitTransition, setPreventExitTransition] = useState(false);\n  const toastRef = useRef<HTMLDivElement>(null);\n  const drag = useKeeper<Draggable>({\n    start: 0,\n    x: 0,\n    y: 0,\n    deltaX: 0,\n    removalDistance: 0,\n    canCloseOnClick: true,\n    canDrag: false,\n    boundingRect: null\n  });\n  const syncProps = useKeeper(props, true);\n  const { autoClose, pauseOnHover, closeToast, onClick, closeOnClick } = props;\n\n  useEffect(() => {\n    if (isFn(props.onOpen))\n      props.onOpen(isValidElement(props.children) && props.children.props);\n\n    return () => {\n      if (isFn(syncProps.onClose))\n        syncProps.onClose(\n          isValidElement(syncProps.children) && syncProps.children.props\n        );\n    };\n  }, []);\n\n  useEffect(() => {\n    props.draggable && bindDragEvents();\n    return () => {\n      props.draggable && unbindDragEvents();\n    };\n  }, [props.draggable]);\n\n  useEffect(() => {\n    props.pauseOnFocusLoss && bindFocusEvents();\n    return () => {\n      props.pauseOnFocusLoss && unbindFocusEvents();\n    };\n  }, [props.pauseOnFocusLoss]);\n\n  function onDragStart(\n    e: React.MouseEvent<HTMLElement, MouseEvent> | React.TouchEvent<HTMLElement>\n  ) {\n    const toast = toastRef.current!;\n    drag.canCloseOnClick = true;\n    drag.canDrag = true;\n    drag.boundingRect = toast.getBoundingClientRect();\n    toast.style.transition = '';\n    drag.start = drag.x = getX(e.nativeEvent as DragEvent);\n    drag.removalDistance = toast.offsetWidth * (props.draggablePercent / 100);\n  }\n\n  function onDragTransitionEnd() {\n    if (drag.boundingRect) {\n      const { top, bottom, left, right } = drag.boundingRect;\n\n      if (\n        props.pauseOnHover &&\n        drag.x >= left &&\n        drag.x <= right &&\n        drag.y >= top &&\n        drag.y <= bottom\n      ) {\n        pauseToast();\n      } else {\n        playToast();\n      }\n    }\n  }\n\n  function playToast() {\n    setIsRunning(true);\n  }\n\n  function pauseToast() {\n    setIsRunning(false);\n  }\n\n  function bindFocusEvents() {\n    window.addEventListener('focus', playToast);\n    window.addEventListener('blur', pauseToast);\n  }\n\n  function unbindFocusEvents() {\n    window.removeEventListener('focus', playToast);\n    window.removeEventListener('blur', pauseToast);\n  }\n\n  function bindDragEvents() {\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragEnd);\n\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragEnd);\n  }\n\n  function unbindDragEvents() {\n    document.removeEventListener('mousemove', onDragMove);\n    document.removeEventListener('mouseup', onDragEnd);\n\n    document.removeEventListener('touchmove', onDragMove);\n    document.removeEventListener('touchend', onDragEnd);\n  }\n\n  function onDragMove(e: MouseEvent | TouchEvent) {\n    e.preventDefault();\n\n    const toast = toastRef.current!;\n\n    if (drag.canDrag) {\n      if (isRunning) pauseToast();\n\n      drag.x = getX(e as DragEvent);\n      drag.deltaX = drag.x - drag.start;\n      drag.y = getY(e as DragEvent);\n\n      // prevent false positif during a toast click\n      if (drag.start !== drag.x) drag.canCloseOnClick = false;\n\n      toast.style.transform = `translateX(${drag.deltaX}px)`;\n      toast.style.opacity = `${1 -\n        Math.abs(drag.deltaX / drag.removalDistance)}`;\n    }\n  }\n\n  function onDragEnd() {\n    const toast = toastRef.current!;\n    if (drag.canDrag) {\n      drag.canDrag = false;\n\n      if (Math.abs(drag.deltaX) > drag.removalDistance) {\n        setPreventExitTransition(true);\n        props.closeToast();\n        return;\n      }\n\n      toast.style.transition = 'transform 0.2s, opacity 0.2s';\n      toast.style.transform = 'translateX(0)';\n      toast.style.opacity = '1';\n    }\n  }\n\n  const eventHandlers: DOMAttributes<HTMLElement> = {\n    onMouseDown: onDragStart,\n    onTouchStart: onDragStart,\n    onMouseUp: onDragTransitionEnd,\n    onTouchEnd: onDragTransitionEnd\n  };\n\n  if (autoClose && pauseOnHover) {\n    eventHandlers.onMouseEnter = pauseToast;\n    eventHandlers.onMouseLeave = playToast;\n  }\n\n  // prevent toast from closing when user drags the toast\n  if (closeOnClick) {\n    eventHandlers.onClick = (e: React.MouseEvent) => {\n      onClick && onClick(e);\n      drag.canCloseOnClick && closeToast();\n    };\n  }\n\n  return {\n    playToast,\n    pauseToast,\n    isRunning,\n    preventExitTransition,\n    toastRef,\n    eventHandlers\n  };\n}\n","import * as React from 'react';\nimport { DEFAULT } from '../utils';\nimport { TypeOptions } from '../types';\n\nexport interface CloseButtonProps {\n  closeToast: (e: React.MouseEvent<HTMLElement>) => void;\n  type: TypeOptions;\n  ariaLabel?: string;\n}\n\nexport function CloseButton({\n  closeToast,\n  type,\n  ariaLabel = 'close'\n}: CloseButtonProps) {\n  return (\n    <button\n      className={`${DEFAULT.CSS_NAMESPACE}__close-button ${DEFAULT.CSS_NAMESPACE}__close-button--${type}`}\n      type=\"button\"\n      onClick={e => {\n        e.stopPropagation();\n        closeToast(e);\n      }}\n      aria-label={ariaLabel}\n    >\n      <svg aria-hidden=\"true\" viewBox=\"0 0 14 16\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z\"\n        />\n      </svg>\n    </button>\n  );\n}\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { TYPE, DEFAULT, isFn } from './../utils';\nimport { TypeOptions, ToastClassName } from '../types';\n\nexport interface ProgressBarProps {\n  /**\n   * The animation delay which determine when to close the toast\n   */\n  delay: number;\n\n  /**\n   * Whether or not the animation is running or paused\n   */\n  isRunning: boolean;\n\n  /**\n   * Func to close the current toast\n   */\n  closeToast: () => void;\n\n  /**\n   * Optional type : info, success ...\n   */\n  type: TypeOptions;\n\n  /**\n   * Hide or not the progress bar\n   */\n  hide?: boolean;\n\n  /**\n   * Optionnal className\n   */\n  className?: ToastClassName;\n\n  /**\n   * Optionnal inline style\n   */\n  style?: React.CSSProperties;\n\n  /**\n   * Tell wether or not controlled progress bar is used\n   */\n  controlledProgress?: boolean;\n\n  /**\n   * Controlled progress value\n   */\n  progress?: number | string;\n\n  /**\n   * Support rtl content\n   */\n  rtl?: boolean;\n\n  /**\n   * Tell if the component is visible on screen or not\n   */\n  isIn?: boolean;\n}\n\nexport function ProgressBar({\n  delay,\n  isRunning,\n  closeToast,\n  type,\n  hide,\n  className,\n  style: userStyle,\n  controlledProgress,\n  progress,\n  rtl,\n  isIn\n}: ProgressBarProps) {\n  const style: React.CSSProperties = {\n    ...userStyle,\n    animationDuration: `${delay}ms`,\n    animationPlayState: isRunning ? 'running' : 'paused',\n    opacity: hide ? 0 : 1\n  };\n\n  if (controlledProgress) style.transform = `scaleX(${progress})`;\n  const defaultClassArr = [\n    `${DEFAULT.CSS_NAMESPACE}__progress-bar`,\n    controlledProgress\n      ? `${DEFAULT.CSS_NAMESPACE}__progress-bar--controlled`\n      : `${DEFAULT.CSS_NAMESPACE}__progress-bar--animated`,\n    `${DEFAULT.CSS_NAMESPACE}__progress-bar--${type}`,\n    {\n      [`${DEFAULT.CSS_NAMESPACE}__progress-bar--rtl`]: rtl\n    }\n  ];\n  const classNames = isFn(className)\n    ? className({\n        rtl,\n        type,\n        defaultClassName: cx(...defaultClassArr)\n      })\n    : cx(...[...defaultClassArr, className]);\n\n  // 🧐 controlledProgress is derived from progress\n  // so if controlledProgress is set\n  // it means that this is also the case for progress\n  const animationEvent = {\n    [controlledProgress && progress! >= 1\n      ? 'onTransitionEnd'\n      : 'onAnimationEnd']:\n      controlledProgress && progress! < 1\n        ? null\n        : () => {\n            isIn && closeToast();\n          }\n  };\n\n  return <div className={classNames} style={style} {...animationEvent} />;\n}\n\nProgressBar.defaultProps = {\n  type: TYPE.DEFAULT,\n  hide: false\n};\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { ProgressBar } from './ProgressBar';\nimport { ToastProps } from '../types';\nimport { DEFAULT, isFn } from '../utils';\nimport { useToast } from '../hooks';\n\nexport const Toast: React.FC<ToastProps> = props => {\n  const {\n    isRunning,\n    preventExitTransition,\n    toastRef,\n    eventHandlers\n  } = useToast(props);\n  const {\n    closeButton,\n    children,\n    autoClose,\n    onClick,\n    type,\n    hideProgressBar,\n    closeToast,\n    transition: Transition,\n    position,\n    className,\n    style,\n    bodyClassName,\n    bodyStyle,\n    progressClassName,\n    progressStyle,\n    updateId,\n    role,\n    progress,\n    rtl,\n    toastId,\n    deleteToast\n  } = props;\n  const defaultClassArr = [\n    `${DEFAULT.CSS_NAMESPACE}__toast`,\n    `${DEFAULT.CSS_NAMESPACE}__toast--${type}`,\n    {\n      [`${DEFAULT.CSS_NAMESPACE}__toast--rtl`]: rtl\n    }\n  ];\n  const cssClasses = isFn(className)\n    ? className({\n        rtl,\n        position,\n        type,\n        defaultClassName: cx(...defaultClassArr)\n      })\n    : cx(...[...defaultClassArr, className]);\n  const controlledProgress = !!progress;\n\n  function renderCloseButton(closeButton: any) {\n    if (!closeButton) return;\n\n    const props = { closeToast, type };\n    if (isFn(closeButton)) return closeButton(props);\n    if (React.isValidElement(closeButton))\n      return React.cloneElement(closeButton, props);\n  }\n\n  return (\n    <Transition\n      in={props.in!}\n      appear\n      done={deleteToast}\n      position={position}\n      preventExitTransition={preventExitTransition}\n      nodeRef={toastRef}\n    >\n      <div\n        id={toastId as string}\n        onClick={onClick}\n        className={cssClasses || undefined}\n        {...eventHandlers}\n        style={style}\n        ref={toastRef}\n      >\n        <div\n          {...(props.in && { role: role })}\n          className={\n            isFn(bodyClassName)\n              ? bodyClassName({ type })\n              : cx(`${DEFAULT.CSS_NAMESPACE}__toast-body`, bodyClassName)\n          }\n          style={bodyStyle}\n        >\n          {children}\n        </div>\n        {renderCloseButton(closeButton)}\n        {(autoClose || controlledProgress) && (\n          <ProgressBar\n            {...(updateId && !controlledProgress\n              ? { key: `pb-${updateId}` }\n              : {})}\n            rtl={rtl}\n            delay={autoClose as number}\n            isRunning={isRunning}\n            isIn={props.in}\n            closeToast={closeToast}\n            hide={hideProgressBar}\n            type={type}\n            style={progressStyle}\n            className={progressClassName}\n            controlledProgress={controlledProgress}\n            progress={progress}\n          />\n        )}\n      </div>\n    </Transition>\n  );\n};\n","import { DEFAULT, cssTransition } from '../utils';\n\nconst Bounce = cssTransition({\n  enter: `${DEFAULT.CSS_NAMESPACE}__bounce-enter`,\n  exit: `${DEFAULT.CSS_NAMESPACE}__bounce-exit`,\n  appendPosition: true\n});\n\nconst Slide = cssTransition({\n  enter: `${DEFAULT.CSS_NAMESPACE}__slide-enter`,\n  exit: `${DEFAULT.CSS_NAMESPACE}__slide-exit`,\n  duration: [450, 750],\n  appendPosition: true\n});\n\nconst Zoom = cssTransition({\n  enter: `${DEFAULT.CSS_NAMESPACE}__zoom-enter`,\n  exit: `${DEFAULT.CSS_NAMESPACE}__zoom-exit`\n});\n\nconst Flip = cssTransition({\n  enter: `${DEFAULT.CSS_NAMESPACE}__flip-enter`,\n  exit: `${DEFAULT.CSS_NAMESPACE}__flip-exit`\n});\n\nexport { Bounce, Slide, Zoom, Flip };\n","import * as React from 'react';\nimport { ToastProps } from '../types';\ntype ToastPositionerProps = Pick<ToastProps, 'style' | 'in'> & {\n  className?: string;\n};\n\nexport const ToastPositioner: React.FC<ToastPositionerProps> = ({\n  children,\n  className,\n  style,\n  ...rest\n}) => {\n  // Monkey patch react-transition-group\n  // As exit transition is broken with strict mode\n  delete rest.in;\n\n  return (\n    <div className={className} style={style}>\n      {React.Children.map(children, child =>\n        React.cloneElement(child as React.ReactElement<any>, rest)\n      )}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'clsx';\n\nimport { Toast } from './Toast';\nimport { CloseButton } from './CloseButton';\nimport { Bounce } from './Transitions';\nimport {\n  POSITION,\n  DEFAULT,\n  parseClassName,\n  objectValues,\n  isFn\n} from '../utils';\nimport { useToastContainer } from '../hooks';\nimport { ToastContainerProps, ToastPosition } from '../types';\nimport { ToastPositioner } from './ToastPositioner';\n\nexport const ToastContainer: React.FC<ToastContainerProps> = props => {\n  const { getToastToRender, containerRef, isToastActive } = useToastContainer(\n    props\n  );\n  const { className, style, rtl, containerId } = props;\n\n  return (\n    <div\n      ref={containerRef}\n      className={DEFAULT.CSS_NAMESPACE as string}\n      id={containerId as string}\n    >\n      {getToastToRender((position, toastList) => {\n        const swag = {\n          className: isFn(className)\n            ? className({\n                position,\n                rtl,\n                defaultClassName: cx(\n                  `${DEFAULT.CSS_NAMESPACE}__toast-container`,\n                  `${DEFAULT.CSS_NAMESPACE}__toast-container--${position}`,\n                  { [`${DEFAULT.CSS_NAMESPACE}__toast-container--rtl`]: rtl }\n                )\n              })\n            : cx(\n                `${DEFAULT.CSS_NAMESPACE}__toast-container`,\n                `${DEFAULT.CSS_NAMESPACE}__toast-container--${position}`,\n                { [`${DEFAULT.CSS_NAMESPACE}__toast-container--rtl`]: rtl },\n                parseClassName(className)\n              ),\n          style:\n            toastList.length === 0\n              ? { ...style, pointerEvents: 'none' }\n              : { ...style }\n        } as any;\n        return (\n          <ToastPositioner {...swag} key={`container-${position}`}>\n            {toastList.map(({ content, props: toastProps }) => {\n              return (\n                <Toast\n                  {...toastProps}\n                  in={isToastActive(toastProps.toastId)}\n                  key={`toast-${toastProps.key}`}\n                  closeButton={\n                    toastProps.closeButton === true\n                      ? CloseButton\n                      : toastProps.closeButton\n                  }\n                >\n                  {content}\n                </Toast>\n              );\n            })}\n          </ToastPositioner>\n        );\n      })}\n    </div>\n  );\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  // @ts-ignore\n  ToastContainer.propTypes = {\n    // @ts-ignore\n    position: PropTypes.oneOf(objectValues(POSITION)),\n\n    // @ts-ignore\n    autoClose: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n\n    // @ts-ignore\n    closeButton: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.bool,\n      PropTypes.func\n    ]),\n    hideProgressBar: PropTypes.bool,\n    pauseOnHover: PropTypes.bool,\n    closeOnClick: PropTypes.bool,\n    newestOnTop: PropTypes.bool,\n    className: PropTypes.any, //oneOfType([PropTypes.func, PropTypes.string]),\n    style: PropTypes.object,\n    toastClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    bodyClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    progressClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    progressStyle: PropTypes.object,\n    transition: PropTypes.func,\n    rtl: PropTypes.bool,\n    draggable: PropTypes.bool,\n    draggablePercent: PropTypes.number,\n    pauseOnFocusLoss: PropTypes.bool,\n    enableMultiContainer: PropTypes.bool,\n    containerId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    role: PropTypes.string,\n    onClick: PropTypes.func\n  };\n}\n\nToastContainer.defaultProps = {\n  position: POSITION.TOP_RIGHT as ToastPosition,\n  transition: Bounce,\n  rtl: false,\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeButton: CloseButton,\n  pauseOnHover: true,\n  pauseOnFocusLoss: true,\n  closeOnClick: true,\n  newestOnTop: false,\n  draggable: true,\n  draggablePercent: 80,\n  role: 'alert'\n};\n","import * as React from 'react';\nimport { render } from 'react-dom';\n\nimport { POSITION, TYPE, canUseDom, isStr, isNum, isFn } from '../utils';\nimport { eventManager, OnChangeCallback, Event } from './eventManager';\nimport {\n  ToastContent,\n  ToastOptions,\n  ToastProps,\n  Id,\n  ToastContainerProps,\n  UpdateOptions,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps\n} from '../types';\nimport { ContainerInstance } from 'hooks';\nimport { ToastContainer } from '../components';\n\ninterface EnqueuedToast {\n  content: ToastContent;\n  options: NotValidatedToastProps;\n}\n\nlet containers = new Map<ContainerInstance | Id, ContainerInstance>();\nlet latestInstance: ContainerInstance | Id;\nlet containerDomNode: HTMLElement;\nlet containerConfig: ToastContainerProps;\nlet queue: EnqueuedToast[] = [];\nlet lazy = false;\n\n/**\n * Check whether any container is currently mounted in the DOM\n */\nfunction isAnyContainerMounted() {\n  return containers.size > 0;\n}\n\n/**\n * Get the container by id. Returns the last container declared when no id is given.\n */\nfunction getContainer(containerId?: Id) {\n  if (!isAnyContainerMounted()) return null;\n  return containers.get(!containerId ? latestInstance : containerId);\n}\n\n/**\n * Get the toast by id, given it's in the DOM, otherwise returns null\n */\nfunction getToast(toastId: Id, { containerId }: ToastOptions) {\n  const container = getContainer(containerId);\n  if (!container) return null;\n\n  return container.getToast(toastId);\n}\n\n/**\n * Generate a random toastId\n */\nfunction generateToastId() {\n  return (Math.random().toString(36) + Date.now().toString(36)).substr(2, 10);\n}\n\n/**\n * Generate a toastId or use the one provided\n */\nfunction getToastId(options?: ToastOptions) {\n  if (options && (isStr(options.toastId) || isNum(options.toastId))) {\n    return options.toastId;\n  }\n\n  return generateToastId();\n}\n\n/**\n * If the container is not mounted, the toast is enqueued and\n * the container lazy mounted\n */\nfunction dispatchToast(\n  content: ToastContent,\n  options: NotValidatedToastProps\n): Id {\n  if (isAnyContainerMounted()) {\n    eventManager.emit(Event.Show, content, options);\n  } else {\n    queue.push({ content, options });\n    if (lazy && canUseDom) {\n      lazy = false;\n      containerDomNode = document.createElement('div');\n      document.body.appendChild(containerDomNode);\n      render(<ToastContainer {...containerConfig} />, containerDomNode);\n    }\n  }\n\n  return options.toastId;\n}\n\n/**\n * Merge provided options with the defaults settings and generate the toastId\n */\nfunction mergeOptions(type: string, options?: ToastOptions) {\n  return {\n    ...options,\n    type: (options && options.type) || type,\n    toastId: getToastId(options)\n  } as NotValidatedToastProps;\n}\n\nconst toast = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.DEFAULT, options));\n\ntoast.success = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.SUCCESS, options));\n\ntoast.info = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.INFO, options));\n\ntoast.error = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.ERROR, options));\n\ntoast.warning = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.WARNING, options));\n\ntoast.dark = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(content, mergeOptions(TYPE.DARK, options));\n\n/**\n * Maybe I should remove warning in favor of warn, I don't know\n */\ntoast.warn = toast.warning;\n\n/**\n * Remove toast programmaticaly\n */\ntoast.dismiss = (id?: Id) =>\n  isAnyContainerMounted() && eventManager.emit(Event.Clear, id);\n\n/**\n * Clear waiting queue when limit is used\n */\ntoast.clearWaitingQueue = (params: ClearWaitingQueueParams = {}) =>\n  isAnyContainerMounted() && eventManager.emit(Event.ClearWaitingQueue, params);\n\n/**\n * return true if one container is displaying the toast\n */\ntoast.isActive = (id: Id) => {\n  let isToastActive = false;\n\n  containers.forEach(container => {\n    if (container.isToastActive && container.isToastActive(id)) {\n      isToastActive = true;\n    }\n  });\n\n  return isToastActive;\n};\n\ntoast.update = (toastId: Id, options: UpdateOptions = {}) => {\n  // if you call toast and toast.update directly nothing will be displayed\n  // this is why I defered the update\n  setTimeout(() => {\n    const toast = getToast(toastId, options as ToastOptions);\n    if (toast) {\n      const { props: oldOptions, content: oldContent } = toast;\n\n      const nextOptions = {\n        ...oldOptions,\n        ...options,\n        toastId: options.toastId || toastId,\n        updateId: generateToastId()\n      } as ToastProps & UpdateOptions;\n\n      if (nextOptions.toastId !== toastId) nextOptions.staleId = toastId;\n\n      const content =\n        typeof nextOptions.render !== 'undefined'\n          ? nextOptions.render\n          : oldContent;\n      delete nextOptions.render;\n\n      dispatchToast(content, nextOptions);\n    }\n  }, 0);\n};\n\n/**\n * Used for controlled progress bar.\n */\ntoast.done = (id: Id) => {\n  toast.update(id, {\n    progress: 1\n  });\n};\n\n/**\n * Track changes. The callback get the number of toast displayed\n *\n */\ntoast.onChange = (callback: OnChangeCallback) => {\n  if (isFn(callback)) {\n    eventManager.on(Event.Change, callback);\n  }\n  return () => {\n    isFn(callback) && eventManager.off(Event.Change, callback);\n  };\n};\n\n/**\n * Configure the ToastContainer when lazy mounted\n */\ntoast.configure = (config: ToastContainerProps = {}) => {\n  lazy = true;\n  containerConfig = config;\n};\n\ntoast.POSITION = POSITION;\ntoast.TYPE = TYPE;\n\n/**\n * Wait until the ToastContainer is mounted to dispatch the toast\n * and attach isActive method\n */\neventManager\n  .on(Event.DidMount, (containerInstance: ContainerInstance) => {\n    latestInstance = containerInstance.containerId || containerInstance;\n    containers.set(latestInstance, containerInstance);\n\n    queue.forEach(item => {\n      eventManager.emit(Event.Show, item.content, item.options);\n    });\n\n    queue = [];\n  })\n  .on(Event.WillUnmount, (containerInstance: ContainerInstance) => {\n    containers.delete(containerInstance.containerId || containerInstance);\n\n    if (containers.size === 0) {\n      eventManager\n        .off(Event.Show)\n        .off(Event.Clear)\n        .off(Event.ClearWaitingQueue);\n    }\n\n    if (canUseDom && containerDomNode) {\n      document.body.removeChild(containerDomNode);\n    }\n  });\n\nexport { toast };\n","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","// canvas-confetti v1.3.2 built on 2020-11-12T12:53:54.473Z\nvar module = {};\n\n// source content\n(function main(global, module, isWorker, workerSize) {\n  var canUseWorker = !!(\n    global.Worker &&\n    global.Blob &&\n    global.Promise &&\n    global.OffscreenCanvas &&\n    global.OffscreenCanvasRenderingContext2D &&\n    global.HTMLCanvasElement &&\n    global.HTMLCanvasElement.prototype.transferControlToOffscreen &&\n    global.URL &&\n    global.URL.createObjectURL);\n\n  function noop() {}\n\n  // create a promise if it exists, otherwise, just\n  // call the function directly\n  function promise(func) {\n    var ModulePromise = module.exports.Promise;\n    var Prom = ModulePromise !== void 0 ? ModulePromise : global.Promise;\n\n    if (typeof Prom === 'function') {\n      return new Prom(func);\n    }\n\n    func(noop, noop);\n\n    return null;\n  }\n\n  var raf = (function () {\n    var TIME = Math.floor(1000 / 60);\n    var frame, cancel;\n    var frames = {};\n    var lastFrameTime = 0;\n\n    if (typeof requestAnimationFrame === 'function' && typeof cancelAnimationFrame === 'function') {\n      frame = function (cb) {\n        var id = Math.random();\n\n        frames[id] = requestAnimationFrame(function onFrame(time) {\n          if (lastFrameTime === time || lastFrameTime + TIME - 1 < time) {\n            lastFrameTime = time;\n            delete frames[id];\n\n            cb();\n          } else {\n            frames[id] = requestAnimationFrame(onFrame);\n          }\n        });\n\n        return id;\n      };\n      cancel = function (id) {\n        if (frames[id]) {\n          cancelAnimationFrame(frames[id]);\n        }\n      };\n    } else {\n      frame = function (cb) {\n        return setTimeout(cb, TIME);\n      };\n      cancel = function (timer) {\n        return clearTimeout(timer);\n      };\n    }\n\n    return { frame: frame, cancel: cancel };\n  }());\n\n  var getWorker = (function () {\n    var worker;\n    var prom;\n    var resolves = {};\n\n    function decorate(worker) {\n      function execute(options, callback) {\n        worker.postMessage({ options: options || {}, callback: callback });\n      }\n      worker.init = function initWorker(canvas) {\n        var offscreen = canvas.transferControlToOffscreen();\n        worker.postMessage({ canvas: offscreen }, [offscreen]);\n      };\n\n      worker.fire = function fireWorker(options, size, done) {\n        if (prom) {\n          execute(options, null);\n          return prom;\n        }\n\n        var id = Math.random().toString(36).slice(2);\n\n        prom = promise(function (resolve) {\n          function workerDone(msg) {\n            if (msg.data.callback !== id) {\n              return;\n            }\n\n            delete resolves[id];\n            worker.removeEventListener('message', workerDone);\n\n            prom = null;\n            done();\n            resolve();\n          }\n\n          worker.addEventListener('message', workerDone);\n          execute(options, id);\n\n          resolves[id] = workerDone.bind(null, { data: { callback: id }});\n        });\n\n        return prom;\n      };\n\n      worker.reset = function resetWorker() {\n        worker.postMessage({ reset: true });\n\n        for (var id in resolves) {\n          resolves[id]();\n          delete resolves[id];\n        }\n      };\n    }\n\n    return function () {\n      if (worker) {\n        return worker;\n      }\n\n      if (!isWorker && canUseWorker) {\n        var code = [\n          'var CONFETTI, SIZE = {}, module = {};',\n          '(' + main.toString() + ')(this, module, true, SIZE);',\n          'onmessage = function(msg) {',\n          '  if (msg.data.options) {',\n          '    CONFETTI(msg.data.options).then(function () {',\n          '      if (msg.data.callback) {',\n          '        postMessage({ callback: msg.data.callback });',\n          '      }',\n          '    });',\n          '  } else if (msg.data.reset) {',\n          '    CONFETTI.reset();',\n          '  } else if (msg.data.resize) {',\n          '    SIZE.width = msg.data.resize.width;',\n          '    SIZE.height = msg.data.resize.height;',\n          '  } else if (msg.data.canvas) {',\n          '    SIZE.width = msg.data.canvas.width;',\n          '    SIZE.height = msg.data.canvas.height;',\n          '    CONFETTI = module.exports.create(msg.data.canvas);',\n          '  }',\n          '}',\n        ].join('\\n');\n        try {\n          worker = new Worker(URL.createObjectURL(new Blob([code])));\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          typeof console !== undefined && typeof console.warn === 'function' ? console.warn('🎊 Could not load worker', e) : null;\n\n          return null;\n        }\n\n        decorate(worker);\n      }\n\n      return worker;\n    };\n  })();\n\n  var defaults = {\n    particleCount: 50,\n    angle: 90,\n    spread: 45,\n    startVelocity: 45,\n    decay: 0.9,\n    gravity: 1,\n    ticks: 200,\n    x: 0.5,\n    y: 0.5,\n    shapes: ['square', 'circle'],\n    zIndex: 100,\n    colors: [\n      '#26ccff',\n      '#a25afd',\n      '#ff5e7e',\n      '#88ff5a',\n      '#fcff42',\n      '#ffa62d',\n      '#ff36ff'\n    ],\n    // probably should be true, but back-compat\n    disableForReducedMotion: false,\n    scalar: 1\n  };\n\n  function convert(val, transform) {\n    return transform ? transform(val) : val;\n  }\n\n  function isOk(val) {\n    return !(val === null || val === undefined);\n  }\n\n  function prop(options, name, transform) {\n    return convert(\n      options && isOk(options[name]) ? options[name] : defaults[name],\n      transform\n    );\n  }\n\n  function onlyPositiveInt(number){\n    return number < 0 ? 0 : Math.floor(number);\n  }\n\n  function randomInt(min, max) {\n    // [min, max)\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  function toDecimal(str) {\n    return parseInt(str, 16);\n  }\n\n  function hexToRgb(str) {\n    var val = String(str).replace(/[^0-9a-f]/gi, '');\n\n    if (val.length < 6) {\n        val = val[0]+val[0]+val[1]+val[1]+val[2]+val[2];\n    }\n\n    return {\n      r: toDecimal(val.substring(0,2)),\n      g: toDecimal(val.substring(2,4)),\n      b: toDecimal(val.substring(4,6))\n    };\n  }\n\n  function getOrigin(options) {\n    var origin = prop(options, 'origin', Object);\n    origin.x = prop(origin, 'x', Number);\n    origin.y = prop(origin, 'y', Number);\n\n    return origin;\n  }\n\n  function setCanvasWindowSize(canvas) {\n    canvas.width = document.documentElement.clientWidth;\n    canvas.height = document.documentElement.clientHeight;\n  }\n\n  function setCanvasRectSize(canvas) {\n    var rect = canvas.getBoundingClientRect();\n    canvas.width = rect.width;\n    canvas.height = rect.height;\n  }\n\n  function getCanvas(zIndex) {\n    var canvas = document.createElement('canvas');\n\n    canvas.style.position = 'fixed';\n    canvas.style.top = '0px';\n    canvas.style.left = '0px';\n    canvas.style.pointerEvents = 'none';\n    canvas.style.zIndex = zIndex;\n\n    return canvas;\n  }\n\n  function ellipse(context, x, y, radiusX, radiusY, rotation, startAngle, endAngle, antiClockwise) {\n    context.save();\n    context.translate(x, y);\n    context.rotate(rotation);\n    context.scale(radiusX, radiusY);\n    context.arc(0, 0, 1, startAngle, endAngle, antiClockwise);\n    context.restore();\n  }\n\n  function randomPhysics(opts) {\n    var radAngle = opts.angle * (Math.PI / 180);\n    var radSpread = opts.spread * (Math.PI / 180);\n\n    return {\n      x: opts.x,\n      y: opts.y,\n      wobble: Math.random() * 10,\n      velocity: (opts.startVelocity * 0.5) + (Math.random() * opts.startVelocity),\n      angle2D: -radAngle + ((0.5 * radSpread) - (Math.random() * radSpread)),\n      tiltAngle: Math.random() * Math.PI,\n      color: hexToRgb(opts.color),\n      shape: opts.shape,\n      tick: 0,\n      totalTicks: opts.ticks,\n      decay: opts.decay,\n      random: Math.random() + 5,\n      tiltSin: 0,\n      tiltCos: 0,\n      wobbleX: 0,\n      wobbleY: 0,\n      gravity: opts.gravity * 3,\n      ovalScalar: 0.6,\n      scalar: opts.scalar\n    };\n  }\n\n  function updateFetti(context, fetti) {\n    fetti.x += Math.cos(fetti.angle2D) * fetti.velocity;\n    fetti.y += Math.sin(fetti.angle2D) * fetti.velocity + fetti.gravity;\n    fetti.wobble += 0.1;\n    fetti.velocity *= fetti.decay;\n    fetti.tiltAngle += 0.1;\n    fetti.tiltSin = Math.sin(fetti.tiltAngle);\n    fetti.tiltCos = Math.cos(fetti.tiltAngle);\n    fetti.random = Math.random() + 5;\n    fetti.wobbleX = fetti.x + ((10 * fetti.scalar) * Math.cos(fetti.wobble));\n    fetti.wobbleY = fetti.y + ((10 * fetti.scalar) * Math.sin(fetti.wobble));\n\n    var progress = (fetti.tick++) / fetti.totalTicks;\n\n    var x1 = fetti.x + (fetti.random * fetti.tiltCos);\n    var y1 = fetti.y + (fetti.random * fetti.tiltSin);\n    var x2 = fetti.wobbleX + (fetti.random * fetti.tiltCos);\n    var y2 = fetti.wobbleY + (fetti.random * fetti.tiltSin);\n\n    context.fillStyle = 'rgba(' + fetti.color.r + ', ' + fetti.color.g + ', ' + fetti.color.b + ', ' + (1 - progress) + ')';\n    context.beginPath();\n\n    if (fetti.shape === 'circle') {\n      context.ellipse ?\n        context.ellipse(fetti.x, fetti.y, Math.abs(x2 - x1) * fetti.ovalScalar, Math.abs(y2 - y1) * fetti.ovalScalar, Math.PI / 10 * fetti.wobble, 0, 2 * Math.PI) :\n        ellipse(context, fetti.x, fetti.y, Math.abs(x2 - x1) * fetti.ovalScalar, Math.abs(y2 - y1) * fetti.ovalScalar, Math.PI / 10 * fetti.wobble, 0, 2 * Math.PI);\n    } else {\n      context.moveTo(Math.floor(fetti.x), Math.floor(fetti.y));\n      context.lineTo(Math.floor(fetti.wobbleX), Math.floor(y1));\n      context.lineTo(Math.floor(x2), Math.floor(y2));\n      context.lineTo(Math.floor(x1), Math.floor(fetti.wobbleY));\n    }\n\n    context.closePath();\n    context.fill();\n\n    return fetti.tick < fetti.totalTicks;\n  }\n\n  function animate(canvas, fettis, resizer, size, done) {\n    var animatingFettis = fettis.slice();\n    var context = canvas.getContext('2d');\n    var animationFrame;\n    var destroy;\n\n    var prom = promise(function (resolve) {\n      function onDone() {\n        animationFrame = destroy = null;\n\n        context.clearRect(0, 0, size.width, size.height);\n\n        done();\n        resolve();\n      }\n\n      function update() {\n        if (isWorker && !(size.width === workerSize.width && size.height === workerSize.height)) {\n          size.width = canvas.width = workerSize.width;\n          size.height = canvas.height = workerSize.height;\n        }\n\n        if (!size.width && !size.height) {\n          resizer(canvas);\n          size.width = canvas.width;\n          size.height = canvas.height;\n        }\n\n        context.clearRect(0, 0, size.width, size.height);\n\n        animatingFettis = animatingFettis.filter(function (fetti) {\n          return updateFetti(context, fetti);\n        });\n\n        if (animatingFettis.length) {\n          animationFrame = raf.frame(update);\n        } else {\n          onDone();\n        }\n      }\n\n      animationFrame = raf.frame(update);\n      destroy = onDone;\n    });\n\n    return {\n      addFettis: function (fettis) {\n        animatingFettis = animatingFettis.concat(fettis);\n\n        return prom;\n      },\n      canvas: canvas,\n      promise: prom,\n      reset: function () {\n        if (animationFrame) {\n          raf.cancel(animationFrame);\n        }\n\n        if (destroy) {\n          destroy();\n        }\n      }\n    };\n  }\n\n  function confettiCannon(canvas, globalOpts) {\n    var isLibCanvas = !canvas;\n    var allowResize = !!prop(globalOpts || {}, 'resize');\n    var globalDisableForReducedMotion = prop(globalOpts, 'disableForReducedMotion', Boolean);\n    var shouldUseWorker = canUseWorker && !!prop(globalOpts || {}, 'useWorker');\n    var worker = shouldUseWorker ? getWorker() : null;\n    var resizer = isLibCanvas ? setCanvasWindowSize : setCanvasRectSize;\n    var initialized = (canvas && worker) ? !!canvas.__confetti_initialized : false;\n    var preferLessMotion = typeof matchMedia === 'function' && matchMedia('(prefers-reduced-motion)').matches;\n    var animationObj;\n\n    function fireLocal(options, size, done) {\n      var particleCount = prop(options, 'particleCount', onlyPositiveInt);\n      var angle = prop(options, 'angle', Number);\n      var spread = prop(options, 'spread', Number);\n      var startVelocity = prop(options, 'startVelocity', Number);\n      var decay = prop(options, 'decay', Number);\n      var gravity = prop(options, 'gravity', Number);\n      var colors = prop(options, 'colors');\n      var ticks = prop(options, 'ticks', Number);\n      var shapes = prop(options, 'shapes');\n      var scalar = prop(options, 'scalar');\n      var origin = getOrigin(options);\n\n      var temp = particleCount;\n      var fettis = [];\n\n      var startX = canvas.width * origin.x;\n      var startY = canvas.height * origin.y;\n\n      while (temp--) {\n        fettis.push(\n          randomPhysics({\n            x: startX,\n            y: startY,\n            angle: angle,\n            spread: spread,\n            startVelocity: startVelocity,\n            color: colors[temp % colors.length],\n            shape: shapes[randomInt(0, shapes.length)],\n            ticks: ticks,\n            decay: decay,\n            gravity: gravity,\n            scalar: scalar\n          })\n        );\n      }\n\n      // if we have a previous canvas already animating,\n      // add to it\n      if (animationObj) {\n        return animationObj.addFettis(fettis);\n      }\n\n      animationObj = animate(canvas, fettis, resizer, size , done);\n\n      return animationObj.promise;\n    }\n\n    function fire(options) {\n      var disableForReducedMotion = globalDisableForReducedMotion || prop(options, 'disableForReducedMotion', Boolean);\n      var zIndex = prop(options, 'zIndex', Number);\n\n      if (disableForReducedMotion && preferLessMotion) {\n        return promise(function (resolve) {\n          resolve();\n        });\n      }\n\n      if (isLibCanvas && animationObj) {\n        // use existing canvas from in-progress animation\n        canvas = animationObj.canvas;\n      } else if (isLibCanvas && !canvas) {\n        // create and initialize a new canvas\n        canvas = getCanvas(zIndex);\n        document.body.appendChild(canvas);\n      }\n\n      if (allowResize && !initialized) {\n        // initialize the size of a user-supplied canvas\n        resizer(canvas);\n      }\n\n      var size = {\n        width: canvas.width,\n        height: canvas.height\n      };\n\n      if (worker && !initialized) {\n        worker.init(canvas);\n      }\n\n      initialized = true;\n\n      if (worker) {\n        canvas.__confetti_initialized = true;\n      }\n\n      function onResize() {\n        if (worker) {\n          // TODO this really shouldn't be immediate, because it is expensive\n          var obj = {\n            getBoundingClientRect: function () {\n              if (!isLibCanvas) {\n                return canvas.getBoundingClientRect();\n              }\n            }\n          };\n\n          resizer(obj);\n\n          worker.postMessage({\n            resize: {\n              width: obj.width,\n              height: obj.height\n            }\n          });\n          return;\n        }\n\n        // don't actually query the size here, since this\n        // can execute frequently and rapidly\n        size.width = size.height = null;\n      }\n\n      function done() {\n        animationObj = null;\n\n        if (allowResize) {\n          global.removeEventListener('resize', onResize);\n        }\n\n        if (isLibCanvas && canvas) {\n          document.body.removeChild(canvas);\n          canvas = null;\n          initialized = false;\n        }\n      }\n\n      if (allowResize) {\n        global.addEventListener('resize', onResize, false);\n      }\n\n      if (worker) {\n        return worker.fire(options, size, done);\n      }\n\n      return fireLocal(options, size, done);\n    }\n\n    fire.reset = function () {\n      if (worker) {\n        worker.reset();\n      }\n\n      if (animationObj) {\n        animationObj.reset();\n      }\n    };\n\n    return fire;\n  }\n\n  module.exports = confettiCannon(null, { useWorker: true, resize: true });\n  module.exports.create = confettiCannon;\n}((function () {\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  return this;\n})(), module, false));\n\n// end source content\n\nexport default module.exports;\nexport var create = module.exports.create;\n","export var ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));","// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nexport function isTouchEvent(e) {\n  return !!e.targetTouches;\n}","import { isTouchEvent } from './predicates';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\nexport function getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}","export var supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(incoming, context) {\n    var _this = this;\n\n    _classCallCheck(this, OptionsReader);\n\n    this.enableTouchEvents = true;\n    this.enableMouseEvents = false;\n    this.enableKeyboardEvents = false;\n    this.ignoreContextMenu = false;\n    this.enableHoverOutsideTarget = false;\n    this.touchSlop = 0;\n    this.scrollAngleRanges = undefined;\n    this.context = context;\n    this.delayTouchStart = incoming.delayTouchStart || incoming.delay || 0;\n    this.delayMouseStart = incoming.delayMouseStart || incoming.delay || 0;\n    Object.keys(incoming).forEach(function (key) {\n      if (incoming[key] != null) {\n        ;\n        _this[key] = incoming[key];\n      }\n    });\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","var _eventNames;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { ListenerType } from './interfaces';\nimport { eventShouldStartDrag, eventShouldEndDrag, isTouchEvent } from './utils/predicates';\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets';\nimport { distance, inAngleRanges } from './utils/math';\nimport { supportsPassive } from './utils/supportsPassive';\nimport { OptionsReader } from './OptionsReader';\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\nexport var TouchBackendImpl = /*#__PURE__*/function () {\n  function TouchBackendImpl(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackendImpl);\n\n    this.getSourceClientOffset = function (sourceId) {\n      var element = _this.sourceNodes.get(sourceId);\n\n      return element && getNodeClientOffset(element);\n    };\n\n    this.handleTopMoveStartCapture = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    };\n\n    this.handleMoveStart = function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    };\n\n    this.handleTopMoveStart = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    };\n\n    this.handleTopMoveStartDelay = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    };\n\n    this.handleTopMoveCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleMove = function (_evt, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    };\n\n    this.handleTopMove = function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes.get(_this.monitor.getSourceId());\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      if (e.cancelable) e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes.get(key);\n      }).filter(function (e) {\n        return !!e;\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        return _this._getDropTargetId(node);\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          var targetNode = _this.targetNodes.get(targetId);\n\n          if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    };\n    /**\n     *\n     * visible for testing\n     */\n\n\n    this._getDropTargetId = function (node) {\n      var keys = _this.targetNodes.keys();\n\n      var next = keys.next();\n\n      while (next.done === false) {\n        var targetId = next.value;\n\n        if (node === _this.targetNodes.get(targetId)) {\n          return targetId;\n        } else {\n          next = keys.next();\n        }\n      }\n\n      return undefined;\n    };\n\n    this.handleTopMoveEndCapture = function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      if (e.cancelable) e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    };\n\n    this.handleCancelOnEscape = function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    };\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = new Map();\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.targetNodes = new Map();\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(TouchBackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragOverTargetI;\n\n      return {\n        sourceNodes: this.sourceNodes.size,\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        targetNodes: this.targetNodes.size,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      if (!this.window) {\n        return;\n      }\n\n      invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackendImpl.isSetUp = true;\n      this.addEventListener(this.window, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(this.window, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(this.window, 'move', this.handleTopMove);\n      this.addEventListener(this.window, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(this.window, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(this.window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(this.window, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (!this.window) {\n        return;\n      }\n\n      TouchBackendImpl.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(this.window, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(this.window, 'start', this.handleTopMoveStart);\n      this.removeEventListener(this.window, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(this.window, 'move', this.handleTopMove);\n      this.removeEventListener(this.window, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(this.window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(this.window, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes.set(sourceId, node);\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        _this2.sourceNodes.delete(sourceId);\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this3.sourcePreviewNodes.delete(sourceId);\n\n        _this3.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      if (!this.document) {\n        return function () {\n          /* noop */\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes.set(targetId, node);\n      return function () {\n        if (_this4.document) {\n          _this4.targetNodes.delete(targetId);\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return TouchBackendImpl;\n}();","export function distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nexport function inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}","import { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\nimport { TouchTransition, MouseTransition } from 'dnd-multi-backend';\nexport default {\n  backends: [{\n    backend: HTML5Backend,\n    transition: MouseTransition\n  }, {\n    backend: TouchBackend,\n    options: {\n      enableMouseEvents: true\n    },\n    preview: true,\n    transition: TouchTransition\n  }]\n};","import { TouchBackendImpl } from './TouchBackendImpl';\nexport * from './TouchBackendImpl';\nexport var TouchBackend = function createBackend(manager) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackendImpl(manager, context, options);\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { DndProvider as ReactDndProvider } from 'react-dnd';\nimport MultiBackend from 'dnd-multi-backend';\nexport var PreviewPortalContext = React.createContext(null);\nexport var DndProvider = function DndProvider(props) {\n  var previewPortal = useRef();\n  return /*#__PURE__*/React.createElement(PreviewPortalContext.Provider, {\n    value: previewPortal.current\n  }, /*#__PURE__*/React.createElement(ReactDndProvider, _extends({\n    backend: MultiBackend\n  }, props)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: previewPortal\n  }));\n};\nDndProvider.propTypes = {\n  manager: PropTypes.any,\n  context: PropTypes.any,\n  options: PropTypes.any,\n  debugMode: PropTypes.bool\n};","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useState, useEffect, useContext } from 'react';\nimport { DndContext } from 'react-dnd';\n\nvar useObservePreviews = function useObservePreviews() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      enabled = _useState2[0],\n      setEnabled = _useState2[1];\n\n  var dndContext = useContext(DndContext);\n  useEffect(function () {\n    var backend = dndContext.dragDropManager.getBackend();\n    var observer = {\n      backendChanged: function backendChanged(cbackend) {\n        setEnabled(cbackend.previewEnabled());\n      }\n    };\n    setEnabled(backend.previewEnabled());\n    backend.previews.register(observer);\n    return function () {\n      backend.previews.unregister(observer);\n    };\n  }, [dndContext, setEnabled]);\n  return enabled;\n};\n\nexport { useObservePreviews };","import React, { useContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport DnDPreview, { Context as PreviewContext } from 'react-dnd-preview';\nimport { useObservePreviews } from '../common';\nimport { PreviewPortalContext } from './DndProvider';\n\nvar Preview = function Preview(props) {\n  var enabled = useObservePreviews();\n  var portal = useContext(PreviewPortalContext);\n\n  if (!enabled) {\n    return null;\n  }\n\n  var result = /*#__PURE__*/React.createElement(DnDPreview, props);\n\n  if (portal) {\n    return /*#__PURE__*/ReactDOM.createPortal(result, portal);\n  }\n\n  return result;\n};\n\nPreview.Context = PreviewContext;\nPreview.propTypes = DnDPreview.propTypes;\nexport { Preview, PreviewContext };","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}"],"sourceRoot":""}