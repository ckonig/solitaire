"use strict";(self.webpackChunksolitaire_react=self.webpackChunksolitaire_react||[]).push([[327],{7327:function(n,e,t){t.r(e),t.d(e,{default:function(){return Mn}});var i=t(8683),o=t(885),r={0:{id:0,name:"Player 1",inputMethod:"gamepad",inputLayout:0},1:{id:1,name:"Player 2",inputMethod:"keyboard",inputLayout:0}},s=t(2791),c=s.createContext({consented:!1,setConsented:function setConsented(){}}),a=c.Provider,u=function useCookieContext(){return s.useContext(c)},l=t(2982),d=t(5671),f=t(3144),h=t(3680),g=t(9093),p=t(7909),y=function(){function Deck(){(0,d.Z)(this,Deck),this.cards=void 0;var n=Object.keys(p.Z);this.cards=g.KF.map((function(e){return(0,l.Z)(n.map((function(n){return new h.Z(e,p.Z[n],!0)})))})).flat().reverse()}return(0,f.Z)(Deck,[{key:"shuffle",value:function shuffle(){return this.shuffleArray(this.cards),this}},{key:"shuffleArray",value:function shuffleArray(n){for(var e=n.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),i=[n[t],n[e]];n[e]=i[0],n[t]=i[1]}}},{key:"copy",value:function copy(){var n=new Deck;return n.cards=h.Z.copyAll(this.cards),n}}]),Deck}(),v=t(3890),m=t(6651),x=t(801),Z=function apply(n,e,t){!e.ratingSettings.hintPenalty&&n.hintPenalty&&(e.suggestionMode=x.Z.NONE),e.ratingSettings=(0,i.Z)({},n),e.ratingPreset=t},k=(0,f.Z)((function RatingPresets(){(0,d.Z)(this,RatingPresets)}));k.CHILL={timedMode:!1,missPenalty:!1,undoPenalty:!1,hintPenalty:!1},k.REGULAR={timedMode:!0,missPenalty:!1,undoPenalty:!0,hintPenalty:!1},k.COMPETITIVE={timedMode:!0,missPenalty:!0,undoPenalty:!0,hintPenalty:!0},k.ALL=[{id:0,icon:m.ffF,label:"Chill",settings:(0,i.Z)({},k.CHILL),apply:function apply(n){return Z(k.CHILL,n,0)}},{id:1,icon:m.j3j,label:"Regular",settings:(0,i.Z)({},k.REGULAR),apply:function apply(n){return Z(k.REGULAR,n,1)}},{id:2,icon:m.lEW,label:"Competitive",settings:(0,i.Z)({},k.COMPETITIVE),apply:function apply(n){return Z(k.COMPETITIVE,n,2)}}],k.matchPreset=function(n){var e=k.ALL.filter((function(e){return k.equals(e.settings,n)}));return e.length>0?e[0].id:-1},k.equals=function(n,e){return n.timedMode===e.timedMode&&n.missPenalty===e.missPenalty&&n.undoPenalty===e.undoPenalty&&n.hintPenalty===e.hintPenalty};var j=function TouchDetector(){try{var n=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||"undefined"!==typeof window.DocumentTouch&&document instanceof window.DocumentTouch||function mq(n){return window.matchMedia(n).matches}(["(",n.join("touch-enabled),("),"heartz",")"].join(""))}catch(e){return console.error("(Touch detect failed)",e),!1}},w={ratingSettings:(0,i.Z)({},k.REGULAR),difficultySettings:1,ratingPreset:1,quickDeal:j(),autoResolve:!0,autoUncover:!1,speed:!1,entropySettings:{baseEntropy:j()?1:2,interactionEntropy:j()?1:2},featureSwitches:{undo:!0,confetti:!0},suggestionMode:x.Z.REGULAR,players:r},C=s.createContext({state:{difficultySettings:0,ratingPreset:0,ratingSettings:{},entropySettings:{},quickDeal:!1,autoResolve:!0,autoUncover:!1,speed:!1,suggestionMode:x.Z.REGULAR,featureSwitches:{undo:!0,confetti:!0},players:r},setState:function setState(){}}),S=C.Provider,b=function useStartScreenContext(){return s.useContext(C)},N=t(3718),M=[{id:0,settings:{drawMode:"single",recyclingMode:"infinite"},icon:m.jVq,lines:["Turn 1 card","No Limit"]},{id:1,settings:{drawMode:"single",recyclingMode:"3-pass"},icon:m.xHQ,lines:["Turn 1 card","Three passes"]},{id:2,settings:{drawMode:"single",recyclingMode:"1-pass"},icon:m.IH2,lines:["Turn 1 card","Only a single pass"]},{id:3,settings:{drawMode:"triple",recyclingMode:"infinite"},icon:m.jbN,lines:["Turn 3 cards","No limit"]},{id:4,settings:{drawMode:"triple",recyclingMode:"3-pass"},icon:m.Lxh,lines:["Turn 3 cards ","Three passes"]},{id:5,settings:{drawMode:"triple",recyclingMode:"1-pass"},icon:m.smX,lines:["Turn 3 cards ","Only a single pass"]}],R=t(8133),E=t(1887),L=[{id:0,icon:m.swz,inputMethod:"mouse",inputLayout:0,lines:["Mouse or","Touchpad"]},{id:1,icon:m.H$X,inputMethod:"gamepad",inputLayout:0,lines:["Gamepad 1"]},{id:2,icon:m.H$X,inputMethod:"gamepad",inputLayout:1,lines:["Gamepad 2"]},{id:3,icon:m.ese,inputMethod:"keyboard",inputLayout:0,lines:["Keyboard","WASD"]},{id:4,icon:m.ese,inputMethod:"keyboard",inputLayout:1,lines:["Keyboard","ARROWS"]},{id:5,icon:m.ese,inputMethod:"keyboard",inputLayout:2,lines:["Keyboard","NUMPAD"]}],P=t(184),D=function CloseButton(){var n=(0,R.Z)().closeScreen;return(0,P.jsx)("div",{className:"closer",children:(0,P.jsx)("button",{onClick:n,children:"\ud83d\uddd9"})})},A=(0,f.Z)((function StorageManager(){var n=this;(0,d.Z)(this,StorageManager),this.hasConsent=function(){var n=localStorage.getItem("consent");return n&&!!parseInt(n)},this.giveConsent=function(){return{prompt:"Allow this game to store settings, so your changes will stay. No data leaves your computer.",confirm:function confirm(){return localStorage.setItem("consent","1"),!0}}},this.getDialog=function(){return n.hasConsent()?n.revokeConsent():n.giveConsent()},this.revokeConsent=function(){return{prompt:"Delete all local stored data? All settings will be lost.",confirm:function confirm(){return localStorage.clear(),!1}}},this.store=function(e){n.hasConsent()&&localStorage.setItem("state",JSON.stringify(e))},this.getPreviousState=function(){if(n.hasConsent()){var e=localStorage.getItem("state");return null!=e?JSON.parse(e):null}return null}}));A.instance=void 0,A.getInstance=function(){return A.instance||(A.instance=new A),A.instance};var F=function getScreenElementClassName(n,e){var t=n;return e.hasFocus&&(t+=" focused"),e.disabled&&(t+=" disabled"),t},U=function useFocusEffect(n,e){s.useEffect((function(){n.hasFocus&&e&&e.current&&e.current!==document.activeElement&&e.current.focus()}),[n.hasFocus,e])},T=function RenderCookieBanner(n){var e=(0,R.Z)().navigation,t=function hasFocus(n,t){return"screen"===e.focus&&e.screen.x===t&&e.screen.y===n},i=s.useRef(null);U({hasFocus:t(n.y,n.x)},i);var o="cookiebanner";return t(n.y,n.x)&&(o+=" focused"),n.consented?null:(0,P.jsxs)("button",{ref:i,className:o,onClick:function onClick(){var e=(new A).giveConsent();!n.consented&&confirm(e.prompt)&&(e.confirm(),n.setConsented(!0))},children:[(0,P.jsx)("div",{className:"icon",children:"\ud83c\udf6a"}),(0,P.jsxs)("div",{className:"message",children:[(0,P.jsx)("b",{children:"Changes on this page will be lost after each game"}),", until you allow this app to store data on your machine. Click here to give consent."]})]})},O=function CookieBanner(n){var e=u(),t=e.consented,i=e.setConsented;return"undefined"===typeof n.x||"undefined"===typeof n.y?null:(0,P.jsx)(T,{x:n.x,y:n.y,consented:t,setConsented:i})},B=t(517),I=t(8391),H=function Row(n){if("undefined"==typeof n.y||"undefined"==typeof n.navigator)return null;var e=function addElement(e,t){if(!e)return null;var i;n.skip||function assign(e){e[n.y||0].buttons[t||0]={x:t,y:n.y}}((null===(i=n.navigator)||void 0===i?void 0:i.rows)||[]);return s.cloneElement(e,{key:t,x:t,y:n.y})};return n.children?(0,P.jsx)("div",{className:"row",children:Array.isArray(n.children)?n.children.map(e):e(n.children,0)}):null},W=t(9847),G=t(1453),q=function ScreenNavWrapper(n){var e=n.navigator,t=(0,R.Z)(),o=t.navigation,r=t.setNavigation,s=function assignState(n){"screen"===o.focus&&r((0,i.Z)((0,i.Z)({},o),{},{screen:n}))},c={onCancel:function onCancel(){return r((0,i.Z)((0,i.Z)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:(0,i.Z)({},o.menu)}))},onUp:function onUp(){return s(e.moveUp(o.screen.x,o.screen.y))},onDown:function onDown(){return s(e.moveDown(o.screen.x,o.screen.y))},onLeft:function onLeft(){return s(e.moveLeft(o.screen.x,o.screen.y))},onRight:function onRight(){return s(e.moveRight(o.screen.x,o.screen.y))},onAction:function onAction(){return e.action(o.screen)}};return"screen"===o.focus?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(W.Z,(0,i.Z)({layout:G.dR},c)),(0,P.jsx)(B.Z,(0,i.Z)({layout:I.Z},c))]}):null},z=t(9340),K=t(8347),X=function(n){(0,z.Z)(ScreenNavigator,n);var e=(0,K.Z)(ScreenNavigator);function ScreenNavigator(){var n;(0,d.Z)(this,ScreenNavigator);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).moveUp=function(e,t){var i=n.getRows();return 0===t?n.goToRow({x:e,y:i.length-1}):n.goToRow({x:e,y:t-1})},n.moveDown=function(e,t){return t===n.getRows().length-1?n.goToRow({x:e,y:0}):n.goToRow({x:e,y:t+1})},n.moveLeft=function(e,t){var i=n.getRow(t);return 0===e?{x:i.buttons.length-1,y:t}:{x:e-1,y:t}},n.moveRight=function(e,t){return e===n.getRow(t).buttons.length-1?{x:0,y:t}:{x:e+1,y:t}},n.action=function(){var n=document.activeElement;n&&n.click()},n}return(0,f.Z)(ScreenNavigator)}(t(1952).Z),V=function ScreenContent(n){var e=new X,t=-1,i=-1;return(0,P.jsxs)("div",{className:"content",children:[n.children.map((function(n){return function addRow(n){return i++,n.props.skip||(t++,e.rows[t]={buttons:[]}),s.cloneElement(n,{key:i,x:0,y:t,navigator:e})}(n)})),(0,P.jsx)(q,{navigator:e,screen:"rating"})]})},Y=t(1523),Q=t.n(Y),_=function ScreenMainButton(n){var e=s.useRef(null),t=(0,R.Z)(),o=t.navigation,r=t.setNavigation,c="screen"===o.focus&&o.screen.x===n.x&&o.screen.y===n.y;s.useEffect((function(){c&&e&&e.current&&e.current!==document.activeElement&&e.current.focus()}),[e,c]),s.useEffect((function(){n.autoFocus&&!c&&e&&e.current&&e.current!==document.activeElement&&-1===o.screen.x&&-1===o.screen.y&&e.current.focus()}),[e]);if("undefined"===typeof n.x||"undefined"===typeof n.y)return null;var a={x:n.x,y:n.y};return(0,P.jsxs)("button",{onFocus:function focus(){c||r((0,i.Z)((0,i.Z)({},o),{},{screen:{x:n.x||0,y:n.y||0}}))},ref:e,disabled:n.disabled,className:n.className(a),onClick:function click(){n.onClick(),r((0,i.Z)((0,i.Z)({},o),{},{screen:{x:n.x||0,y:n.y||0}}))},children:[(0,P.jsx)(Q(),{path:n.icon,size:"1em"}),n.lines.map((function(n,e){return(0,P.jsx)("div",{children:n},e)}))]},n.id)},$=function Controls(n){var e=b(),t=e.state,r=e.setState,c=(0,R.Z)().navigation,a=s.useState([{found:!1,buttonPressed:!1},{found:!1,buttonPressed:!1}]),d=(0,o.Z)(a,2),f=d[0],h=d[1],g=function press(n){f[n].found=!0,f[n].buttonPressed=!0,h((0,i.Z)({},f)),console.log(f)},p=u().consented,y=t.players[n.player];if(!y)return null;var v=function playerHasSettings(n,e){return t.players[e].inputLayout===L[n].inputLayout&&t.players[e].inputMethod===L[n].inputMethod},m=function isActive(e){return v(e,n.player)},x=function applyPreset(e){var o=(0,i.Z)({},t.players);o[n.player].inputMethod=L[e].inputMethod,o[n.player].inputLayout=L[e].inputLayout,r((0,i.Z)((0,i.Z)({},t),{},{players:o}))},Z=function getButtonClass(n,e){var t=e.x+""+e.y+" "+c.screen.x+c.screen.y+" ";return t+=c.screen.x===e.x&&c.screen.y===e.y?" focused":"",t+=m(n)?" active-0":" inactive-0",t+=k(n)?" disabled":""},k=function blockedByOtherPlayers(e){var t=[0,1].filter((function(e){return e!==n.player}));return v(e,t[0])},j=function getLines(n){return"gamepad"===n.inputMethod?[].concat((0,l.Z)(n.lines),[f[n.inputLayout].found||f[n.inputLayout].buttonPressed?"Connected":"Not Found"]):n.lines};return(0,P.jsxs)("div",{className:"controls startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:y.name}),(0,P.jsxs)(V,{id:"settings",children:[(0,P.jsx)(H,{skip:p,children:(0,P.jsx)(O,{})}),(0,P.jsx)(H,{children:L.slice(0,3).map((function(n){return(0,P.jsx)(_,{icon:n.icon,id:n.id,disabled:k(n.id),autoFocus:m(n.id),className:function className(e){return Z(n.id,e)},onClick:function onClick(){return x(n.id)},lines:j(n)},n.id)}))}),(0,P.jsx)(H,{children:L.slice(3).map((function(n){return(0,P.jsx)(_,{icon:n.icon,id:n.id,disabled:k(n.id),autoFocus:m(n.id),className:function className(e){return Z(n.id,e)},onClick:function onClick(){return x(n.id)},lines:n.lines},n.id)}))}),(0,P.jsxs)(H,{skip:!0,children:[(0,P.jsxs)("div",{className:"togglecontainer",children:[(0,P.jsx)("div",{className:"title",children:"@todo"}),(0,P.jsx)("div",{className:"toggle"}),(0,P.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]}),(0,P.jsxs)("div",{className:"togglecontainer",children:[(0,P.jsx)("div",{className:"title",children:"@todo"}),(0,P.jsx)("div",{className:"toggle"}),(0,P.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]})]})]}),(0,P.jsx)(B.Z,{layout:I.Z,gamepadIndex:0,onUp:function onUp(){return g(0)},onDown:function onDown(){return g(0)},onRight:function onRight(){return g(0)},onLeft:function onLeft(){return g(0)},onAction:function onAction(){return g(0)}}),(0,P.jsx)(B.Z,{layout:I.Z,gamepadIndex:1,onUp:function onUp(){return g(1)},onDown:function onDown(){return g(1)},onRight:function onRight(){return g(1)},onLeft:function onLeft(){return g(1)},onAction:function onAction(){return g(1)}})]})},J=function Difficulty(){var n=b(),e=n.state,t=n.setState,o=(0,R.Z)().navigation,r=function isActive(n){return e.difficultySettings===n},s=function renderButton(n){return(0,P.jsx)(_,{icon:n.icon,id:n.id,autoFocus:r(n.id),className:function className(e){return function getButtonClass(n,e){var t=o.screen.x===e.x&&o.screen.y===e.y,i=r(n)?"active active-".concat(n):"inactive-".concat(n);return i+(t?" focused":"")}(n.id,e)},onClick:function onClick(){return t((0,i.Z)((0,i.Z)({},e),{},{difficultySettings:n.id}))},lines:n.lines},n.id)},c=u().consented;return(0,P.jsxs)("div",{className:"difficulty startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:"Difficulty"}),(0,P.jsxs)(V,{id:"difficulty",children:[(0,P.jsx)(H,{skip:c,children:(0,P.jsx)(O,{})}),(0,P.jsx)(H,{children:M.slice(0,3).map(s)}),(0,P.jsx)(H,{children:M.slice(3).map(s)}),(0,P.jsxs)(H,{skip:!0,children:[(0,P.jsxs)("div",{className:"togglecontainer",children:[(0,P.jsx)("div",{className:"title",children:"Draw Mode"}),(0,P.jsx)("div",{className:"toggle"}),(0,P.jsxs)("div",{className:"description",children:["triple"===M[e.difficultySettings].settings.drawMode?"Turn 3 cards at once from the Stock to the Waste.":null,"single"===M[e.difficultySettings].settings.drawMode?"Turn 1 card after the other from the Stock to the Waste.":null]})]}),(0,P.jsxs)("div",{className:"togglecontainer",children:[(0,P.jsx)("div",{className:"title",children:"Pass Limit"}),(0,P.jsx)("div",{className:"toggle"}),(0,P.jsxs)("div",{className:"description",children:["1-pass"===M[e.difficultySettings].settings.recyclingMode?"One pass through the deck. Waste can not be recycled to the Stock.":null,"3-pass"===M[e.difficultySettings].settings.recyclingMode?"Three passes through the deck. Waste can be recycled to Stock two times.":null,"infinite"===M[e.difficultySettings].settings.recyclingMode?"No limit on passes through the deck. Waste can be recycled to Stock endlessly.":null]})]})]})]})]})},nn=t(2063),en=function RenderScreenToggle(n){var e=s.useRef(null);U(n,e);var t=(0,R.Z)(),o=t.navigation,r=t.setNavigation;return function useInitialFocus(n,e,t){s.useEffect((function(){n.autoFocus&&!n.hasFocus&&e&&e.current&&e.current!==document.activeElement&&-1===t.x&&-1===t.y&&e.current.focus()}),[e])}(n,e,o.screen),(0,P.jsxs)("div",{className:F("togglecontainer",n),children:[(0,P.jsxs)("div",{className:"title",children:[n.icon&&(0,P.jsx)(Q(),{size:"0.8em",path:n.icon})," ",n.label]}),(0,P.jsx)("div",{className:"toggle",children:(0,P.jsx)(nn.ZP,{ref:e,disabled:!!n.disabled,autoFocus:n.autoFocus,onFocus:function onFocus(){n.hasFocus||r((0,i.Z)((0,i.Z)({},o),{},{screen:{x:n.x,y:n.y}}))},checked:n.value,onChange:function onChange(){return function change(e,t){r((0,i.Z)((0,i.Z)({},o),{},{screen:t})),n.callBack&&n.callBack(e)}(!n.value,{x:n.x,y:n.y})}})}),(0,P.jsx)("div",{className:"description",children:n.description})]})},tn=function ScreenToggle(n){var e=(0,R.Z)().navigation;if("undefined"===typeof n.x||"undefined"===typeof n.y)return null;var t={x:n.x||0,y:n.y||0};return(0,P.jsx)(en,{x:t.x,y:t.y,icon:n.icon,disabled:!!n.disabled,hasFocus:function hasFocus(n,t){return"screen"===e.focus&&e.screen.x===t&&e.screen.y===n}(t.y,t.x),label:n.label,description:n.description,value:n.value,callBack:n.callBack,autoFocus:n.autoFocus})},on=function Performance(){var n=b(),e=n.state,t=n.setState,o=u().consented;return(0,P.jsxs)("div",{className:"performance startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:"Performance"}),(0,P.jsxs)(V,{id:"performance",children:[(0,P.jsx)(H,{skip:o,children:(0,P.jsx)(O,{})}),(0,P.jsxs)(H,{children:[(0,P.jsx)(tn,{icon:"",label:"Undo Feature Switch",description:"Undo is an expensive feature and can be switched off for performance reasons.",value:!!e.featureSwitches.undo,callBack:function setUndoFs(n){return t((0,i.Z)((0,i.Z)({},e),{},{featureSwitches:(0,i.Z)((0,i.Z)({},e.featureSwitches),{},{undo:n})}))}}),(0,P.jsx)(tn,{icon:"",label:"Confetti Feature Switch",description:"Undo is an expensive feature and can be switched off for performance or concentration reasons.",value:!!e.featureSwitches.confetti,callBack:function setConfettiFs(n){return t((0,i.Z)((0,i.Z)({},e),{},{featureSwitches:(0,i.Z)((0,i.Z)({},e.featureSwitches),{},{confetti:n})}))}})]}),(0,P.jsx)(H,{})]})]})},rn=t(3985),sn=function RenderScreenSelect(n){var e=s.useRef(null);U(n,e);var t=(0,R.Z)(),o=t.navigation,r=t.setNavigation;return(0,P.jsxs)("div",{className:F("togglecontainer",n),children:[(0,P.jsxs)("div",{className:"title",children:[n.label,": ",n.values[n.value].label]}),(0,P.jsx)("div",{className:"button",children:(0,P.jsx)("button",{autoFocus:n.autoFocus,ref:e,onClick:function onClick(){n.callBack((n.value+1<n.values.length?n.value+1:0).toString()),r((0,i.Z)((0,i.Z)({},o),{},{screen:{x:n.x,y:n.y}}))},disabled:!!n.disabled,onFocus:function onFocus(){n.hasFocus||r((0,i.Z)((0,i.Z)({},o),{},{screen:{x:n.x,y:n.y}}))},children:"\ud83d\udd01"})}),(0,P.jsx)("div",{className:"description",children:n.description})]})},cn=function ScreenSelect(n){var e=(0,R.Z)().navigation;if("undefined"===typeof n.x||"undefined"===typeof n.y)return null;var t={x:n.x||0,y:n.y||0};return(0,P.jsx)(sn,{x:t.x,y:t.y,disabled:!!n.disabled,hasFocus:function hasFocus(n,t){return"screen"===e.focus&&e.screen.x===t&&e.screen.y===n}(t.y,t.x),label:n.label,description:n.description,value:n.value,values:n.values,callBack:n.callBack,autoFocus:n.autoFocus})},an=function QuickStart(){var n=b(),e=n.state,t=n.setState,o=u().consented;return(0,P.jsxs)("div",{className:"quickstart startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:"Entropy"}),(0,P.jsxs)(V,{id:"settings",children:[(0,P.jsx)(H,{skip:o,children:(0,P.jsx)(O,{})}),(0,P.jsxs)(H,{children:[(0,P.jsx)(cn,{label:"Base Entropy",description:"How much chaos will the stacks on the board contain by themselves?",value:e.entropySettings.baseEntropy||0,values:rn.Z.map((function(n,e){return{id:e,label:n}})),callBack:function setBaseEntropy(n){return t((0,i.Z)((0,i.Z)({},e),{},{entropySettings:(0,i.Z)((0,i.Z)({},e.entropySettings),{},{baseEntropy:parseInt(n)})}))},autoFocus:!0}),(0,P.jsx)(cn,{label:"Interaction Entropy",description:"How much chaos will each interaction add to a stack on the board?",value:e.entropySettings.interactionEntropy||0,values:rn.Z.map((function(n,e){return{id:e,label:n}})),callBack:function setInteractionEntropy(n){return t((0,i.Z)((0,i.Z)({},e),{},{entropySettings:(0,i.Z)((0,i.Z)({},e.entropySettings),{},{interactionEntropy:parseInt(n)})}))}})]})]})]})},un=function Rating(){var n=b(),e=n.state,t=n.setState,o=(0,R.Z)().navigation,r=function isActive(n){return e.ratingPreset===n},s=function customizeRating(n){var o=(0,i.Z)({},e);n(o.ratingSettings),o.ratingPreset=k.matchPreset(o.ratingSettings),t(o)},c=u().consented;return(0,P.jsxs)("div",{className:"rating startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:"Penalties"}),(0,P.jsxs)(V,{id:"penalties",children:[(0,P.jsx)(H,{skip:c,children:(0,P.jsx)(O,{})}),(0,P.jsx)(H,{children:k.ALL.map((function(n){return(0,P.jsx)(_,{icon:n.icon,id:n.id,autoFocus:r(n.id)||-1===e.ratingPreset&&0===n.id,className:function className(e){return function getButtonClass(n,e){var t=r(n)?"active active-".concat(n):"inactive-".concat(n);return t+(o.screen.x===e.x&&o.screen.y===e.y?" focused":"")}(n.id,e)},onClick:function onClick(){return function applyPreset(n){var o=(0,i.Z)({},e);k.ALL[n].apply(o),t(o)}(n.id)},lines:[n.label]},n.id)}))}),(0,P.jsxs)(H,{children:[(0,P.jsx)(tn,{icon:"",label:"Undo Penalty",description:"Undo is enabled, but excessive use will be painful. This penalty starts with 2 and increases exponentially.",value:!!e.ratingSettings.undoPenalty,callBack:function setUndoPenalty(n){return s((function(e){e.undoPenalty=n}))}}),(0,P.jsx)(tn,{icon:"",label:"Time Penalty",description:"Fast players are rewarded with a time bonus, slow players will be punished.",value:!!e.ratingSettings.timedMode,callBack:function setTimeRating(n){return s((function(e){e.timedMode=n}))}})]}),(0,P.jsxs)(H,{children:[(0,P.jsx)(tn,{icon:"",label:"Hint Penalty",description:"Each manual hint will reduce the number of points by 10. This setting disables automatic suggestions. ",value:!!e.ratingSettings.hintPenalty,callBack:function setHintPenalty(n){!function customizeRating2(n,o){var r=(0,i.Z)({},e);n(r.ratingSettings),o(r),r.ratingPreset=k.matchPreset(r.ratingSettings),t(r)}((function(e){e.hintPenalty=n}),(function(e){e.suggestionMode=n?x.Z.NONE:x.Z.REGULAR}))}}),(0,P.jsx)(tn,{icon:"",label:"Miss Penalty",description:"Be careful where you click, as each invalid action will lead to a penalty of 10 points.",value:!!e.ratingSettings.missPenalty,callBack:function setMissPenalty(n){return s((function(e){e.missPenalty=n}))}})]})]})]})},ln=function Suggestions(){var n=u().consented,e=b(),t=e.state,o=e.setState,r=x.Z.allSuggestionModes(),s=function isActive(n){return t.suggestionMode===n},c=function isDisabled(n){return n!==x.Z.NONE&&t.ratingSettings.hintPenalty},a=function renderToggle(n,e){return(0,P.jsx)(tn,{value:s(n.key),disabled:c(n.key),label:n.label,icon:n.icon,callBack:function callBack(){return o((0,i.Z)((0,i.Z)({},t),{},{suggestionMode:n.key}))},description:n.description,autoFocus:s(n.key)},e)};return(0,P.jsxs)("div",{className:"suggestions startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:"Suggestions"}),(0,P.jsxs)(V,{id:"settings",children:[(0,P.jsx)(H,{skip:n,children:(0,P.jsx)(O,{})}),(0,P.jsx)(H,{children:r.slice(0,2).map(a)}),(0,P.jsx)(H,{children:r.slice(2).map(a)})]})]})},dn=function Support(){var n=b(),e=n.state,t=n.setState,o=u().consented;return(0,P.jsxs)("div",{className:"quickstart startdetails",children:[(0,P.jsx)(D,{}),(0,P.jsx)("div",{className:"title",children:"Support"}),(0,P.jsxs)(V,{id:"support",children:[(0,P.jsx)(H,{skip:o,children:(0,P.jsx)(O,{})}),(0,P.jsxs)(H,{children:[(0,P.jsx)(tn,{icon:"",label:"Auto Resolve",description:"Enable this to automatically resolve the board once all cards are uncovered and moved to the tableau.",value:e.autoResolve,callBack:function setAutoResolve(n){return t((0,i.Z)((0,i.Z)({},e),{},{autoResolve:n}))},autoFocus:!0}),(0,P.jsx)(tn,{icon:"",label:"Auto Uncover",description:"Should the game automatically uncover cards for you?",value:e.autoUncover,callBack:function setAutoUncover(n){return t((0,i.Z)((0,i.Z)({},e),{},{autoUncover:n}))}})]}),(0,P.jsxs)(H,{children:[(0,P.jsx)(tn,{icon:"",label:"Instant Deal",description:"Should the deal animation at the beginning of the game be skipped?",value:e.quickDeal,callBack:function setQuickDeal(n){return t((0,i.Z)((0,i.Z)({},e),{},{quickDeal:n}))}}),(0,P.jsx)(tn,{icon:"",label:"Auto Draw",description:"Should the game automatically draw from the stock every 10 seconds?",value:e.speed,callBack:function setSpeed(n){return t((0,i.Z)((0,i.Z)({},e),{},{speed:n}))}})]})]})]})},fn=function RenderScreen(n){return(0,P.jsx)("div",{className:"startscreen-layout",children:(0,P.jsxs)("div",{className:"startscreen-jail",children:["rating"===n.screen?(0,P.jsx)(un,{}):null,"difficulty"===n.screen?(0,P.jsx)(J,{}):null,"settings"===n.screen?(0,P.jsx)(an,{}):null,"suggestions"===n.screen?(0,P.jsx)(ln,{}):null,"support"===n.screen?(0,P.jsx)(dn,{}):null,"controls0"===n.screen?(0,P.jsx)($,{player:0}):null,"controls1"===n.screen?(0,P.jsx)($,{player:1}):null,"performance"===n.screen?(0,P.jsx)(on,{}):null]})})},hn=function Screen(){var n=(0,R.Z)().navigation;return(0,P.jsx)(fn,{screen:n.screeen})},gn=(t(9e3),t(6874)),pn=t(2108),yn=t(2083),vn=t(263),mn=s.createContext({overlayActive:!1,toggleOverlay:function toggleOverlay(){}}),xn=function useOverlayContext(){return s.useContext(mn)},Zn=function Overlay(n){return(0,vn.Z)((function(){return n.before&&n.before(),function(){n.after&&n.after()}})),(0,P.jsx)("div",{className:"overlay",children:n.children})},kn={call:function call(){}},jn=function OverlayContextProvider(n){var e=s.useState(!1),t=(0,o.Z)(e,2),i=t[0],r=t[1],c=s.useState(null),a=(0,o.Z)(c,2),u=a[0],l=a[1],d=s.useState(kn),f=(0,o.Z)(d,2),h=f[0],g=f[1],p=s.useState(kn),y=(0,o.Z)(p,2),v=y[0],m=y[1],x={overlayActive:i,toggleOverlay:function toggleOverlay(n,e,t){r(!!n),l(n),e&&m({call:e}),t&&g({call:t})}};return(0,P.jsxs)(mn.Provider,{value:x,children:[i&&(0,P.jsx)(Zn,{before:v.call,after:h.call,children:u}),n.children]})},wn=function ConsentDialog(){var n=u(),e=n.setConsented,t=n.consented,i=A.getInstance().getDialog(),o=xn().toggleOverlay;return(0,P.jsx)(R.K,{children:(0,P.jsx)("div",{className:"gamemenu menu dialog",children:(0,P.jsx)("div",{className:"startscreen-jail",children:(0,P.jsxs)("div",{className:"innermenu",children:[(0,P.jsx)(pn.Z,{icon:m.N1L}),(0,P.jsx)("div",{className:"announcement",children:i.prompt}),(0,P.jsxs)(yn.Z,{keyboardLayout:G.dR,children:[(0,P.jsx)(gn.Z,{icon:m.ESz,title:t?"Delete cookie":"Allow cookie",onClick:function onClick(){e(i.confirm()),o()}}),(0,P.jsx)(gn.Z,{icon:m.Zgs,title:"Cancel",onClick:function onClick(){return o()}})]})]})})})})},Cn=function VerticalMenu(n){return(0,P.jsx)("div",{className:"ui start menu",children:(0,P.jsx)("div",{className:"startscreen-jail",children:(0,P.jsx)("div",{className:"innermenu",children:n.children})})})},Sn=function StartMenu(n){var e=(0,R.Z)(),t=e.navigation,o=e.setNavigation,r=u().consented,s=function switchToMenu(n,e){return o((0,i.Z)((0,i.Z)({},t),{},{focus:"menu",screeen:"",mainMenu:n,menu:(0,i.Z)({},e)}))},c=function toggleScreen(n,e){t.screeen!==n?function switchToScreen(n,e){o((0,i.Z)((0,i.Z)({},t),{},{focus:"screen",screeen:n,screen:{x:-1,y:-1},menu:(0,i.Z)({},e)}))}(n,e):s(t.mainMenu,e)},a=function toggleMainMenu(n,e){return s(t.mainMenu!==n?n:"",e)},l=xn(),d=l.toggleOverlay,f=l.overlayActive;return(0,P.jsxs)(Cn,{children:[(0,P.jsx)(pn.Z,{icon:m.ude,label:"Solitaire"}),(0,P.jsxs)(yn.Z,{keyboardLayout:G.dR,disabled:f,children:[(0,P.jsx)(gn.Z,{icon:m.P1m,title:"Single Player",onClick:function onClick(){return n.start(v.Z.SINGLEPLAYER)}}),(0,P.jsxs)(gn.Z,{icon:m.Hne,title:"Versus",onClick:function onClick(n){return a("versus",n)},toggled:"versus"===t.mainMenu,children:[(0,P.jsx)(gn.Z,{icon:m.H$X,title:"Player 1",onClick:function onClick(n){return c("controls0",n)},toggled:"controls0"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.H$X,title:"Player 2",onClick:function onClick(n){return c("controls1",n)},toggled:"controls1"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.P1m,title:"Start",onClick:function onClick(){return n.start(v.Z.VERSUS)}})]}),(0,P.jsxs)(gn.Z,{icon:m.Shd,title:"Options",onClick:function onClick(n){return a("custom",n)},toggled:"custom"===t.mainMenu,children:[(0,P.jsx)(gn.Z,{icon:m.Q3s,title:"Difficulty",onClick:function onClick(n){return c("difficulty",n)},toggled:"difficulty"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.j3j,title:"Penalties",onClick:function onClick(n){return c("rating",n)},toggled:"rating"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.LLp,title:"Suggestions",onClick:function onClick(n){return c("suggestions",n)},toggled:"suggestions"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.$Th,title:"Support",onClick:function onClick(n){return c("support",n)},toggled:"support"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.xuG,title:"Entropy",onClick:function onClick(n){return c("settings",n)},toggled:"settings"===t.screeen}),(0,P.jsx)(gn.Z,{icon:m.a$o,title:"Performance",onClick:function onClick(n){return c("performance",n)},toggled:"performance"===t.screeen})]}),(0,P.jsx)(gn.Z,{icon:m.N1L,title:r?"Delete Cookie":"Allow Cookie",onClick:function onClick(){return function _toggleOverlay(n){d(n,(function(){o((0,i.Z)((0,i.Z)({},t),{},{focus:"dialog"}))}),(function(){o((0,i.Z)((0,i.Z)({},t),{},{focus:"menu"}))}))}((0,P.jsx)(wn,{}))}})]})]})},bn=function Home(n){var e=A.getInstance(),t=e.getPreviousState(),r=s.useState(t||w),c=(0,o.Z)(r,2),a=c[0],u=c[1],l={state:a,setState:function setState(n){u(n),e.store(n)}};return(0,P.jsx)(N.Z,{ratio:E.Z._16to9,children:(0,P.jsx)(S,{value:l,children:(0,P.jsxs)(R.K,{children:[(0,P.jsx)(Sn,{start:function start(e){var t=(0,i.Z)((0,i.Z)((0,i.Z)({},M[a.difficultySettings].settings),a.ratingSettings),{},{baseEntropy:a.entropySettings.baseEntropy||0,interactionEntropy:a.entropySettings.interactionEntropy||0,players:(0,i.Z)({},a.players),quickDeal:a.quickDeal,speed:a.speed,autoUncover:a.autoUncover,autoResolve:a.autoResolve,boardMode:e,initialized:!0,suggestionMode:a.suggestionMode,inputMode:"",featureSwitches:(0,i.Z)({},a.featureSwitches)});n.start(t)}}),(0,P.jsx)(hn,{})]})})})},Nn=s.lazy((function(){return Promise.all([t.e(563),t.e(454)]).then(t.bind(t,4758))})),Mn=function App(){var n=A.getInstance(),e=s.useState(!!n.hasConsent()),t=(0,o.Z)(e,2),c={consented:t[0],setConsented:t[1]},u={boardMode:v.Z.SINGLEPLAYER,inputMode:"mouse",initialized:!1,players:r,drawMode:"",recyclingMode:"",interactionEntropy:0,baseEntropy:0,suggestionMode:x.Z.NONE,featureSwitches:{undo:!0,confetti:!0}},l=s.useState(u),d=(0,o.Z)(l,2),f=d[0],h=d[1],g=(new y).shuffle();return(0,P.jsx)(a,{value:c,children:(0,P.jsx)(jn,{children:null!==f&&void 0!==f&&f.initialized?(0,P.jsx)(Nn,{launchState:f,deck:g,restart:function restart(){return h(u)}}):(0,P.jsx)(bn,{start:function start(n){return h((0,i.Z)((0,i.Z)({},n),{},{initialized:!0}))}})})})}},3890:function(n,e,t){t.d(e,{Z:function(){return r}});var i=t(3144),o=t(5671),r=(0,i.Z)((function GameModes(){(0,o.Z)(this,GameModes)}));r.SINGLEPLAYER="singleplayer",r.VERSUS="splitscreen"},3680:function(n,e,t){t.d(e,{Z:function(){return s}});var i=t(8683),o=t(5671),r=t(3144),s=function(){function Card(n,e,t){var i=this;(0,o.Z)(this,Card),this.denomination=void 0,this.type=void 0,this.isHidden=void 0,this.entropyStyle=void 0,this.source=void 0,this.suggestion=void 0,this.success=void 0,this.canClick=void 0,this.onClick=void 0,this.setSuccess=function(n){i.success=n},this.causeEntropy=function(n){if(0!==n){var e=2*n,t=function random(){return Math.random()<.5},o=function randomInt(n,e){return Math.random()*(e-n)+n};t()&&(t()?i.entropyStyle.left=o(0,e/20)+"vw":i.entropyStyle.right=o(0,e/20)+"vw"),i.entropyStyle.transform="rotate("+o(-1*e,e)+"deg)"}else i.entropyStyle={}},this.equals=function(n){return n&&Card.equals(i,n)||!1},this.denomination=n,this.type=e,this.isHidden=t,this.entropyStyle={},this.source="",this.suggestion=!1,this.success=0,this.canClick=function(){return!1},this.onClick=function(n){return function(n){}}}return(0,r.Z)(Card,null,[{key:"equals",value:function equals(n,e){return!n&&!e||n&&e&&e.denomination===n.denomination&&e.type.icon===n.type.icon}}]),Card}();s.copy=function(n){var e=new s(n.denomination,n.type,n.isHidden);return e.source=n.source,e.entropyStyle=(0,i.Z)({},n.entropyStyle),e.canClick=n.canClick,e.onClick=n.onClick,e},s.copyAll=function(n){return n.map((function(n){return s.copy(n)}))}},9093:function(n,e,t){t.d(e,{KF:function(){return o},qW:function(){return r},bf:function(){return s}});var i=t(2982),o=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],r=function getFoundationOrder(){return["A"].concat((0,i.Z)(o.slice(0,o.length-1))).reverse()},s=function getTableauOrder(){return[].concat(o)}},7909:function(n,e,t){var i=t(6651),o={heart:{icon:i.N_7,color:"red"},club:{icon:i.vhQ,color:"black"},diamond:{icon:i.ude,color:"red"},spade:{icon:i.SSW,color:"black"}};e.Z=o},3985:function(n,e){e.Z=["none","low","regular","high","extreme"]},801:function(n,e,t){t.d(e,{Z:function(){return c}});var i=t(3144),o=t(5671),r=t(6651),s=(0,i.Z)((function SuggestionMode(n,e){(0,o.Z)(this,SuggestionMode),this.key=void 0,this.label=void 0,this.isTemporary=void 0,this.supportsHints=void 0,this.next=void 0,this.icon=void 0,this.description=void 0,this.key=n,this.label=e.label,this.icon=e.icon,this.description=e.description,this.isTemporary=!!e.isTemporary,this.supportsHints=!!e.supportsHints,this.next=e.next})),c=(0,i.Z)((function SuggestionModes(){(0,o.Z)(this,SuggestionModes)}));c.NONE="NONE",c.SCORED="SCORED",c.REGULAR="REGULAR",c.FULL="FULL",c.ONCE="ONCE",c.TWICE="TWICE",c.raw={NONE:{label:"None",description:"No distractions. This enables one-time hints.",supportsHints:!0,icon:r.r5M},SCORED:{label:"Scored",description:"Shows all actions that increase the score.",icon:r.lEW},REGULAR:{label:"Regular",description:"Shows all possible actions except circular",icon:r.LLp},FULL:{label:"Full",description:"Shows all possible actions, even if they are circular",icon:r.goG},ONCE:{label:"Single Action",description:"triggered by manual hint in game",isTemporary:!0,next:"NONE",icon:r.Qq3}},c.get=function(n){return new s(n,c.raw[n])},c.all=function(){return Object.keys(c.raw).map(c.get)},c.allSuggestionModes=function(){return c.all().filter((function(n){return!n.isTemporary}))},c.default=function(){return c.get(c.REGULAR)},c.getHintMode=function(){return c.get(c.ONCE)},c.next=function(n){var e=c.allSuggestionModes();if(e[e.length-1].key===n.key)return e[0];for(var t=0;t<e.length;t++)if(e[t].key===n.key)return e[t+1];return e[0]}},6874:function(n,e,t){var i=t(885),o=t(8683),r=t(1523),s=t.n(r),c=t(2791),a=t(8133),u=t(184),l=function RenderMenuButton(n){var e=c.useRef(null),t="";n.y>0&&(t+=" indented"),n.menuX===n.x&&n.menuY===n.y&&"menu"===n.menuFocus&&!n.skip&&(t+=" highlight"),c.useEffect((function(){n.menuX===n.x&&n.menuY===n.y&&"menu"===n.menuFocus&&e.current&&e.current!==document.activeElement&&(l(!0),e&&e.current&&e.current.focus())}),[n.menuFocus,n.menuX,n.menuY,n.x,n.y]),n.active&&(t+=" active");var o=c.useState(!1),r=(0,i.Z)(o,2),a=r[0],l=r[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{ref:e,className:t,title:n.title,onFocus:function focus(){a||n.menuX===n.x&&n.menuY===n.y||"menu"!==n.menuFocus||(n.onFocus({x:n.x,y:n.y}),l(!1))},onClick:function click(){l(!1),n.onClick({x:n.x,y:n.y})},disabled:n.skip,onMouseDown:function onMouseDown(){return l(!0)},children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(s(),{path:n.icon,size:"1em"})}),(0,u.jsx)("div",{className:"label",children:n.title})]}),(0,u.jsx)("div",{children:n.toggled?n.children:null})]})};e.Z=function MenuButton(n){var e,t=(0,a.Z)(),i=t.navigation,r=t.setNavigation;if("undefined"===typeof n.x||"undefined"===typeof n.y)return null;return(0,u.jsx)(l,{title:n.title,x:n.x||0,y:n.y||0,icon:n.icon,menuX:i.menu.x,menuY:i.menu.y,menuFocus:i.focus,disabled:n.disabled,active:!1,onFocus:function onFocus(n){return r((0,o.Z)((0,o.Z)({},i),{},{menu:n}))},onClick:n.onClick,toggled:!!n.toggled,skip:n.skip,children:null===(e=n.children)||void 0===e?void 0:e.map((function addItem(e,t){var i;return function assign(e){e[n.x||0].buttons[t+1]=(0,o.Z)((0,o.Z)({},n),{},{x:n.x,y:t+1})}((null===(i=n.navigator)||void 0===i?void 0:i.rows)||[]),c.cloneElement(e,{key:t,x:n.x,y:t+1,navigator:n.navigator})}))})}},2108:function(n,e,t){var i=t(1523),o=t.n(i),r=(t(2791),t(184));e.Z=function MenuTitle(n){return(0,r.jsxs)("div",{className:"title maintitle",children:[(0,r.jsx)(o(),{size:".8em",path:n.icon}),n.label]})}},2083:function(n,e,t){t.d(e,{Z:function(){return y}});var i=t(8683),o=t(2791),r=t(517),s=t(8391),c=t(9847),a=t(8133),u=t(184),l=function TreeNavWrapper(n){var e=n.navigator,t=(0,a.Z)(),o=t.navigation,l=t.setNavigation,d=function assignState(n){"menu"===o.focus&&l((0,i.Z)((0,i.Z)({},o),{},{menu:n}))},f={onCancel:function onCancel(){return l((0,i.Z)((0,i.Z)({},o),{},{focus:"menu",screeen:"",mainMenu:o.mainMenu,menu:(0,i.Z)({},o.menu)}))},onUp:function onUp(){return d(e.moveUp(o.menu.x,o.menu.y))},onDown:function onDown(){return d(e.moveDown(o.menu.x,o.menu.y))},onLeft:function onLeft(){return d(e.moveLeft(o.menu.x,o.menu.y))},onRight:function onRight(){return d(e.moveRight(o.menu.x,o.menu.y))},onAction:function onAction(){return e.action(o.menu)}};return"menu"!==o.focus||n.disabled?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Z,(0,i.Z)({layout:n.keyboardLayout},f)),(0,u.jsx)(r.Z,(0,i.Z)({layout:s.Z},f))]})},d=t(3144),f=t(5671),h=t(9340),g=t(8347),p=function(n){(0,h.Z)(TreeNavigator,n);var e=(0,g.Z)(TreeNavigator);function TreeNavigator(){var n;(0,f.Z)(this,TreeNavigator);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).moveUp=function(e,t){if(0===e)return{x:n.rows.length-1,y:0};if(t>0)return{x:e,y:t-1};if(0===t){var i=n.getRow(e-1);return i.toggled?{x:e-1,y:i.buttons.length-1}:{x:e-1,y:t}}return{x:e-1,y:t}},n.moveDown=function(e,t){var i=n.getRow(e);return 0===t&&i.toggled?{x:e,y:1}:t>0&&t<i.buttons.length-1?{x:e,y:t+1}:t>0?{x:e+1,y:0}:e<n.rows.length-1?{x:e+1,y:t}:{x:0,y:0}},n.moveLeft=function(n,e){return{x:n,y:e}},n.moveRight=function(n,e){return{x:n,y:e}},n.action=function(){var n=document.activeElement;n&&n.click()},n}return(0,d.Z)(TreeNavigator)}(t(1952).Z),y=function MenuTree(n){var e=new p;e.rows=[];var t=-1,r=-1;return(0,u.jsxs)(u.Fragment,{children:[n.children.map((function addItem(n){return r++,n.props.skip||(t++,e.rows[t]=(0,i.Z)((0,i.Z)({x:t,y:0},n.props),{},{buttons:[]})),o.cloneElement(n,{key:r,x:t,y:0,navigator:e})})),(0,u.jsx)(l,{disabled:n.disabled,navigator:e,keyboardLayout:n.keyboardLayout})]})}},1952:function(n,e,t){t.d(e,{Z:function(){return s}});var i=t(8683),o=t(3144),r=t(5671),s=(0,o.Z)((function AbstractNavigator(){var n=this;(0,r.Z)(this,AbstractNavigator),this.rows=void 0,this.getRows=function(){return n.rows},this.getRow=function(e){return n.getRows()[e]},this.goToRow=function(e){var t=n.getRows()[e.y];return t.buttons.length-1<e.x?(0,i.Z)((0,i.Z)({},e),{},{x:t.buttons.length-1}):e},this.rows=[]}))},8133:function(n,e,t){t.d(e,{K:function(){return l}});var i=t(885),o=t(8683),r=t(2791),s=t(184),c={x:0,y:0},a={menu:(0,o.Z)({},c),screen:(0,o.Z)({},c),focus:"menu",mainMenu:"",screeen:""},u=r.createContext({navigation:a,setNavigation:function setNavigation(){},closeScreen:function closeScreen(){}}),l=function NavigationProvider(n){var e=r.useState(a),t=(0,i.Z)(e,2),c=t[0],l=t[1];return(0,s.jsx)(u.Provider,{value:{navigation:c,setNavigation:l,closeScreen:function closeScreen(){return l((0,o.Z)((0,o.Z)({},c),{},{focus:"menu",screeen:"",mainMenu:c.mainMenu,menu:(0,o.Z)({},c.menu)}))}},children:n.children})};e.Z=function useNavigationContext(){return r.useContext(u)}},3718:function(n,e,t){t.d(e,{w:function(){return l},Z:function(){return d}});var i=t(5671),o=t(3144),r=t(7326),s=t(9340),c=t(8347),a=t(2791),u=t(184),l=a.createContext({width:window.innerWidth,height:window.innerHeight}),d=function(n){(0,s.Z)(AspectRatio,n);var e=(0,c.Z)(AspectRatio);function AspectRatio(n){var t;return(0,i.Z)(this,AspectRatio),(t=e.call(this,n)).state={width:0,height:0},t.updateWindowDimensions=t.updateWindowDimensions.bind((0,r.Z)(t)),t}return(0,o.Z)(AspectRatio,[{key:"componentDidMount",value:function componentDidMount(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function updateWindowDimensions(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function render(){var n=this.state.width>=this.state.height*this.props.ratio.multiplier?"landscape":"portrait";return(0,u.jsx)(l.Provider,{value:this.state,children:(0,u.jsx)("div",{className:"appwrapper",children:(0,u.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+n,children:(0,u.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+n+"-inner",children:(0,u.jsx)("div",{className:"appwrapper-jail",children:this.props.children})})})})})}}]),AspectRatio}(a.Component)},1887:function(n,e,t){t.d(e,{Z:function(){return r}});var i=t(3144),o=t(5671),r=(0,i.Z)((function Ratios(){(0,o.Z)(this,Ratios)}));r._16to9={prefix:"16-to-9",multiplier:1.7778},r._4to3={prefix:"4-to-3",multiplier:1.3333}},517:function(n,e,t){var i=t(8683),o=t(2791),r=t(3560),s=t(9019),c=t(184);e.Z=function GamePad(n){var e=n.layout,t={onButtonDown:function onButtonDown(t){e.cancel(t)&&n.onCancel&&n.onCancel(),e.left(t)&&n.onLeft&&n.onLeft(),e.right(t)&&n.onRight&&n.onRight(),e.up(t)&&n.onUp&&n.onUp(),e.down(t)&&n.onDown&&n.onDown(),e.action(t)&&n.onAction&&n.onAction(),e.undo(t)&&n.onUndo&&n.onUndo(),e.hint(t)&&n.onHint&&n.onHint(),e.pause(t)&&n.onPause&&n.onPause(),e.menu(t)&&n.onMenu&&n.onMenu()},onConnect:function onConnect(n){console.debug("connected",n)},onDisconnect:function onDisconnect(n){console.debug("disconnected",n)}};return(0,c.jsx)(s.Z,{delay:125,children:(0,c.jsx)(r.ZP,(0,i.Z)((0,i.Z)({gamepadIndex:n.gamepadIndex},t),{},{children:(0,c.jsx)(o.Fragment,{})}))})}},8391:function(n,e){e.Z={up:function up(n){return"DPadUp"===n},down:function down(n){return"DPadDown"===n},right:function right(n){return"DPadRight"===n},left:function left(n){return"DPadLeft"===n},cancel:function cancel(n){return"B"===n},action:function action(n){return"A"===n},undo:function undo(n){return"Y"===n},hint:function hint(n){return"X"===n},pause:function pause(n){return"Start"===n},menu:function menu(n){return"Back"===n}}},9847:function(n,e,t){var i=t(2791);e.Z=function Keyboard(n){return i.useEffect((function(){var e=function navListener(e){var t=window.event?event:e,i=n.layout;i.cancel(t)&&(n.onCancel&&n.onCancel(),e.preventDefault()),i.left(t)&&(n.onLeft&&n.onLeft(),e.preventDefault()),i.right(t)&&(n.onRight&&n.onRight(),e.preventDefault()),i.up(t)&&(n.onUp&&n.onUp(),e.preventDefault()),i.down(t)&&(n.onDown&&n.onDown(),e.preventDefault()),i.action(t)&&(n.onAction&&n.onAction(),e.preventDefault()),i.undo(t)&&(n.onUndo&&n.onUndo(),e.preventDefault()),i.hint(t)&&(n.onHint&&n.onHint(),e.preventDefault()),i.pause(t)&&(n.onPause&&n.onPause(),e.preventDefault()),i.menu(t)&&(n.onMenu&&n.onMenu(),e.preventDefault())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]),null}},1453:function(n,e,t){t.d(e,{Vc:function(){return i},dR:function(){return c}});var i=function getKeyboardLayout(n){if(0===n)return r;if(1===n)return o;if(2===n)return s;throw new Error("Unknown keyboard layout ID")},o={up:function up(n){return 38===n.keyCode},down:function down(n){return 40===n.keyCode},right:function right(n){return 39===n.keyCode},left:function left(n){return 37===n.keyCode},cancel:function cancel(n){return 27===n.keyCode},action:function action(n){return 96===n.keyCode},undo:function undo(n){return 90===n.keyCode&&n.ctrlKey},hint:function hint(n){return 72===n.keyCode},pause:function pause(n){return 80===n.keyCode},menu:function menu(n){return 77===n.keyCode}},r={up:function up(n){return 87===n.keyCode},down:function down(n){return 83===n.keyCode},right:function right(n){return 68===n.keyCode},left:function left(n){return 65===n.keyCode},cancel:function cancel(n){return 69===n.keyCode},action:function action(n){return 81===n.keyCode},undo:function undo(n){return 88===n.keyCode},hint:function hint(n){return 90===n.keyCode},pause:function pause(n){return 999===n.keyCode},menu:function menu(n){return 27===n.keyCode}},s={up:function up(n){return 104===n.keyCode},down:function down(n){return 101===n.keyCode},right:function right(n){return 102===n.keyCode},left:function left(n){return 100===n.keyCode},cancel:function cancel(n){return 105===n.keyCode},action:function action(n){return 103===n.keyCode},undo:function undo(n){return 98===n.keyCode},hint:function hint(n){return 97===n.keyCode},pause:function pause(n){return 999===n.keyCode},menu:function menu(n){return 99===n.keyCode}},c={up:function up(n){return s.up(n)||r.up(n)||o.up(n)},down:function down(n){return s.down(n)||r.down(n)||o.down(n)},right:function right(n){return s.right(n)||r.right(n)||o.right(n)},left:function left(n){return s.left(n)||r.left(n)||o.left(n)},cancel:function cancel(n){return s.cancel(n)||r.cancel(n)||o.cancel(n)},action:function action(n){return s.action(n)||r.action(n)||o.action(n)},undo:function undo(n){return s.undo(n)||r.undo(n)||o.undo(n)},hint:function hint(n){return s.hint(n)||r.hint(n)||o.hint(n)},pause:function pause(n){return s.pause(n)||r.pause(n)||o.pause(n)},menu:function menu(n){return s.menu(n)||r.menu(n)||o.menu(n)}}},9e3:function(){}}]);
//# sourceMappingURL=327.4b1c269f.chunk.js.map