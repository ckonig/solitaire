(this["webpackJsonpsolitaire-react"]=this["webpackJsonpsolitaire-react"]||[]).push([[2],[,,,,,,,,,,,,,,,function(e,n,t){"use strict";t.r(n);var i=t(0),o=t(17),c=t(4),a=(t(42),t(43),t(31)),r=t(16),s=t(20),u=t(27),l=t(22),d=t(21),f=t(1),j=t.n(f),b=(t(44),t(45),t(46),function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(e){var i;return Object(r.a)(this,t),(i=n.call(this,e)).state={width:0,height:0},i.updateWindowDimensions=i.updateWindowDimensions.bind(Object(u.a)(i)),i}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this.state.width>=this.state.height*this.props.ratio.multiplier?"landscape":"portrait";return Object(i.jsx)("div",{className:"appwrapper",children:Object(i.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e,children:Object(i.jsx)("div",{className:"appwrapper-".concat(this.props.ratio.prefix,"-")+e+"-inner",children:Object(i.jsx)("div",{className:"appwrapper-jail",children:this.props.children})})})})}}]),t}(j.a.Component)),y=t(23),h=t(24),p=t(29),g=t(32),v=function(){function e(){Object(r.a)(this,e);var n=Object.keys(g.a);this.cards=p.a.map((function(e){return Object(y.a)(n.map((function(n){return new h.a(e,g.a[n],!0)})))})).flat().reverse()}return Object(s.a)(e,[{key:"shuffle",value:function(){return this.shuffleArray(this.cards),this}},{key:"shuffleArray",value:function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}}},{key:"copy",value:function(){var n=new e;return n.cards=h.a.copyAll(this.cards),n}}]),e}(),x=t(5),O=function e(){Object(r.a)(this,e)};O.QUICK={key:"QUICK",title:"Quick Game",boardMode:"singleplayer",autoConfig:!0},O.CUSTOM={key:"CUSTOM",title:"Custom Game",boardMode:"singleplayer",autoConfig:!1},O.VERSUS={key:"VERSUS",title:"Versus",boardMode:"splitscreen",autoConfig:!1},O.NULL={key:"",title:"",boardMode:"",autoConfig:!1};var m=t(19),k=t(18),w=[{id:0,settings:{drawMode:"single",recyclingMode:"infinite"},icon:"\ud83d\udc2d",lines:["Turn 1 card","No Limit"]},{id:1,settings:{drawMode:"single",recyclingMode:"3-pass"},icon:"\ud83d\udc39",lines:["Turn 1 card","Three passes"]},{id:2,settings:{drawMode:"single",recyclingMode:"1-pass"},icon:"\ud83d\udc30",lines:["Turn 1 card","Only a single pass"]},{id:3,settings:{drawMode:"triple",recyclingMode:"infinite"},icon:"\ud83d\udc28",lines:["Turn 3 cards","No limit"]},{id:4,settings:{drawMode:"triple",recyclingMode:"3-pass"},icon:"\ud83d\udc3c",lines:["Turn 3 cards ","Three passes"]},{id:5,settings:{drawMode:"triple",recyclingMode:"1-pass"},icon:"\ud83d\udc3b",lines:["Turn 3 cards ","Only a single pass"]}],C=[{id:0,icon:"\ud83d\uddb1\ufe0f",inputMethod:"mouse",inputLayout:0,lines:["Mouse or","Touchpad"]},{id:1,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:0,lines:["Gamepad 1"]},{id:2,icon:"\ud83c\udfae",inputMethod:"gamepad",inputLayout:1,lines:["Gamepad 2"]},{id:3,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:0,lines:["Keyboard","WASD"]},{id:4,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:1,lines:["Keyboard","ARROWS"]},{id:5,icon:"\u2328\ufe0f",inputMethod:"keyboard",inputLayout:2,lines:["Keyboard","NUMPAD"]}],M=j.a.createContext({closeScreen:function(){}}),S=function(){var e=j.a.useContext(M).closeScreen;return Object(i.jsx)("div",{className:"closer",children:Object(i.jsx)("button",{onClick:e,children:"\ud83d\uddd9"})})},N=function e(){var n=this;Object(r.a)(this,e),this.hasConsent=function(){var e=localStorage.getItem("consent");return e&&!!parseInt(e)},this.giveConsent=function(){return{prompt:"Allow this game to store settings, so your changes will stay. No data leaves your computer.",confirm:function(){localStorage.setItem("consent","1")}}},this.revokeConsent=function(){return{prompt:"Delete all local stored data? All settings will be lost.",confirm:function(){localStorage.clear()}}},this.store=function(e){n.hasConsent()&&localStorage.setItem("state",JSON.stringify(e))},this.getPreviousState=function(){if(n.hasConsent()){var e=localStorage.getItem("state");return null!=e?JSON.parse(e):null}return null}},E=function(e,n){var t=e;return n.hasFocus&&(t+=" focused"),n.disabled&&(t+=" disabled"),t},D=function(e,n){j.a.useEffect((function(){e.hasFocus&&n&&n.current&&n.current!==document.activeElement&&n.current.focus()}),[e.hasFocus,n])},L=function(e){var n=j.a.useContext(m.a).navigation,t=function(e,t){return"screen"==n.focus&&n.screen.x==t&&n.screen.y==e},o=j.a.useRef(null);D({hasFocus:t(e.y,e.x)},o);var c="cookiebanner";return t(e.y,e.x)&&(c+=" focused"),e.consented?null:Object(i.jsxs)("button",{ref:o,className:c,onClick:function(){var n=(new N).giveConsent();!e.consented&&confirm(n.prompt)&&(n.confirm(),e.setConsented(!0))},children:[Object(i.jsx)("div",{className:"icon",children:"\ud83c\udf6a"}),Object(i.jsxs)("div",{className:"message",children:[Object(i.jsx)("b",{children:"Changes on this page will be lost after each game"}),", until you allow this app to store data on your machine. Click here to give consent."]})]})},P=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n=j.a.useContext(k.a),t=n.consented,o=n.setConsented;return Object(i.jsx)(L,{x:e.x,y:e.y,consented:t,setConsented:o})},R=t(30),F=function(e){if("undefined"==typeof e.y||"undefined"==typeof e.navigator)return null;var n=function(n,t){if(!n)return null;var i;e.skip||(((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.y||0].buttons[t||0]={x:t,y:e.y});return j.a.cloneElement(n,{key:t,x:t,y:e.y})};return e.children?Object(i.jsx)("div",{className:"row",children:Array.isArray(e.children)?e.children.map(n):n(e.children,0)}):null},A=t(35),U=function e(){var n=this;Object(r.a)(this,e),this.rows=void 0,this.getRows=function(){return n.rows},this.getRow=function(e){return n.getRows()[e]},this.goToRow=function(e){var t=n.getRows()[e.y];return t.buttons.length-1<e.x?Object(o.a)(Object(o.a)({},e),{},{x:t.buttons.length-1}):e},this.moveUp=function(e,t){var i=n.getRows();return 0==t?n.goToRow({x:e,y:i.length-1}):n.goToRow({x:e,y:t-1})},this.moveDown=function(e,t){return t==n.getRows().length-1?n.goToRow({x:e,y:0}):n.goToRow({x:e,y:t+1})},this.moveLeft=function(e,t){var i=n.getRow(t);return 0==e?{x:i.buttons.length-1,y:t}:{x:e-1,y:t}},this.moveRight=function(e,t){return e==n.getRow(t).buttons.length-1?{x:0,y:t}:{x:e+1,y:t}},this.action=function(){var e=document.activeElement;e&&e.click()},this.rows=[]},T=function(e){var n=new U,t=-1,o=-1;return Object(i.jsxs)("div",{className:"content",children:[e.children.map((function(e){return function(e){return o++,e.props.skip||(t++,n.rows[t]={buttons:[]}),j.a.cloneElement(e,{key:o,x:0,y:t,navigator:n})}(e)})),Object(i.jsx)(A.b,{navigator:n,screen:"rating"})]})},I=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n={x:e.x,y:e.y},t=j.a.useRef(null),c=j.a.useContext(m.a),a=c.navigation,r=c.setNavigation,s="screen"==a.focus&&a.screen.x==e.x&&a.screen.y==e.y;j.a.useEffect((function(){s&&t&&t.current&&t.current!==document.activeElement&&t.current.focus()}),[t,s]),j.a.useEffect((function(){e.autoFocus&&!s&&t&&t.current&&t.current!==document.activeElement&&-1==a.screen.x&&-1==a.screen.y&&t.current.focus()}),[t]);return Object(i.jsxs)("button",{onFocus:function(){s||r(Object(o.a)(Object(o.a)({},a),{},{screen:{x:e.x||0,y:e.y||0}}))},ref:t,disabled:e.disabled,className:e.className(n),onClick:function(){e.onClick(),r(Object(o.a)(Object(o.a)({},a),{},{screen:{x:e.x||0,y:e.y||0}}))},children:[e.icon,e.lines.map((function(e,n){return Object(i.jsx)("div",{children:e},n)}))]},e.id)},B=function(e){var n=j.a.useContext(m.d),t=n.state,a=n.setState,r=j.a.useContext(m.a).navigation,s=t.players[e.player];if(!s)return null;var u=j.a.useState([{found:!1,buttonPressed:!1},{found:!1,buttonPressed:!1}]),l=Object(c.a)(u,2),d=l[0],f=l[1],b=function(e){d[e].found=!0,f(Object(o.a)({},d))},h=function(e){d[e].found=!0,d[e].buttonPressed=!0,f(Object(o.a)({},d)),console.log(d)},p=j.a.useContext(k.a).consented,g=function(e,n){return t.players[n].inputLayout==C[e].inputLayout&&t.players[n].inputMethod==C[e].inputMethod},v=function(n){return g(n,e.player)},x=function(n){var i=Object(o.a)({},t.players);i[e.player].inputMethod=C[n].inputMethod,i[e.player].inputLayout=C[n].inputLayout,a(Object(o.a)(Object(o.a)({},t),{},{players:i}))},O=function(e,n,t){var i=n+""+t+" "+r.screen.x+r.screen.y+" ";return i+=r.screen.x==n&&r.screen.y==t?" focused":"",i+=v(e)?" active-0":" inactive-0",i+=w(e)?" disabled":""},w=function(n){var t=[0,1].filter((function(n){return n!==e.player}));return g(n,t[0])},M=function(e){return"gamepad"==e.inputMethod?[].concat(Object(y.a)(e.lines),[d[e.inputLayout].found||d[e.inputLayout].buttonPressed?"Connected":"Not Found"]):e.lines};return Object(i.jsxs)("div",{className:"controls startdetails",children:[Object(i.jsx)(S,{}),Object(i.jsx)("div",{className:"title",children:s.name}),Object(i.jsxs)(T,{id:"settings",children:[Object(i.jsx)(F,{skip:p,children:Object(i.jsx)(P,{})}),Object(i.jsx)(F,{children:C.slice(0,3).map((function(e){return Object(i.jsx)(I,{icon:e.icon,id:e.id,disabled:w(e.id),autoFocus:v(e.id),className:function(n){return O(e.id,n.x,n.y)},onClick:function(){return x(e.id)},lines:M(e)},e.id)}))}),Object(i.jsx)(F,{children:C.slice(3).map((function(e){return Object(i.jsx)(I,{icon:e.icon,id:e.id,disabled:w(e.id),autoFocus:v(e.id),className:function(n){return O(e.id,n.x,n.y)},onClick:function(){return x(e.id)},lines:e.lines},e.id)}))}),Object(i.jsxs)(F,{skip:!0,children:[Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"@todo"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]}),Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"@todo"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsx)("div",{className:"description",children:"Describe Layout of currently selected input method"})]})]})]}),Object(i.jsx)(R.a,{gamepadIndex:0,onConnect:function(){return b(0)},onUp:function(){return h(0)},onDown:function(){return h(0)},onRight:function(){return h(0)},onLeft:function(){return h(0)},onAction:function(){return h(0)}}),Object(i.jsx)(R.a,{gamepadIndex:1,onConnect:function(){return b(1)},onUp:function(){return h(1)},onDown:function(){return h(1)},onRight:function(){return h(1)},onLeft:function(){return h(1)},onAction:function(){return h(1)}})]})},q=function(){var e=j.a.useContext(m.d),n=e.state,t=e.setState,c=j.a.useContext(m.a).navigation,a=function(e){return n.difficultySettings==e},r=function(e){return Object(i.jsx)(I,{icon:e.icon,id:e.id,autoFocus:a(e.id),className:function(n){return function(e,n,t){var i=c.screen.x==t&&c.screen.y==n,o=a(e)?"active active-".concat(e):"inactive-".concat(e);return o+(i?" focused":"")}(e.id,n.y,n.x)},onClick:function(){return t(Object(o.a)(Object(o.a)({},n),{},{difficultySettings:e.id}))},lines:e.lines},e.id)},s=j.a.useContext(k.a).consented;return Object(i.jsxs)("div",{className:"difficulty startdetails",children:[Object(i.jsx)(S,{}),Object(i.jsx)("div",{className:"title",children:"Difficulty"}),Object(i.jsxs)(T,{id:"difficulty",children:[Object(i.jsx)(F,{skip:s,children:Object(i.jsx)(P,{})}),Object(i.jsx)(F,{children:w.slice(0,3).map(r)}),Object(i.jsx)(F,{children:w.slice(3).map(r)}),Object(i.jsxs)(F,{skip:!0,children:[Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"Draw Mode"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"description",children:["triple"==w[n.difficultySettings].settings.drawMode?"Turn 3 cards at once from the Stock to the Waste.":null,"single"==w[n.difficultySettings].settings.drawMode?"Turn 1 card after the other from the Stock to the Waste.":null]})]}),Object(i.jsxs)("div",{className:"togglecontainer",children:[Object(i.jsx)("div",{className:"title",children:"Pass Limit"}),Object(i.jsx)("div",{className:"toggle"}),Object(i.jsxs)("div",{className:"description",children:["1-pass"==w[n.difficultySettings].settings.recyclingMode?"One pass through the deck. Waste can not be recycled to the Stock.":null,"3-pass"==w[n.difficultySettings].settings.recyclingMode?"Three passes through the deck. Waste can be recycled to Stock two times.":null,"infinite"==w[n.difficultySettings].settings.recyclingMode?"No limit on passes through the deck. Waste can be recycled to Stock endlessly.":null]})]})]})]})]})},H=t(37),W=function(e){var n=j.a.useRef(null);D(e,n);var t=j.a.useContext(m.a),c=t.navigation,a=t.setNavigation;return Object(i.jsxs)("div",{className:E("togglecontainer",e),children:[Object(i.jsxs)("div",{className:"title",children:[e.label,": ",e.values[e.value].label]}),Object(i.jsx)("div",{className:"button",children:Object(i.jsx)("button",{ref:n,onClick:function(){e.callBack((e.value+1<e.values.length?e.value+1:0).toString()),a(Object(o.a)(Object(o.a)({},c),{},{screen:{x:e.x,y:e.y}}))},disabled:!!e.disabled,onFocus:function(){e.hasFocus||a(Object(o.a)(Object(o.a)({},c),{},{screen:{x:e.x,y:e.y}}))},children:"\ud83d\udd01"})}),Object(i.jsx)("div",{className:"description",children:e.description})]})},G=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n,t,o=j.a.useContext(m.a).navigation,c={x:e.x||0,y:e.y||0};return Object(i.jsx)(W,{x:c.x,y:c.y,disabled:!!e.disabled,hasFocus:(n=c.y,t=c.x,"screen"==o.focus&&o.screen.x==t&&o.screen.y==n),label:e.label,description:e.description,value:e.value,values:e.values,callBack:e.callBack})},z=(t(50),t(51)),V=t.n(z),K=function(e){var n=j.a.useRef(null);D(e,n);var t=j.a.useContext(m.a),c=t.navigation,a=t.setNavigation;return function(e,n,t){j.a.useEffect((function(){e.autoFocus&&!e.hasFocus&&n&&n.current&&n.current!==document.activeElement&&-1==t.x&&-1==t.y&&n.current.focus()}),[n])}(e,n,c.screen),Object(i.jsxs)("div",{className:E("togglecontainer",e),children:[Object(i.jsx)("div",{className:"title",children:e.label}),Object(i.jsx)("div",{className:"toggle",children:Object(i.jsx)(V.a,{ref:n,disabled:!!e.disabled,autoFocus:e.hasFocus,onFocus:function(){e.hasFocus||a(Object(o.a)(Object(o.a)({},c),{},{screen:{x:e.x,y:e.y}}))},checked:e.value,onChange:function(){return n=!e.value,t={x:e.x,y:e.y},a(Object(o.a)(Object(o.a)({},c),{},{screen:t})),void e.callBack(n);var n,t}})}),Object(i.jsx)("div",{className:"description",children:e.description})]})},X=function(e){if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var n,t,o=j.a.useContext(m.a).navigation,c={x:e.x||0,y:e.y||0};return Object(i.jsx)(K,{x:c.x,y:c.y,disabled:!!e.disabled,hasFocus:(n=c.y,t=c.x,"screen"==o.focus&&o.screen.x==t&&o.screen.y==n),label:e.label,description:e.description,value:e.value,callBack:e.callBack,autoFocus:e.autoFocus})},Y=function(e){return[{entropy:2,quickDeal:!1,lines:[(e.quickDeal?"Optimize":"Optimized")+" for Desktop"],icon:"\ud83d\udda5\ufe0f"},{entropy:1,quickDeal:!0,lines:[(e.quickDeal?"Optimized":"Optimize")+" for Mobile"],icon:"\ud83d\udcf1"}]},J=function(){var e=j.a.useContext(m.d),n=e.state,t=e.setState,c=j.a.useContext(m.a).navigation,a=j.a.useContext(k.a).consented,r=function(e){return n.quickDeal==e};return Object(i.jsxs)("div",{className:"quickstart startdetails",children:[Object(i.jsx)(S,{}),Object(i.jsx)("div",{className:"title",children:"Various"}),Object(i.jsxs)(T,{id:"settings",children:[Object(i.jsx)(F,{skip:a,children:Object(i.jsx)(P,{})}),Object(i.jsx)(F,{children:Y(n).map((function(e,a){return Object(i.jsx)(I,{icon:e.icon,id:a,autoFocus:r(e.quickDeal),className:function(n){return function(e,n,t){var i=c.screen.x==t&&c.screen.y==n,o=r(e.quickDeal)?"active active-0":"inactive-0";return o+(i?" focused":"")}(e,n.x,n.y)},lines:e.lines,onClick:function(){return t(Object(o.a)(Object(o.a)({},n),{},{quickDeal:e.quickDeal,entropySettings:{baseEntropy:e.entropy,interactionEntropy:e.entropy}}))}},a)}))}),Object(i.jsxs)(F,{children:[Object(i.jsx)(G,{label:"Base Entropy",description:"How much chaos will the stacks on the board contain by themselves?",value:n.entropySettings.baseEntropy||0,values:H.a.map((function(e,n){return{id:n,label:e}})),callBack:function(e){return t(Object(o.a)(Object(o.a)({},n),{},{entropySettings:Object(o.a)(Object(o.a)({},n.entropySettings),{},{baseEntropy:parseInt(e)})}))}}),Object(i.jsx)(G,{label:"Interaction Entropy",description:"How much chaos will each interaction add to a stack on the board?",value:n.entropySettings.interactionEntropy||0,values:H.a.map((function(e,n){return{id:n,label:e}})),callBack:function(e){return t(Object(o.a)(Object(o.a)({},n),{},{entropySettings:Object(o.a)(Object(o.a)({},n.entropySettings),{},{interactionEntropy:parseInt(e)})}))}})]}),Object(i.jsxs)(F,{children:[Object(i.jsx)(X,{label:"Instant Deal",description:"Should the deal animation at the beginning of the game be skipped?",value:n.quickDeal,callBack:function(e){return t(Object(o.a)(Object(o.a)({},n),{},{quickDeal:e}))}}),Object(i.jsx)(X,{disabled:!0,label:"Auto Deal",description:"Should the game draw one card from the stock every 5 seconds?",value:!1,callBack:function(){}})]})]})]})},Q=t(33),_=t(25),Z=function(){var e=j.a.useContext(m.d),n=e.state,t=e.setState,c=j.a.useContext(m.a).navigation,a=function(e){return n.ratingPreset==e},r=function(e){var i=Object(o.a)({},n);e(i.ratingSettings),i.ratingPreset=Q.a.matchPreset(i.ratingSettings),t(i)},s=j.a.useContext(k.a).consented;return Object(i.jsxs)("div",{className:"rating startdetails",children:[Object(i.jsx)(S,{}),Object(i.jsx)("div",{className:"title",children:"Penalties"}),Object(i.jsxs)(T,{id:"penalties",children:[Object(i.jsx)(F,{skip:s,children:Object(i.jsx)(P,{})}),Object(i.jsx)(F,{children:Q.a.ALL.map((function(e){return Object(i.jsx)(I,{icon:e.icon,id:e.id,autoFocus:a(e.id)||-1==n.ratingPreset&&0==e.id,className:function(n){return function(e,n,t){var i=a(e)?"active active-".concat(e):"inactive-".concat(e);return i+(c.screen.x==t&&c.screen.y==n?" focused":"")}(e.id,n.y,n.x)},onClick:function(){return function(e){var i=Object(o.a)({},n);Q.a.ALL[e].apply(i),t(i)}(e.id)},lines:[e.label]},e.id)}))}),Object(i.jsxs)(F,{children:[Object(i.jsx)(X,{label:"Undo Penalty",description:"Undo is enabled, but excessive use will be painful. This penalty starts with 2 and increases exponentially.",value:!!n.ratingSettings.undoPenalty,callBack:function(e){return r((function(n){n.undoPenalty=e}))}}),Object(i.jsx)(X,{label:"Time Penalty",description:"Fast players are rewarded with a time bonus, slow players will be punished.",value:!!n.ratingSettings.timedMode,callBack:function(e){return r((function(n){n.timedMode=e}))}})]}),Object(i.jsxs)(F,{children:[Object(i.jsx)(X,{label:"Hint Penalty",description:"Each manual hint will reduce the number of points by 10. This setting disables automatic suggestions. ",value:!!n.ratingSettings.hintPenalty,callBack:function(e){!function(e,i){var c=Object(o.a)({},n);e(c.ratingSettings),i(c),c.ratingPreset=Q.a.matchPreset(c.ratingSettings),t(c)}((function(n){n.hintPenalty=e}),(function(n){n.suggestionMode=e?_.a.NONE:_.a.REGULAR}))}}),Object(i.jsx)(X,{label:"Miss Penalty",description:"Be careful where you click, as each invalid action will lead to a penalty of 10 points.",value:!!n.ratingSettings.missPenalty,callBack:function(e){return r((function(n){n.missPenalty=e}))}})]})]})]})},$=function(){var e=j.a.useContext(k.a).consented,n=j.a.useContext(m.d),t=n.state,c=n.setState,a=_.a.allSuggestionModes(),r=function(e){return t.suggestionMode==e},s=function(e){return e!==_.a.NONE&&t.ratingSettings.hintPenalty};return Object(i.jsxs)("div",{className:"suggestions startdetails",children:[Object(i.jsx)(S,{}),Object(i.jsx)("div",{className:"title",children:"Suggestions"}),Object(i.jsxs)(T,{id:"settings",children:[Object(i.jsx)(F,{skip:e,children:Object(i.jsx)(P,{})}),Object(i.jsx)(F,{children:a.slice(0,2).map((function(e,n){return Object(i.jsx)(X,{value:r(e.key),disabled:s(e.key),label:e.icon+" "+e.label,callBack:function(){return c(Object(o.a)(Object(o.a)({},t),{},{suggestionMode:e.key}))},description:e.description,autoFocus:r(e.key)},n)}))}),Object(i.jsx)(F,{children:a.slice(2).map((function(e,n){return Object(i.jsx)(X,{value:r(e.key),disabled:s(e.key),label:e.icon+" "+e.label,callBack:function(){return c(Object(o.a)(Object(o.a)({},t),{},{suggestionMode:e.key}))},description:e.description,autoFocus:r(e.key)},n)}))})]})]})},ee=function(e){var n=j.a.useContext(m.a),t=n.navigation,c=n.setNavigation;return Object(i.jsx)(M.Provider,{value:{closeScreen:function(){return c(Object(o.a)(Object(o.a)({},t),{},{focus:"menu",screeen:"",mainMenu:t.mainMenu,menu:Object(o.a)({},t.menu)}))}},children:Object(i.jsx)("div",{className:"startscreen-layout",children:Object(i.jsxs)("div",{className:"startscreen-jail",children:["rating"==e.screen?Object(i.jsx)(Z,{}):null,"difficulty"==e.screen?Object(i.jsx)(q,{}):null,"settings"==e.screen?Object(i.jsx)(J,{}):null,"suggestions"==e.screen?Object(i.jsx)($,{}):null,"controls0"==e.screen?Object(i.jsx)(B,{player:0}):null,"controls1"==e.screen?Object(i.jsx)(B,{player:1}):null]})})})},ne=(t(38),t(39)),te=t(40),ie=t(41),oe=t(28),ce=function(e){return Object(i.jsx)("div",{className:"ui menu",children:Object(i.jsx)("div",{className:"startscreen-jail",children:Object(i.jsx)("div",{className:"innermenu",children:e.children})})})},ae=function(e){var n=j.a.useContext(m.a),t=n.navigation,c=n.setNavigation,a=j.a.useContext(k.a),r=a.consented,s=a.setConsented,u=function(e,n){return c(Object(o.a)(Object(o.a)({},t),{},{focus:"menu",screeen:"",mainMenu:e,menu:Object(o.a)({},n)}))},l=function(e){return c(Object(o.a)(Object(o.a)({},t),{},{menu:e}))},d=function(e,n){t.screeen!==e?function(e,n){c(Object(o.a)(Object(o.a)({},t),{},{focus:"screen",screeen:e,screen:{x:-1,y:-1},menu:Object(o.a)({},n)}))}(e,n):u(t.mainMenu,n)},f=function(e,n){return u(t.mainMenu!==e?e:"",n)},b=new N;return Object(i.jsxs)(ce,{children:[Object(i.jsx)(te.a,{label:"\u2666 Solitaire"}),Object(i.jsxs)(ie.a,{keyboardLayout:oe.a,children:[Object(i.jsx)(ne.a,{icon:"\ud83c\udfb2",title:"Single Player",onClick:function(){return e.start(O.CUSTOM.boardMode)},onFocus:l}),Object(i.jsxs)(ne.a,{icon:"\u2694\ufe0f",title:"Versus",onClick:function(e){return f("versus",e)},onFocus:l,toggled:"versus"==t.mainMenu,children:[Object(i.jsx)(ne.a,{icon:"\ud83c\udfae",title:"Player 1",onClick:function(e){return d("controls0",e)},onFocus:l,toggled:"controls0"==t.screeen}),Object(i.jsx)(ne.a,{icon:"\ud83c\udfae",title:"Player 2",onClick:function(e){return d("controls1",e)},onFocus:l,toggled:"controls1"==t.screeen}),Object(i.jsx)(ne.a,{icon:"\ud83c\udfb2",title:"Start",onClick:function(){return e.start(O.VERSUS.boardMode)},onFocus:l})]}),Object(i.jsxs)(ne.a,{icon:"\u2699\ufe0f",title:"Options",onClick:function(e){return f("custom",e)},onFocus:l,toggled:"custom"==t.mainMenu,children:[Object(i.jsx)(ne.a,{icon:"\ud83d\udcaa",title:"Difficulty",onClick:function(e){return d("difficulty",e)},onFocus:l,toggled:"difficulty"==t.screeen}),Object(i.jsx)(ne.a,{icon:"\u2696\ufe0f",title:"Penalties",onClick:function(e){return d("rating",e)},onFocus:l,toggled:"rating"==t.screeen}),Object(i.jsx)(ne.a,{icon:"\ud83d\udca1",title:"Suggestions",onClick:function(e){return d("suggestions",e)},onFocus:l,toggled:"suggestions"==t.screeen}),Object(i.jsx)(ne.a,{icon:"\ud83e\uddf0",title:"Various",onClick:function(e){return d("settings",e)},onFocus:l,toggled:"settings"==t.screeen})]}),Object(i.jsx)(ne.a,{icon:"\ud83c\udf6a",title:r?"Delete Cookie":"Allow Cookie",onClick:r?function(){var e=b.revokeConsent();confirm(e.prompt)&&(e.confirm(),s(!1))}:function(){var e=b.giveConsent();confirm(e.prompt)&&(e.confirm(),s(!0))},onFocus:l,toggled:!1})]})]})},re=function(e){var n=new N,t=j.a.useState(!!n.hasConsent()),a=Object(c.a)(t,2),r=a[0],s=a[1],u=n.getPreviousState(),l=j.a.useState(u||m.e),d=Object(c.a)(l,2),f=d[0],b=d[1],y={x:0,y:0},h=j.a.useState({menu:Object(o.a)({},y),screen:Object(o.a)({},y),focus:"menu",mainMenu:"",screeen:""}),p=Object(c.a)(h,2),g=p[0],v=p[1],x={state:f,setState:function(e){b(e),n.store(e)}},O={navigation:g,setNavigation:v},C={consented:r,setConsented:s};return Object(i.jsx)(m.c,{value:x,children:Object(i.jsx)(m.b,{value:O,children:Object(i.jsxs)(k.b,{value:C,children:[Object(i.jsx)(ae,{start:function(n){var t=Object(o.a)(Object(o.a)(Object(o.a)({},w[f.difficultySettings].settings),f.ratingSettings),{},{baseEntropy:f.entropySettings.baseEntropy||0,interactionEntropy:f.entropySettings.interactionEntropy||0,players:Object(o.a)({},f.players),quickDeal:f.quickDeal,boardMode:n,initialized:!0,suggestionMode:f.suggestionMode,inputMode:""});e.start(t)}}),Object(i.jsx)(ee,{screen:g.screeen})]})})})},se=t(26),ue=function e(){Object(r.a)(this,e)};ue._16to9={prefix:"16-to-9",multiplier:1.7778},ue._4to3={prefix:"4-to-3",multiplier:1.3333};n.default=function(){var e=j.a.useState(0),n=Object(c.a)(e,2),r=n[0],s=n[1],u={boardMode:O.CUSTOM.boardMode,inputMode:"mouse",initialized:!1,players:a.a,drawMode:"",recyclingMode:"",interactionEntropy:0,baseEntropy:0,suggestionMode:_.a.NONE},l=j.a.useState(u),d=Object(c.a)(l,2),f=d[0],y=d[1],h=function(){y(u)},p=(new v).shuffle();if(null===f||void 0===f?void 0:f.initialized){var g=j.a.lazy((function(){return t.e(5).then(t.bind(null,62))})),m=null;return"singleplayer"==f.boardMode&&(m=Object(i.jsx)(b,{ratio:ue._4to3,children:Object(i.jsx)("div",{className:"layout-grid-container singleplayer",children:Object(i.jsx)(g,{player:0,settings:f,restart:h,deck:p})})})),"splitscreen"==f.boardMode&&(m=Object(i.jsxs)("div",{className:"game-layout-container splitscreen",children:[Object(i.jsx)("div",{className:"layout-grid-container "+f.boardMode,children:Object(i.jsx)(g,{player:0,settings:Object(o.a)(Object(o.a)({},f),{},{inputMode:f.players[0].inputMethod}),restart:h,deck:p.copy()})}),Object(i.jsx)("div",{className:"layout-grid-container "+f.boardMode,children:Object(i.jsx)(g,{player:1,settings:Object(o.a)(Object(o.a)({},f),{},{inputMode:f.players[1].inputMethod}),restart:h,deck:p.copy()})})]})),Object(i.jsx)(se.a,{started:r,children:Object(i.jsx)(x.a,{delay:500,fallback:Object(i.jsx)("h3",{children:"Loading..."}),children:m})})}return Object(i.jsx)(b,{ratio:ue._16to9,children:Object(i.jsx)(re,{start:function(e){p.shuffle(),y(Object(o.a)({},e)),s(Date.now())}})})}},,,function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return u}));var i=t(1),o=t.n(i),c={state:null,replaceContext:function(){},updateContext:function(){},updateGameContext:function(){},restart:function(){}},a=o.a.createContext(c),r=a.Provider;n.d=a;var s=o.a.createContext({consented:!1,setConsented:function(){}}),u=s.Provider},function(e,n,t){"use strict";t.d(n,"e",(function(){return l})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return j})),t.d(n,"b",(function(){return b}));var i=t(17),o=t(31),c=t(33),a=t(1),r=t.n(a),s=t(25),u=function(){try{var e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||"undefined"!==typeof window.DocumentTouch&&document instanceof window.DocumentTouch||(n=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(n).matches)}catch(t){return console.error("(Touch detect failed)",t),!1}var n},l={ratingSettings:Object(i.a)({},c.a.REGULAR),difficultySettings:1,ratingPreset:1,quickDeal:u(),entropySettings:{baseEntropy:u()?1:2,interactionEntropy:u()?1:2},suggestionMode:s.a.REGULAR,players:o.a},d=r.a.createContext({navigation:{menu:{x:0,y:0},screen:{x:0,y:0},focus:"menu",mainMenu:"",screeen:""},setNavigation:function(){}}),f=r.a.createContext({state:{difficultySettings:0,ratingPreset:0,ratingSettings:{},entropySettings:{},quickDeal:!1,suggestionMode:s.a.REGULAR,players:o.a},setState:function(){}}),j=f.Provider,b=d.Provider;n.d=f},,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t(17),o=t(16),c=t(20),a=function(){function e(n,t,i){var c=this;Object(o.a)(this,e),this.causeEntropy=function(e){if(0!=e){var n=2*e,t=function(){return Math.random()<.5},i=function(e,n){return Math.random()*(n-e)+e};t()&&(t()?c.entropyStyle.left=i(0,n/20)+"vw":c.entropyStyle.right=i(0,n/20)+"vw"),c.entropyStyle.transform="rotate("+i(-1*n,n)+"deg)"}else c.entropyStyle={}},this.equals=function(n){return e.equals(c,n)},this.face=n,this.type=t,this.isHidden=i,this.entropyStyle={},this.source="",this.suggestion=!1,this.canClick=function(){},this.onClick=function(e){}}return Object(c.a)(e,null,[{key:"equals",value:function(e,n){return!e&&!n||e&&n&&n.face==e.face&&n.type.icon==e.type.icon}}]),e}();a.copy=function(e){var n=new a(e.face,e.type,e.isHidden);return n.source=e.source,n.entropyStyle=Object(i.a)({},e.entropyStyle),n.canClick=e.canClick,n.onClick=e.onClick,n},a.copyAll=function(e){return e.map((function(e){return a.copy(e)}))}},function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t(16),o=function e(n,t){Object(i.a)(this,e),this.key=void 0,this.label=void 0,this.isTemporary=void 0,this.supportsHints=void 0,this.next=void 0,this.icon=void 0,this.description=void 0,this.key=n,this.label=t.label,this.icon=t.icon,this.description=t.description,this.isTemporary=!!t.isTemporary,this.supportsHints=!!t.supportsHints,this.next=t.next},c=function e(){Object(i.a)(this,e)};c.NONE="NONE",c.SCORED="SCORED",c.REGULAR="REGULAR",c.FULL="FULL",c.ONCE="ONCE",c.TWICE="TWICE",c.raw={NONE:{label:"None",description:"No distractions. This enables one-time hints.",supportsHints:!0,icon:"\u274c"},SCORED:{label:"Scored",description:"Shows all actions that increase the score.",icon:"\ud83c\udfc6"},REGULAR:{label:"Regular",description:"Shows all possible actions except circular",icon:"\ud83d\udca1"},FULL:{label:"Full",description:"Shows all possible actions, even if they are circular",icon:"\ud83c\udf93"},ONCE:{label:"Single Action",description:"triggered by manual hint in game",isTemporary:!0,next:"NONE",icon:"\u23f3"}},c.get=function(e){return new o(e,c.raw[e])},c.all=function(){return Object.keys(c.raw).map(c.get)},c.allSuggestionModes=function(){return c.all().filter((function(e){return!e.isTemporary}))},c.default=function(){return c.get(c.REGULAR)},c.getHintMode=function(){return c.get(c.ONCE)},c.next=function(e){var n=c.allSuggestionModes();if(n[n.length-1].key==e.key)return n[0];for(var t=0;t<n.length;t++)if(n[t].key==e.key)return n[t+1];return n[0]}},function(e,n,t){"use strict";t.d(n,"a",(function(){return j}));var i=t(0),o=t(23),c=t(17),a=t(4),r=t(1),s=t.n(r),u={started:0,end:0,paused:!1,pauses:[],pauseStartedAt:0,allowed:5,pausedBy:-1,showMenu:!1},l={state:u,togglePause:function(){},getElapsed:function(){return""}},d=s.a.createContext(l),f=d.Provider,j=function(e){var n=s.a.useState(Object(c.a)({},u)),t=Object(a.a)(n,2),r=t[0],l=t[1],d={state:Object(c.a)(Object(c.a)({},r),{},{started:e.started}),togglePause:function(e,n){r.showMenu?l(Object(c.a)(Object(c.a)({},r),{},{pausedBy:n,pauses:[].concat(Object(o.a)(r.pauses),[Date.now()-r.pauseStartedAt]),pauseStartedAt:0,paused:!1,showMenu:!1})):r.pauses.length<r.allowed?l(Object(c.a)(Object(c.a)({},r),{},{pausedBy:n,pauseStartedAt:Date.now(),paused:!0,showMenu:!0})):l(Object(c.a)(Object(c.a)({},r),{},{pausedBy:n,pauseStartedAt:0,paused:!1,showMenu:!0}))},getElapsed:function(){var n=function(e){return 1==(e+"").length?"0"+e:e},t=function(){var n=r.pauses.reduce((function(e,n){return e+n}),0);return(r.end||r.pauseStartedAt||Date.now())-e.started-n}(),i=Math.floor(t/1e3/60/60);t-=1e3*i*60*60;var o=Math.floor(t/1e3/60);t-=1e3*o*60;var c=Math.floor(t/1e3);return t-=1e3*c,i?i+":"+n(o)+":"+n(c):n(o)+":"+n(c)}};return Object(i.jsx)(f,{value:d,children:e.children})};n.b=d},,function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return r}));var i=function(e){if(0==e)return c;if(1==e)return o;if(2==e)return a;throw"Unknown keyboard layout ID"},o={up:function(e){return 38==e.keyCode},down:function(e){return 40==e.keyCode},right:function(e){return 39==e.keyCode},left:function(e){return 37==e.keyCode},cancel:function(e){return 27==e.keyCode},action:function(e){return 96==e.keyCode},undo:function(e){return 90==e.keyCode&&e.ctrlKey},hint:function(e){return 72==e.keyCode},pause:function(e){return 80==e.keyCode},menu:function(e){return 77==e.keyCode}},c={up:function(e){return 87==e.keyCode},down:function(e){return 83==e.keyCode},right:function(e){return 68==e.keyCode},left:function(e){return 65==e.keyCode},cancel:function(e){return 69==e.keyCode},action:function(e){return 81==e.keyCode},undo:function(e){return 88==e.keyCode},hint:function(e){return 90==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 27==e.keyCode}},a={up:function(e){return 104==e.keyCode},down:function(e){return 101==e.keyCode},right:function(e){return 102==e.keyCode},left:function(e){return 100==e.keyCode},cancel:function(e){return 105==e.keyCode},action:function(e){return 103==e.keyCode},undo:function(e){return 98==e.keyCode},hint:function(e){return 97==e.keyCode},pause:function(e){return 999==e.keyCode},menu:function(e){return 99==e.keyCode}},r={up:function(e){return a.up(e)||c.up(e)||o.up(e)},down:function(e){return a.down(e)||c.down(e)||o.down(e)},right:function(e){return a.right(e)||c.right(e)||o.right(e)},left:function(e){return a.left(e)||c.left(e)||o.left(e)},cancel:function(e){return a.cancel(e)||c.cancel(e)||o.cancel(e)},action:function(e){return a.action(e)||c.action(e)||o.action(e)},undo:function(e){return a.undo(e)||c.undo(e)||o.undo(e)},hint:function(e){return a.hint(e)||c.hint(e)||o.hint(e)},pause:function(e){return a.pause(e)||c.pause(e)||o.pause(e)},menu:function(e){return a.menu(e)||c.menu(e)||o.menu(e)}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return a}));var i=t(23),o=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],c=function(){return["A"].concat(Object(i.a)(o.slice(0,o.length-1))).reverse()},a=function(){return[].concat(o)}},function(e,n,t){"use strict";var i=t(0),o=(t(1),t(47)),c=t.n(o),a=t(6);n.a=function(e){return Object(i.jsx)(a.a,{delay:125,children:Object(i.jsx)(c.a,{gamepadIndex:e.gamepadIndex,onButtonDown:function(n){console.debug(n),"DPadLeft"==n&&e.onLeft&&e.onLeft(),"DPadRight"==n&&e.onRight&&e.onRight(),"DPadUp"==n&&e.onUp&&e.onUp(),"DPadDown"==n&&e.onDown&&e.onDown(),"A"==n&&e.onAction&&e.onAction(),"B"==n&&e.onCancel&&e.onCancel(),"X"==n&&e.onHint&&e.onHint(),"Y"==n&&e.onUndo&&e.onUndo(),"Start"==n&&e.onPause&&e.onPause(),"Back"==n&&e.onPause&&e.onMenu()},onConnect:function(e){console.debug("connected",e)},onDisconnect:function(e){console.debug("disconnected",e)},children:Object(i.jsx)("span",{})})})}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i={0:{id:0,name:"Player 1",inputMethod:"gamepad",inputLayout:0},1:{id:1,name:"Player 2",inputMethod:"keyboard",inputLayout:0}}},function(e,n,t){"use strict";n.a={heart:{icon:"\u2665",color:"red"},club:{icon:"\u2663",color:"black"},diamond:{icon:"\u2666",color:"red"},spade:{icon:"\u2660",color:"black"}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t(16),o=t(17),c=t(25),a=function(e,n,t){!n.ratingSettings.hintPenalty&&e.hintPenalty&&(n.suggestionMode=c.a.NONE),n.ratingSettings=Object(o.a)({},e),n.ratingPreset=t},r=function e(){Object(i.a)(this,e)};r.CHILL={timedMode:!1,missPenalty:!1,undoPenalty:!1,hintPenalty:!1},r.REGULAR={timedMode:!0,missPenalty:!1,undoPenalty:!0,hintPenalty:!1},r.COMPETITIVE={timedMode:!0,missPenalty:!0,undoPenalty:!0,hintPenalty:!0},r.ALL=[{id:0,icon:"\ud83c\udf34",label:"Chill",settings:Object(o.a)({},r.CHILL),apply:function(e){return a(r.CHILL,e,0)}},{id:1,icon:"\u2696\ufe0f",label:"Regular",settings:Object(o.a)({},r.REGULAR),apply:function(e){return a(r.REGULAR,e,1)}},{id:2,icon:"\ud83c\udfc6",label:"Competitive",settings:Object(o.a)({},r.COMPETITIVE),apply:function(e){return a(r.COMPETITIVE,e,2)}}],r.matchPreset=function(e){var n=r.ALL.filter((function(n){return r.equals(n.settings,e)}));return n.length>0?n[0].id:-1},r.equals=function(e,n){return e.timedMode===n.timedMode&&e.missPenalty===n.missPenalty&&e.undoPenalty===n.undoPenalty&&e.hintPenalty===n.hintPenalty}},,function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t(0),o=t(17),c=t(28),a=t(30),r=t(36),s=t(19),u=t(1),l=t.n(u);n.b=function(e){var n=e.navigator,t=l.a.useContext(s.a),u=t.navigation,d=t.setNavigation,f=function(e){if("screen"==u.focus&&d(Object(o.a)(Object(o.a)({},u),{},{screen:e})),"menu"==u.focus)throw"Invalid navigation action"},j=function(){return d(Object(o.a)(Object(o.a)({},u),{},{focus:"menu",screeen:"",mainMenu:u.mainMenu,menu:Object(o.a)({},u.menu)}))},b=function(){return f(n.moveUp(u.screen.x,u.screen.y))},y=function(){return f(n.moveDown(u.screen.x,u.screen.y))},h=function(){return f(n.moveLeft(u.screen.x,u.screen.y))},p=function(){return f(n.moveRight(u.screen.x,u.screen.y))},g=function(){n.action(u.screen)};return"screen"==u.focus?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.a,{layout:c.a,onUp:b,onDown:y,onRight:p,onLeft:h,onAction:g,onCancel:j}),Object(i.jsx)(a.a,{onUp:b,onDown:y,onRight:p,onLeft:h,onAction:g,onCancel:j})]}):null};var d=function(e){var n=e.navigator,t=l.a.useContext(s.a),c=t.navigation,u=t.setNavigation,d=function(e){if("menu"==c.focus&&u(Object(o.a)(Object(o.a)({},c),{},{menu:e})),"screen"==c.focus)throw"Invalid navigation action"},f=function(){return u(Object(o.a)(Object(o.a)({},c),{},{focus:"menu",screeen:"",mainMenu:c.mainMenu,menu:Object(o.a)({},c.menu)}))},j=function(){return d(n.moveUp(c.menu.x,c.menu.y))},b=function(){return d(n.moveDown(c.menu.x,c.menu.y))},y=function(){return d(n.moveLeft(c.menu.x,c.menu.y))},h=function(){return d(n.moveRight(c.menu.x,c.menu.y))},p=function(){n.action(c.menu)};return"menu"==c.focus?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.a,{layout:e.keyboardLayout,onUp:j,onDown:b,onRight:h,onLeft:y,onAction:p,onCancel:f}),Object(i.jsx)(a.a,{onUp:j,onDown:b,onRight:h,onLeft:y,onAction:p,onCancel:f})]}):null}},function(e,n,t){"use strict";var i=t(1),o=t.n(i);n.a=function(e){var n=function(n){var t=window.event?event:n,i=e.layout;i.cancel(t)&&(e.onCancel&&e.onCancel(),n.preventDefault()),i.left(t)&&(e.onLeft&&e.onLeft(),n.preventDefault()),i.right(t)&&(e.onRight&&e.onRight(),n.preventDefault()),i.up(t)&&(e.onUp&&e.onUp(),n.preventDefault()),i.down(t)&&(e.onDown&&e.onDown(),n.preventDefault()),i.action(t)&&(e.onAction&&e.onAction(),n.preventDefault()),i.undo(t)&&(e.onUndo&&e.onUndo(),n.preventDefault()),i.hint(t)&&(e.onHint&&e.onHint(),n.preventDefault()),i.pause(t)&&(e.onPause&&e.onPause(),n.preventDefault()),i.menu(t)&&(e.onPause&&e.onMenu(),n.preventDefault())};return o.a.useEffect((function(){return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[e]),null}},function(e,n,t){"use strict";n.a=["none","low","regular","high","extreme"]},function(e,n,t){},function(e,n,t){"use strict";var i=t(0),o=t(4),c=t(17),a=t(19),r=t(1),s=t.n(r),u=function(e){var n=s.a.useRef(null),t="";e.y>0&&(t+=" indented"),e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&!e.skip&&(t+=" highlight"),s.a.useEffect((function(){e.menuX==e.x&&e.menuY==e.y&&"menu"==e.menuFocus&&n.current&&n.current!==document.activeElement&&(u(!0),n&&n.current&&n.current.focus())}),[e.menuFocus,e.menuX,e.menuY,e.x,e.y]),e.active&&(t+=" active");var c=s.a.useState(!1),a=Object(o.a)(c,2),r=a[0],u=a[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("button",{ref:n,className:t,title:e.title,onFocus:function(){r||e.menuX==e.x&&e.menuY==e.y||"menu"!=e.menuFocus||(e.onFocus({x:e.x,y:e.y}),u(!1))},onClick:function(){u(!1),e.onClick({x:e.x,y:e.y})},disabled:e.skip,onMouseDown:function(){return u(!0)},children:[Object(i.jsx)("div",{className:"icon",children:e.icon}),Object(i.jsx)("div",{className:"label",children:e.title})]}),Object(i.jsx)("div",{children:e.toggled?e.children:null})]})};n.a=function(e){var n;if("undefined"==typeof e.x||"undefined"==typeof e.y)return null;var t=s.a.useContext(a.a).navigation;return Object(i.jsx)(u,{title:e.title,x:e.x||0,y:e.y||0,icon:e.icon,menuX:t.menu.x,menuY:t.menu.y,menuFocus:t.focus,disabled:e.disabled,active:!1,onFocus:e.onFocus,onClick:e.onClick,toggled:!!e.toggled,skip:e.skip,children:null===(n=e.children)||void 0===n?void 0:n.map((function(n,t){var i;return((null===(i=e.navigator)||void 0===i?void 0:i.rows)||[])[e.x||0].buttons[t+1]=Object(c.a)(Object(c.a)({},e),{},{x:e.x,y:t+1}),s.a.cloneElement(n,{key:t,x:e.x,y:t+1,navigator:e.navigator})}))})}},function(e,n,t){"use strict";var i=t(0);t(1);n.a=function(e){return Object(i.jsx)("div",{className:"title maintitle",children:e.label})}},function(e,n,t){"use strict";var i=t(0),o=t(17),c=t(1),a=t.n(c),r=t(35),s=t(16),u=function e(){var n=this;Object(s.a)(this,e),this.rows=void 0,this.getRows=function(){return n.rows},this.getRow=function(e){return n.getRows()[e]},this.goToRow=function(e){var t=n.getRows()[e.y];return t.buttons.length-1<e.x?Object(o.a)(Object(o.a)({},e),{},{x:t.buttons.length-1}):e},this.moveUp=function(e,t){if(0==e)return{x:n.rows.length-1,y:0};if(t>0)return{x:e,y:t-1};if(0==t){var i=n.getRow(e-1);return i.toggled?{x:e-1,y:i.buttons.length-1}:{x:e-1,y:t}}return{x:e-1,y:t}},this.moveDown=function(e,t){var i=n.getRow(e);return 0==t&&i.toggled?{x:e,y:1}:t>0&&t<i.buttons.length-1?{x:e,y:t+1}:t>0?{x:e+1,y:0}:e<n.rows.length-1?{x:e+1,y:t}:{x:0,y:0}},this.moveLeft=function(e,n){return{x:e,y:n}},this.moveRight=function(e,n){return{x:e,y:n}},this.action=function(){var e=document.activeElement;e&&e.click()},this.rows=[]};n.a=function(e){var n=new u;n.rows=[];var t=-1,c=-1;return Object(i.jsxs)(i.Fragment,{children:[e.children.map((function(e){return c++,e.props.skip||(t++,n.rows[t]=Object(o.a)(Object(o.a)({x:t,y:0},e.props),{},{buttons:[]})),a.a.cloneElement(e,{key:c,x:t,y:0,navigator:n})})),Object(i.jsx)(r.a,{navigator:n,keyboardLayout:e.keyboardLayout})]})}},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},,,,function(e,n,t){}]]);
//# sourceMappingURL=2.7bb17cfd.chunk.js.map